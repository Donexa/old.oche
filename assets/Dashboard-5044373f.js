var Lf=Object.defineProperty;var Af=(t,e,n)=>e in t?Lf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ae=(t,e,n)=>(Af(t,typeof e!="symbol"?e+"":e,n),n);import{s as Mf,r as le,u as wi,j as S,a as Ci,R as oe,M as vt,b as ge,c as Ze,I as _t,A as Ne,d as Ft,N as Rl,e as Vr,f as he,g as Pe,h as Jt,i as _n,k as Nf,l as As,m as Xt,n as Fn,o as Ur,p as xn,q as wn,t as ye,v as Dl,w as Of,x as Rf,y as Wr,L as qr,z as Df,B as $r,C as Pl,D as jl,E as Fl,F as Bl,O as Pf,G as jf,Q as Ff}from"./index-6b1f5c67.js";class Cn{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){const n={listener:e};return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const di=typeof window>"u"||"Deno"in window;function ut(){}function Bf(t,e){return typeof t=="function"?t(e):t}function ur(t){return typeof t=="number"&&t>=0&&t!==1/0}function Po(t,e){return t.filter(n=>!e.includes(n))}function If(t,e,n){const i=t.slice(0);return i[e]=n,i}function Il(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Yn(t,e,n){return Si(t)?typeof e=="function"?{...n,queryKey:t,queryFn:e}:{...e,queryKey:t}:t}function zf(t,e,n){return Si(t)?typeof e=="function"?{...n,mutationKey:t,mutationFn:e}:{...e,mutationKey:t}:typeof t=="function"?{...e,mutationFn:t}:{...t}}function zt(t,e,n){return Si(t)?[{...e,queryKey:t},n]:[t||{},e]}function jo(t,e){const{type:n="all",exact:i,fetchStatus:s,predicate:r,queryKey:a,stale:l}=t;if(Si(a)){if(i){if(e.queryHash!==Zr(a,e.options))return!1}else if(!us(e.queryKey,a))return!1}if(n!=="all"){const o=e.isActive();if(n==="active"&&!o||n==="inactive"&&o)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||typeof s<"u"&&s!==e.state.fetchStatus||r&&!r(e))}function Fo(t,e){const{exact:n,fetching:i,predicate:s,mutationKey:r}=t;if(Si(r)){if(!e.options.mutationKey)return!1;if(n){if(un(e.options.mutationKey)!==un(r))return!1}else if(!us(e.options.mutationKey,r))return!1}return!(typeof i=="boolean"&&e.state.status==="loading"!==i||s&&!s(e))}function Zr(t,e){return((e==null?void 0:e.queryKeyHashFn)||un)(t)}function un(t){return JSON.stringify(t,(e,n)=>dr(n)?Object.keys(n).sort().reduce((i,s)=>(i[s]=n[s],i),{}):n)}function us(t,e){return zl(t,e)}function zl(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!zl(t[n],e[n])):!1}function Hl(t,e){if(t===e)return t;const n=Bo(t)&&Bo(e);if(n||dr(t)&&dr(e)){const i=n?t.length:Object.keys(t).length,s=n?e:Object.keys(e),r=s.length,a=n?[]:{};let l=0;for(let o=0;o<r;o++){const d=n?o:s[o];a[d]=Hl(t[d],e[d]),a[d]===t[d]&&l++}return i===r&&l===i?t:a}return e}function fr(t,e){if(t&&!e||e&&!t)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function Bo(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function dr(t){if(!Io(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!Io(n)||!n.hasOwnProperty("isPrototypeOf"))}function Io(t){return Object.prototype.toString.call(t)==="[object Object]"}function Si(t){return Array.isArray(t)}function Vl(t){return new Promise(e=>{setTimeout(e,t)})}function zo(t){Vl(0).then(t)}function Hf(){if(typeof AbortController=="function")return new AbortController}function hr(t,e,n){return n.isDataEqual!=null&&n.isDataEqual(t,e)?t:typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Hl(t,e):e}class Vf extends Cn{constructor(){super(),this.setup=e=>{if(!di&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),window.addEventListener("focus",n,!1),()=>{window.removeEventListener("visibilitychange",n),window.removeEventListener("focus",n)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var n;this.setup=e,(n=this.cleanup)==null||n.call(this),this.cleanup=e(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()})}setFocused(e){this.focused=e,e&&this.onFocus()}onFocus(){this.listeners.forEach(({listener:e})=>{e()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const fs=new Vf,Ho=["online","offline"];class Uf extends Cn{constructor(){super(),this.setup=e=>{if(!di&&window.addEventListener){const n=()=>e();return Ho.forEach(i=>{window.addEventListener(i,n,!1)}),()=>{Ho.forEach(i=>{window.removeEventListener(i,n)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var n;this.setup=e,(n=this.cleanup)==null||n.call(this),this.cleanup=e(i=>{typeof i=="boolean"?this.setOnline(i):this.onOnline()})}setOnline(e){this.online=e,e&&this.onOnline()}onOnline(){this.listeners.forEach(({listener:e})=>{e()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const ds=new Uf;function Wf(t){return Math.min(1e3*2**t,3e4)}function Ms(t){return(t??"online")==="online"?ds.isOnline():!0}class Ul{constructor(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}}function es(t){return t instanceof Ul}function Wl(t){let e=!1,n=0,i=!1,s,r,a;const l=new Promise((c,u)=>{r=c,a=u}),o=c=>{i||(w(new Ul(c)),t.abort==null||t.abort())},d=()=>{e=!0},f=()=>{e=!1},y=()=>!fs.isFocused()||t.networkMode!=="always"&&!ds.isOnline(),b=c=>{i||(i=!0,t.onSuccess==null||t.onSuccess(c),s==null||s(),r(c))},w=c=>{i||(i=!0,t.onError==null||t.onError(c),s==null||s(),a(c))},v=()=>new Promise(c=>{s=u=>{const h=i||!y();return h&&c(u),h},t.onPause==null||t.onPause()}).then(()=>{s=void 0,i||t.onContinue==null||t.onContinue()}),x=()=>{if(i)return;let c;try{c=t.fn()}catch(u){c=Promise.reject(u)}Promise.resolve(c).then(b).catch(u=>{var h,p;if(i)return;const m=(h=t.retry)!=null?h:3,g=(p=t.retryDelay)!=null?p:Wf,_=typeof g=="function"?g(n,u):g,C=m===!0||typeof m=="number"&&n<m||typeof m=="function"&&m(n,u);if(e||!C){w(u);return}n++,t.onFail==null||t.onFail(n,u),Vl(_).then(()=>{if(y())return v()}).then(()=>{e?w(u):x()})})};return Ms(t.networkMode)?x():v().then(x),{promise:l,cancel:o,continue:()=>(s==null?void 0:s())?l:Promise.resolve(),cancelRetry:d,continueRetry:f}}const Yr=console;function qf(){let t=[],e=0,n=f=>{f()},i=f=>{f()};const s=f=>{let y;e++;try{y=f()}finally{e--,e||l()}return y},r=f=>{e?t.push(f):zo(()=>{n(f)})},a=f=>(...y)=>{r(()=>{f(...y)})},l=()=>{const f=t;t=[],f.length&&zo(()=>{i(()=>{f.forEach(y=>{n(y)})})})};return{batch:s,batchCalls:a,schedule:r,setNotifyFunction:f=>{n=f},setBatchNotifyFunction:f=>{i=f}}}const Fe=qf();class ql{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ur(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(e){this.cacheTime=Math.max(this.cacheTime||0,e??(di?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class $f extends ql{constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||Yr,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||Zf(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(e,n){const i=hr(this.state.data,e,this.options);return this.dispatch({data:i,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),i}setState(e,n){this.dispatch({type:"setState",state:e,setStateOptions:n})}cancel(e){var n;const i=this.promise;return(n=this.retryer)==null||n.cancel(e),i?i.then(ut).catch(ut):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!Il(this.state.dataUpdatedAt,e)}onFocus(){var e;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n&&n.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}onOnline(){var e;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n&&n.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,n){var i,s;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&n!=null&&n.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var r;return(r=this.retryer)==null||r.continueRetry(),this.promise}}if(e&&this.setOptions(e),!this.options.queryFn){const w=this.observers.find(v=>v.options.queryFn);w&&this.setOptions(w.options)}Array.isArray(this.options.queryKey);const a=Hf(),l={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},o=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>{if(a)return this.abortSignalConsumed=!0,a.signal}})};o(l);const d=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(l)):Promise.reject("Missing queryFn"),f={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:d};if(o(f),(i=this.options.behavior)==null||i.onFetch(f),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((s=f.fetchOptions)==null?void 0:s.meta)){var y;this.dispatch({type:"fetch",meta:(y=f.fetchOptions)==null?void 0:y.meta})}const b=w=>{if(es(w)&&w.silent||this.dispatch({type:"error",error:w}),!es(w)){var v,x,c,u;(v=(x=this.cache.config).onError)==null||v.call(x,w,this),(c=(u=this.cache.config).onSettled)==null||c.call(u,this.state.data,w,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=Wl({fn:f.fetchFn,abort:a==null?void 0:a.abort.bind(a),onSuccess:w=>{var v,x,c,u;if(typeof w>"u"){b(new Error(this.queryHash+" data is undefined"));return}this.setData(w),(v=(x=this.cache.config).onSuccess)==null||v.call(x,w,this),(c=(u=this.cache.config).onSettled)==null||c.call(u,w,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:b,onFail:(w,v)=>{this.dispatch({type:"failed",failureCount:w,error:v})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){const n=i=>{var s,r;switch(e.type){case"failed":return{...i,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(s=e.meta)!=null?s:null,fetchStatus:Ms(this.options.networkMode)?"fetching":"paused",...!i.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...i,data:e.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:(r=e.dataUpdatedAt)!=null?r:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=e.error;return es(a)&&a.revert&&this.revertState?{...this.revertState}:{...i,error:a,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...e.state}}};this.state=n(this.state),Fe.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate(e)}),this.cache.notify({query:this,type:"updated",action:e})})}}function Zf(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=typeof e<"u",i=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"loading",fetchStatus:"idle"}}class Yf extends Cn{constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}build(e,n,i){var s;const r=n.queryKey,a=(s=n.queryHash)!=null?s:Zr(r,n);let l=this.get(a);return l||(l=new $f({cache:this,logger:e.getLogger(),queryKey:r,queryHash:a,options:e.defaultQueryOptions(n),state:i,defaultOptions:e.getQueryDefaults(r)}),this.add(l)),l}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){const n=this.queriesMap[e.queryHash];n&&(e.destroy(),this.queries=this.queries.filter(i=>i!==e),n===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){Fe.batch(()=>{this.queries.forEach(e=>{this.remove(e)})})}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,n){const[i]=zt(e,n);return typeof i.exact>"u"&&(i.exact=!0),this.queries.find(s=>jo(i,s))}findAll(e,n){const[i]=zt(e,n);return Object.keys(i).length>0?this.queries.filter(s=>jo(i,s)):this.queries}notify(e){Fe.batch(()=>{this.listeners.forEach(({listener:n})=>{n(e)})})}onFocus(){Fe.batch(()=>{this.queries.forEach(e=>{e.onFocus()})})}onOnline(){Fe.batch(()=>{this.queries.forEach(e=>{e.onOnline()})})}}class Kf extends ql{constructor(e){super(),this.defaultOptions=e.defaultOptions,this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.logger=e.logger||Yr,this.observers=[],this.state=e.state||$l(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(e){this.dispatch({type:"setState",state:e})}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.observers=this.observers.filter(n=>n!==e),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var e,n;return(e=(n=this.retryer)==null?void 0:n.continue())!=null?e:this.execute()}async execute(){const e=()=>{var C;return this.retryer=Wl({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(E,k)=>{this.dispatch({type:"failed",failureCount:E,error:k})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(C=this.options.retry)!=null?C:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},n=this.state.status==="loading";try{var i,s,r,a,l,o,d,f;if(!n){var y,b,w,v;this.dispatch({type:"loading",variables:this.options.variables}),await((y=(b=this.mutationCache.config).onMutate)==null?void 0:y.call(b,this.state.variables,this));const E=await((w=(v=this.options).onMutate)==null?void 0:w.call(v,this.state.variables));E!==this.state.context&&this.dispatch({type:"loading",context:E,variables:this.state.variables})}const C=await e();return await((i=(s=this.mutationCache.config).onSuccess)==null?void 0:i.call(s,C,this.state.variables,this.state.context,this)),await((r=(a=this.options).onSuccess)==null?void 0:r.call(a,C,this.state.variables,this.state.context)),await((l=(o=this.mutationCache.config).onSettled)==null?void 0:l.call(o,C,null,this.state.variables,this.state.context,this)),await((d=(f=this.options).onSettled)==null?void 0:d.call(f,C,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:C}),C}catch(C){try{var x,c,u,h,p,m,g,_;throw await((x=(c=this.mutationCache.config).onError)==null?void 0:x.call(c,C,this.state.variables,this.state.context,this)),await((u=(h=this.options).onError)==null?void 0:u.call(h,C,this.state.variables,this.state.context)),await((p=(m=this.mutationCache.config).onSettled)==null?void 0:p.call(m,void 0,C,this.state.variables,this.state.context,this)),await((g=(_=this.options).onSettled)==null?void 0:g.call(_,void 0,C,this.state.variables,this.state.context)),C}finally{this.dispatch({type:"error",error:C})}}}dispatch(e){const n=i=>{switch(e.type){case"failed":return{...i,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"loading":return{...i,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!Ms(this.options.networkMode),status:"loading",variables:e.variables};case"success":return{...i,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:e.error,failureCount:i.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"};case"setState":return{...i,...e.state}}};this.state=n(this.state),Fe.batch(()=>{this.observers.forEach(i=>{i.onMutationUpdate(e)}),this.mutationCache.notify({mutation:this,type:"updated",action:e})})}}function $l(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class Xf extends Cn{constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}build(e,n,i){const s=new Kf({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(n),state:i,defaultOptions:n.mutationKey?e.getMutationDefaults(n.mutationKey):void 0});return this.add(s),s}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter(n=>n!==e),this.notify({type:"removed",mutation:e})}clear(){Fe.batch(()=>{this.mutations.forEach(e=>{this.remove(e)})})}getAll(){return this.mutations}find(e){return typeof e.exact>"u"&&(e.exact=!0),this.mutations.find(n=>Fo(e,n))}findAll(e){return this.mutations.filter(n=>Fo(e,n))}notify(e){Fe.batch(()=>{this.listeners.forEach(({listener:n})=>{n(e)})})}resumePausedMutations(){var e;return this.resuming=((e=this.resuming)!=null?e:Promise.resolve()).then(()=>{const n=this.mutations.filter(i=>i.state.isPaused);return Fe.batch(()=>n.reduce((i,s)=>i.then(()=>s.continue().catch(ut)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function Gf(){return{onFetch:t=>{t.fetchFn=()=>{var e,n,i,s,r,a;const l=(e=t.fetchOptions)==null||(n=e.meta)==null?void 0:n.refetchPage,o=(i=t.fetchOptions)==null||(s=i.meta)==null?void 0:s.fetchMore,d=o==null?void 0:o.pageParam,f=(o==null?void 0:o.direction)==="forward",y=(o==null?void 0:o.direction)==="backward",b=((r=t.state.data)==null?void 0:r.pages)||[],w=((a=t.state.data)==null?void 0:a.pageParams)||[];let v=w,x=!1;const c=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>{var C;if((C=t.signal)!=null&&C.aborted)x=!0;else{var E;(E=t.signal)==null||E.addEventListener("abort",()=>{x=!0})}return t.signal}})},u=t.options.queryFn||(()=>Promise.reject("Missing queryFn")),h=(_,C,E,k)=>(v=k?[C,...v]:[...v,C],k?[E,..._]:[..._,E]),p=(_,C,E,k)=>{if(x)return Promise.reject("Cancelled");if(typeof E>"u"&&!C&&_.length)return Promise.resolve(_);const T={queryKey:t.queryKey,pageParam:E,meta:t.options.meta};c(T);const O=u(T);return Promise.resolve(O).then(F=>h(_,E,F,k))};let m;if(!b.length)m=p([]);else if(f){const _=typeof d<"u",C=_?d:Vo(t.options,b);m=p(b,_,C)}else if(y){const _=typeof d<"u",C=_?d:Qf(t.options,b);m=p(b,_,C,!0)}else{v=[];const _=typeof t.options.getNextPageParam>"u";m=(l&&b[0]?l(b[0],0,b):!0)?p([],_,w[0]):Promise.resolve(h([],w[0],b[0]));for(let E=1;E<b.length;E++)m=m.then(k=>{if(l&&b[E]?l(b[E],E,b):!0){const O=_?w[E]:Vo(t.options,k);return p(k,_,O)}return Promise.resolve(h(k,w[E],b[E]))})}return m.then(_=>({pages:_,pageParams:v}))}}}}function Vo(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function Qf(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}class Jf{constructor(e={}){this.queryCache=e.queryCache||new Yf,this.mutationCache=e.mutationCache||new Xf,this.logger=e.logger||Yr,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=fs.subscribe(()=>{fs.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=ds.subscribe(()=>{ds.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var e,n;this.mountCount--,this.mountCount===0&&((e=this.unsubscribeFocus)==null||e.call(this),this.unsubscribeFocus=void 0,(n=this.unsubscribeOnline)==null||n.call(this),this.unsubscribeOnline=void 0)}isFetching(e,n){const[i]=zt(e,n);return i.fetchStatus="fetching",this.queryCache.findAll(i).length}isMutating(e){return this.mutationCache.findAll({...e,fetching:!0}).length}getQueryData(e,n){var i;return(i=this.queryCache.find(e,n))==null?void 0:i.state.data}ensureQueryData(e,n,i){const s=Yn(e,n,i),r=this.getQueryData(s.queryKey);return r?Promise.resolve(r):this.fetchQuery(s)}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:n,state:i})=>{const s=i.data;return[n,s]})}setQueryData(e,n,i){const s=this.queryCache.find(e),r=s==null?void 0:s.state.data,a=Bf(n,r);if(typeof a>"u")return;const l=Yn(e),o=this.defaultQueryOptions(l);return this.queryCache.build(this,o).setData(a,{...i,manual:!0})}setQueriesData(e,n,i){return Fe.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,n,i)]))}getQueryState(e,n){var i;return(i=this.queryCache.find(e,n))==null?void 0:i.state}removeQueries(e,n){const[i]=zt(e,n),s=this.queryCache;Fe.batch(()=>{s.findAll(i).forEach(r=>{s.remove(r)})})}resetQueries(e,n,i){const[s,r]=zt(e,n,i),a=this.queryCache,l={type:"active",...s};return Fe.batch(()=>(a.findAll(s).forEach(o=>{o.reset()}),this.refetchQueries(l,r)))}cancelQueries(e,n,i){const[s,r={}]=zt(e,n,i);typeof r.revert>"u"&&(r.revert=!0);const a=Fe.batch(()=>this.queryCache.findAll(s).map(l=>l.cancel(r)));return Promise.all(a).then(ut).catch(ut)}invalidateQueries(e,n,i){const[s,r]=zt(e,n,i);return Fe.batch(()=>{var a,l;if(this.queryCache.findAll(s).forEach(d=>{d.invalidate()}),s.refetchType==="none")return Promise.resolve();const o={...s,type:(a=(l=s.refetchType)!=null?l:s.type)!=null?a:"active"};return this.refetchQueries(o,r)})}refetchQueries(e,n,i){const[s,r]=zt(e,n,i),a=Fe.batch(()=>this.queryCache.findAll(s).filter(o=>!o.isDisabled()).map(o=>{var d;return o.fetch(void 0,{...r,cancelRefetch:(d=r==null?void 0:r.cancelRefetch)!=null?d:!0,meta:{refetchPage:s.refetchPage}})}));let l=Promise.all(a).then(ut);return r!=null&&r.throwOnError||(l=l.catch(ut)),l}fetchQuery(e,n,i){const s=Yn(e,n,i),r=this.defaultQueryOptions(s);typeof r.retry>"u"&&(r.retry=!1);const a=this.queryCache.build(this,r);return a.isStaleByTime(r.staleTime)?a.fetch(r):Promise.resolve(a.state.data)}prefetchQuery(e,n,i){return this.fetchQuery(e,n,i).then(ut).catch(ut)}fetchInfiniteQuery(e,n,i){const s=Yn(e,n,i);return s.behavior=Gf(),this.fetchQuery(s)}prefetchInfiniteQuery(e,n,i){return this.fetchInfiniteQuery(e,n,i).then(ut).catch(ut)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,n){const i=this.queryDefaults.find(s=>un(e)===un(s.queryKey));i?i.defaultOptions=n:this.queryDefaults.push({queryKey:e,defaultOptions:n})}getQueryDefaults(e){if(!e)return;const n=this.queryDefaults.find(i=>us(e,i.queryKey));return n==null?void 0:n.defaultOptions}setMutationDefaults(e,n){const i=this.mutationDefaults.find(s=>un(e)===un(s.mutationKey));i?i.defaultOptions=n:this.mutationDefaults.push({mutationKey:e,defaultOptions:n})}getMutationDefaults(e){if(!e)return;const n=this.mutationDefaults.find(i=>us(e,i.mutationKey));return n==null?void 0:n.defaultOptions}defaultQueryOptions(e){if(e!=null&&e._defaulted)return e;const n={...this.defaultOptions.queries,...this.getQueryDefaults(e==null?void 0:e.queryKey),...e,_defaulted:!0};return!n.queryHash&&n.queryKey&&(n.queryHash=Zr(n.queryKey,n)),typeof n.refetchOnReconnect>"u"&&(n.refetchOnReconnect=n.networkMode!=="always"),typeof n.useErrorBoundary>"u"&&(n.useErrorBoundary=!!n.suspense),n}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...this.defaultOptions.mutations,...this.getMutationDefaults(e==null?void 0:e.mutationKey),...e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class Zl extends Cn{constructor(e,n){super(),this.client=e,this.options=n,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(n)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),Uo(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return pr(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return pr(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,n){const i=this.options,s=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),fr(i,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=i.queryKey),this.updateQuery();const r=this.hasListeners();r&&Wo(this.currentQuery,s,this.options,i)&&this.executeFetch(),this.updateResult(n),r&&(this.currentQuery!==s||this.options.enabled!==i.enabled||this.options.staleTime!==i.staleTime)&&this.updateStaleTimeout();const a=this.computeRefetchInterval();r&&(this.currentQuery!==s||this.options.enabled!==i.enabled||a!==this.currentRefetchInterval)&&this.updateRefetchInterval(a)}getOptimisticResult(e){const n=this.client.getQueryCache().build(this.client,e);return this.createResult(n,e)}getCurrentResult(){return this.currentResult}trackResult(e){const n={};return Object.keys(e).forEach(i=>{Object.defineProperty(n,i,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(i),e[i])})}),n}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...n}={}){return this.fetch({...n,meta:{refetchPage:e}})}fetchOptimistic(e){const n=this.client.defaultQueryOptions(e),i=this.client.getQueryCache().build(this.client,n);return i.isFetchingOptimistic=!0,i.fetch().then(()=>this.createResult(i,n))}fetch(e){var n;return this.executeFetch({...e,cancelRefetch:(n=e.cancelRefetch)!=null?n:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let n=this.currentQuery.fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(ut)),n}updateStaleTimeout(){if(this.clearStaleTimeout(),di||this.currentResult.isStale||!ur(this.options.staleTime))return;const n=Il(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},n)}computeRefetchInterval(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!=null?e:!1}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!(di||this.options.enabled===!1||!ur(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||fs.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,n){const i=this.currentQuery,s=this.options,r=this.currentResult,a=this.currentResultState,l=this.currentResultOptions,o=e!==i,d=o?e.state:this.currentQueryInitialState,f=o?this.currentResult:this.previousQueryResult,{state:y}=e;let{dataUpdatedAt:b,error:w,errorUpdatedAt:v,fetchStatus:x,status:c}=y,u=!1,h=!1,p;if(n._optimisticResults){const E=this.hasListeners(),k=!E&&Uo(e,n),T=E&&Wo(e,i,n,s);(k||T)&&(x=Ms(e.options.networkMode)?"fetching":"paused",b||(c="loading")),n._optimisticResults==="isRestoring"&&(x="idle")}if(n.keepPreviousData&&!y.dataUpdatedAt&&f!=null&&f.isSuccess&&c!=="error")p=f.data,b=f.dataUpdatedAt,c=f.status,u=!0;else if(n.select&&typeof y.data<"u")if(r&&y.data===(a==null?void 0:a.data)&&n.select===this.selectFn)p=this.selectResult;else try{this.selectFn=n.select,p=n.select(y.data),p=hr(r==null?void 0:r.data,p,n),this.selectResult=p,this.selectError=null}catch(E){this.selectError=E}else p=y.data;if(typeof n.placeholderData<"u"&&typeof p>"u"&&c==="loading"){let E;if(r!=null&&r.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData))E=r.data;else if(E=typeof n.placeholderData=="function"?n.placeholderData():n.placeholderData,n.select&&typeof E<"u")try{E=n.select(E),this.selectError=null}catch(k){this.selectError=k}typeof E<"u"&&(c="success",p=hr(r==null?void 0:r.data,E,n),h=!0)}this.selectError&&(w=this.selectError,p=this.selectResult,v=Date.now(),c="error");const m=x==="fetching",g=c==="loading",_=c==="error";return{status:c,fetchStatus:x,isLoading:g,isSuccess:c==="success",isError:_,isInitialLoading:g&&m,data:p,dataUpdatedAt:b,error:w,errorUpdatedAt:v,failureCount:y.fetchFailureCount,failureReason:y.fetchFailureReason,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>d.dataUpdateCount||y.errorUpdateCount>d.errorUpdateCount,isFetching:m,isRefetching:m&&!g,isLoadingError:_&&y.dataUpdatedAt===0,isPaused:x==="paused",isPlaceholderData:h,isPreviousData:u,isRefetchError:_&&y.dataUpdatedAt!==0,isStale:Kr(e,n),refetch:this.refetch,remove:this.remove}}updateResult(e){const n=this.currentResult,i=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,fr(i,n))return;this.currentResult=i;const s={cache:!0},r=()=>{if(!n)return!0;const{notifyOnChangeProps:a}=this.options;if(a==="all"||!a&&!this.trackedProps.size)return!0;const l=new Set(a??this.trackedProps);return this.options.useErrorBoundary&&l.add("error"),Object.keys(this.currentResult).some(o=>{const d=o;return this.currentResult[d]!==n[d]&&l.has(d)})};(e==null?void 0:e.listeners)!==!1&&r()&&(s.listeners=!0),this.notify({...s,...e})}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const n=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const n={};e.type==="success"?n.onSuccess=!e.manual:e.type==="error"&&!es(e.error)&&(n.onError=!0),this.updateResult(n),this.hasListeners()&&this.updateTimers()}notify(e){Fe.batch(()=>{if(e.onSuccess){var n,i,s,r;(n=(i=this.options).onSuccess)==null||n.call(i,this.currentResult.data),(s=(r=this.options).onSettled)==null||s.call(r,this.currentResult.data,null)}else if(e.onError){var a,l,o,d;(a=(l=this.options).onError)==null||a.call(l,this.currentResult.error),(o=(d=this.options).onSettled)==null||o.call(d,void 0,this.currentResult.error)}e.listeners&&this.listeners.forEach(({listener:f})=>{f(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function ed(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Uo(t,e){return ed(t,e)||t.state.dataUpdatedAt>0&&pr(t,e,e.refetchOnMount)}function pr(t,e,n){if(e.enabled!==!1){const i=typeof n=="function"?n(t):n;return i==="always"||i!==!1&&Kr(t,e)}return!1}function Wo(t,e,n,i){return n.enabled!==!1&&(t!==e||i.enabled===!1)&&(!n.suspense||t.state.status!=="error")&&Kr(t,n)}function Kr(t,e){return t.isStaleByTime(e.staleTime)}class td extends Cn{constructor(e,n){super(),this.client=e,this.queries=[],this.result=[],this.observers=[],this.observersMap={},n&&this.setQueries(n)}onSubscribe(){this.listeners.size===1&&this.observers.forEach(e=>{e.subscribe(n=>{this.onUpdate(e,n)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,this.observers.forEach(e=>{e.destroy()})}setQueries(e,n){this.queries=e,Fe.batch(()=>{const i=this.observers,s=this.findMatchingObservers(this.queries);s.forEach(d=>d.observer.setOptions(d.defaultedQueryOptions,n));const r=s.map(d=>d.observer),a=Object.fromEntries(r.map(d=>[d.options.queryHash,d])),l=r.map(d=>d.getCurrentResult()),o=r.some((d,f)=>d!==i[f]);i.length===r.length&&!o||(this.observers=r,this.observersMap=a,this.result=l,this.hasListeners()&&(Po(i,r).forEach(d=>{d.destroy()}),Po(r,i).forEach(d=>{d.subscribe(f=>{this.onUpdate(d,f)})}),this.notify()))})}getCurrentResult(){return this.result}getQueries(){return this.observers.map(e=>e.getCurrentQuery())}getObservers(){return this.observers}getOptimisticResult(e){return this.findMatchingObservers(e).map(n=>n.observer.getOptimisticResult(n.defaultedQueryOptions))}findMatchingObservers(e){const n=this.observers,i=new Map(n.map(w=>[w.options.queryHash,w])),s=e.map(w=>this.client.defaultQueryOptions(w)),r=s.flatMap(w=>{const v=i.get(w.queryHash);return v!=null?[{defaultedQueryOptions:w,observer:v}]:[]}),a=new Set(r.map(w=>w.defaultedQueryOptions.queryHash)),l=s.filter(w=>!a.has(w.queryHash)),o=new Set(r.map(w=>w.observer)),d=n.filter(w=>!o.has(w)),f=w=>{const v=this.client.defaultQueryOptions(w),x=this.observersMap[v.queryHash];return x??new Zl(this.client,v)},y=l.map((w,v)=>{if(w.keepPreviousData){const x=d[v];if(x!==void 0)return{defaultedQueryOptions:w,observer:x}}return{defaultedQueryOptions:w,observer:f(w)}}),b=(w,v)=>s.indexOf(w.defaultedQueryOptions)-s.indexOf(v.defaultedQueryOptions);return r.concat(y).sort(b)}onUpdate(e,n){const i=this.observers.indexOf(e);i!==-1&&(this.result=If(this.result,i,n),this.notify())}notify(){Fe.batch(()=>{this.listeners.forEach(({listener:e})=>{e(this.result)})})}}let nd=class extends Cn{constructor(e,n){super(),this.client=e,this.setOptions(n),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var n;const i=this.options;this.options=this.client.defaultMutationOptions(e),fr(i,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),(n=this.currentMutation)==null||n.setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.currentMutation)==null||e.removeObserver(this)}}onMutationUpdate(e){this.updateResult();const n={listeners:!0};e.type==="success"?n.onSuccess=!0:e.type==="error"&&(n.onError=!0),this.notify(n)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(e,n){return this.mutateOptions=n,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:typeof e<"u"?e:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const e=this.currentMutation?this.currentMutation.state:$l(),n={...e,isLoading:e.status==="loading",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset};this.currentResult=n}notify(e){Fe.batch(()=>{if(this.mutateOptions&&this.hasListeners()){if(e.onSuccess){var n,i,s,r;(n=(i=this.mutateOptions).onSuccess)==null||n.call(i,this.currentResult.data,this.currentResult.variables,this.currentResult.context),(s=(r=this.mutateOptions).onSettled)==null||s.call(r,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)}else if(e.onError){var a,l,o,d;(a=(l=this.mutateOptions).onError)==null||a.call(l,this.currentResult.error,this.currentResult.variables,this.currentResult.context),(o=(d=this.mutateOptions).onSettled)==null||o.call(d,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}}e.listeners&&this.listeners.forEach(({listener:f})=>{f(this.currentResult)})})}};const Xr=Mf.useSyncExternalStore,Yl=le.createContext(!1),Kl=()=>le.useContext(Yl);Yl.Provider;function id(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}const sd=le.createContext(id()),Xl=()=>le.useContext(sd);function Gl(t,e){return typeof t=="function"?t(...e):!!t}const Ql=(t,e)=>{(t.suspense||t.useErrorBoundary)&&(e.isReset()||(t.retryOnMount=!1))},Jl=t=>{le.useEffect(()=>{t.clearReset()},[t])},ec=({result:t,errorResetBoundary:e,useErrorBoundary:n,query:i})=>t.isError&&!e.isReset()&&!t.isFetching&&Gl(n,[t.error,i]),tc=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},nc=(t,e)=>t.isLoading&&t.isFetching&&!e,gr=(t,e,n)=>(t==null?void 0:t.suspense)&&nc(e,n),mr=(t,e,n)=>e.fetchOptimistic(t).then(({data:i})=>{t.onSuccess==null||t.onSuccess(i),t.onSettled==null||t.onSettled(i,null)}).catch(i=>{n.clearReset(),t.onError==null||t.onError(i),t.onSettled==null||t.onSettled(void 0,i)});function ic({queries:t,context:e}){const n=wi({context:e}),i=Kl(),s=Xl(),r=le.useMemo(()=>t.map(b=>{const w=n.defaultQueryOptions(b);return w._optimisticResults=i?"isRestoring":"optimistic",w}),[t,n,i]);r.forEach(b=>{tc(b),Ql(b,s)}),Jl(s);const[a]=le.useState(()=>new td(n,r)),l=a.getOptimisticResult(r);Xr(le.useCallback(b=>i?()=>{}:a.subscribe(Fe.batchCalls(b)),[a,i]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),le.useEffect(()=>{a.setQueries(r,{listeners:!1})},[r,a]);const d=l.some((b,w)=>gr(r[w],b,i))?l.flatMap((b,w)=>{const v=r[w],x=a.getObservers()[w];if(v&&x){if(gr(v,b,i))return mr(v,x,s);nc(b,i)&&mr(v,x,s)}return[]}):[];if(d.length>0)throw Promise.all(d);const f=a.getQueries(),y=l.find((b,w)=>{var v,x;return ec({result:b,errorResetBoundary:s,useErrorBoundary:(v=(x=r[w])==null?void 0:x.useErrorBoundary)!=null?v:!1,query:f[w]})});if(y!=null&&y.error)throw y.error;return l}function rd(t,e){const n=wi({context:t.context}),i=Kl(),s=Xl(),r=n.defaultQueryOptions(t);r._optimisticResults=i?"isRestoring":"optimistic",r.onError&&(r.onError=Fe.batchCalls(r.onError)),r.onSuccess&&(r.onSuccess=Fe.batchCalls(r.onSuccess)),r.onSettled&&(r.onSettled=Fe.batchCalls(r.onSettled)),tc(r),Ql(r,s),Jl(s);const[a]=le.useState(()=>new e(n,r)),l=a.getOptimisticResult(r);if(Xr(le.useCallback(o=>{const d=i?()=>{}:a.subscribe(Fe.batchCalls(o));return a.updateResult(),d},[a,i]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),le.useEffect(()=>{a.setOptions(r,{listeners:!1})},[r,a]),gr(r,l,i))throw mr(r,a,s);if(ec({result:l,errorResetBoundary:s,useErrorBoundary:r.useErrorBoundary,query:a.getCurrentQuery()}))throw l.error;return r.notifyOnChangeProps?l:a.trackResult(l)}function je(t,e,n){const i=Yn(t,e,n);return rd(i,Zl)}function Pt(t,e,n){const i=zf(t,e,n),s=wi({context:i.context}),[r]=le.useState(()=>new nd(s,i));le.useEffect(()=>{r.setOptions(i)},[r,i]);const a=Xr(le.useCallback(o=>r.subscribe(Fe.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),l=le.useCallback((o,d)=>{r.mutate(o,d).catch(od)},[r]);if(a.error&&Gl(r.options.useErrorBoundary,[a.error]))throw a.error;return{...a,mutate:l,mutateAsync:a.mutate}}function od(){}/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function Ei(t){return t+.5|0}const Ht=(t,e,n)=>Math.max(Math.min(t,n),e);function Kn(t){return Ht(Ei(t*2.55),0,255)}function Zt(t){return Ht(Ei(t*255),0,255)}function At(t){return Ht(Ei(t/2.55)/100,0,1)}function qo(t){return Ht(Ei(t*100),0,100)}const lt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},yr=[..."0123456789ABCDEF"],ad=t=>yr[t&15],ld=t=>yr[(t&240)>>4]+yr[t&15],Ri=t=>(t&240)>>4===(t&15),cd=t=>Ri(t.r)&&Ri(t.g)&&Ri(t.b)&&Ri(t.a);function ud(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&lt[t[1]]*17,g:255&lt[t[2]]*17,b:255&lt[t[3]]*17,a:e===5?lt[t[4]]*17:255}:(e===7||e===9)&&(n={r:lt[t[1]]<<4|lt[t[2]],g:lt[t[3]]<<4|lt[t[4]],b:lt[t[5]]<<4|lt[t[6]],a:e===9?lt[t[7]]<<4|lt[t[8]]:255})),n}const fd=(t,e)=>t<255?e(t):"";function dd(t){var e=cd(t)?ad:ld;return t?"#"+e(t.r)+e(t.g)+e(t.b)+fd(t.a,e):void 0}const hd=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function sc(t,e,n){const i=e*Math.min(n,1-n),s=(r,a=(r+t/30)%12)=>n-i*Math.max(Math.min(a-3,9-a,1),-1);return[s(0),s(8),s(4)]}function pd(t,e,n){const i=(s,r=(s+t/60)%6)=>n-n*e*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function gd(t,e,n){const i=sc(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)i[s]*=1-e-n,i[s]+=e;return i}function md(t,e,n,i,s){return t===s?(e-n)/i+(e<n?6:0):e===s?(n-t)/i+2:(t-e)/i+4}function Gr(t){const n=t.r/255,i=t.g/255,s=t.b/255,r=Math.max(n,i,s),a=Math.min(n,i,s),l=(r+a)/2;let o,d,f;return r!==a&&(f=r-a,d=l>.5?f/(2-r-a):f/(r+a),o=md(n,i,s,f,r),o=o*60+.5),[o|0,d||0,l]}function Qr(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(Zt)}function Jr(t,e,n){return Qr(sc,t,e,n)}function yd(t,e,n){return Qr(gd,t,e,n)}function bd(t,e,n){return Qr(pd,t,e,n)}function rc(t){return(t%360+360)%360}function vd(t){const e=hd.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?Kn(+e[5]):Zt(+e[5]));const s=rc(+e[2]),r=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?i=yd(s,r,a):e[1]==="hsv"?i=bd(s,r,a):i=Jr(s,r,a),{r:i[0],g:i[1],b:i[2],a:n}}function _d(t,e){var n=Gr(t);n[0]=rc(n[0]+e),n=Jr(n),t.r=n[0],t.g=n[1],t.b=n[2]}function xd(t){if(!t)return;const e=Gr(t),n=e[0],i=qo(e[1]),s=qo(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${s}%, ${At(t.a)})`:`hsl(${n}, ${i}%, ${s}%)`}const $o={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Zo={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function wd(){const t={},e=Object.keys(Zo),n=Object.keys($o);let i,s,r,a,l;for(i=0;i<e.length;i++){for(a=l=e[i],s=0;s<n.length;s++)r=n[s],l=l.replace(r,$o[r]);r=parseInt(Zo[a],16),t[l]=[r>>16&255,r>>8&255,r&255]}return t}let Di;function Cd(t){Di||(Di=wd(),Di.transparent=[0,0,0,0]);const e=Di[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Sd=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Ed(t){const e=Sd.exec(t);let n=255,i,s,r;if(e){if(e[7]!==i){const a=+e[7];n=e[8]?Kn(a):Ht(a*255,0,255)}return i=+e[1],s=+e[3],r=+e[5],i=255&(e[2]?Kn(i):Ht(i,0,255)),s=255&(e[4]?Kn(s):Ht(s,0,255)),r=255&(e[6]?Kn(r):Ht(r,0,255)),{r:i,g:s,b:r,a:n}}}function kd(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${At(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Zs=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,En=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Td(t,e,n){const i=En(At(t.r)),s=En(At(t.g)),r=En(At(t.b));return{r:Zt(Zs(i+n*(En(At(e.r))-i))),g:Zt(Zs(s+n*(En(At(e.g))-s))),b:Zt(Zs(r+n*(En(At(e.b))-r))),a:t.a+n*(e.a-t.a)}}function Pi(t,e,n){if(t){let i=Gr(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=Jr(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function oc(t,e){return t&&Object.assign(e||{},t)}function Yo(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Zt(t[3]))):(e=oc(t,{r:0,g:0,b:0,a:1}),e.a=Zt(e.a)),e}function Ld(t){return t.charAt(0)==="r"?Ed(t):vd(t)}class hi{constructor(e){if(e instanceof hi)return e;const n=typeof e;let i;n==="object"?i=Yo(e):n==="string"&&(i=ud(e)||Cd(e)||Ld(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=oc(this._rgb);return e&&(e.a=At(e.a)),e}set rgb(e){this._rgb=Yo(e)}rgbString(){return this._valid?kd(this._rgb):void 0}hexString(){return this._valid?dd(this._rgb):void 0}hslString(){return this._valid?xd(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,s=e.rgb;let r;const a=n===r?.5:n,l=2*a-1,o=i.a-s.a,d=((l*o===-1?l:(l+o)/(1+l*o))+1)/2;r=1-d,i.r=255&d*i.r+r*s.r+.5,i.g=255&d*i.g+r*s.g+.5,i.b=255&d*i.b+r*s.b+.5,i.a=a*i.a+(1-a)*s.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=Td(this._rgb,e._rgb,n)),this}clone(){return new hi(this.rgb)}alpha(e){return this._rgb.a=Zt(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Ei(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Pi(this._rgb,2,e),this}darken(e){return Pi(this._rgb,2,-e),this}saturate(e){return Pi(this._rgb,1,e),this}desaturate(e){return Pi(this._rgb,1,-e),this}rotate(e){return _d(this._rgb,e),this}}/*!
 * Chart.js v4.3.0
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */function kt(){}const Ad=(()=>{let t=0;return()=>t++})();function Te(t){return t===null||typeof t>"u"}function Be(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function ke(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Ve(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function ot(t,e){return Ve(t)?t:e}function xe(t,e){return typeof t>"u"?e:t}const Md=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,ac=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function De(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Ae(t,e,n,i){let s,r,a;if(Be(t))if(r=t.length,i)for(s=r-1;s>=0;s--)e.call(n,t[s],s);else for(s=0;s<r;s++)e.call(n,t[s],s);else if(ke(t))for(a=Object.keys(t),r=a.length,s=0;s<r;s++)e.call(n,t[a[s]],a[s])}function hs(t,e){let n,i,s,r;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(s=t[n],r=e[n],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function ps(t){if(Be(t))return t.map(ps);if(ke(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let s=0;for(;s<i;++s)e[n[s]]=ps(t[n[s]]);return e}return t}function lc(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function Nd(t,e,n,i){if(!lc(t))return;const s=e[t],r=n[t];ke(s)&&ke(r)?pi(s,r,i):e[t]=ps(r)}function pi(t,e,n){const i=Be(e)?e:[e],s=i.length;if(!ke(t))return t;n=n||{};const r=n.merger||Nd;let a;for(let l=0;l<s;++l){if(a=i[l],!ke(a))continue;const o=Object.keys(a);for(let d=0,f=o.length;d<f;++d)r(o[d],t,a,n)}return t}function ni(t,e){return pi(t,e,{merger:Od})}function Od(t,e,n){if(!lc(t))return;const i=e[t],s=n[t];ke(i)&&ke(s)?ni(i,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=ps(s))}const Ko={"":t=>t,x:t=>t.x,y:t=>t.y};function Rd(t){const e=t.split("."),n=[];let i="";for(const s of e)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function Dd(t){const e=Rd(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function Gt(t,e){return(Ko[e]||(Ko[e]=Dd(e)))(t)}function eo(t){return t.charAt(0).toUpperCase()+t.slice(1)}const gi=t=>typeof t<"u",Qt=t=>typeof t=="function",Xo=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function Pd(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const He=Math.PI,Ie=2*He,jd=Ie+He,gs=Number.POSITIVE_INFINITY,Fd=He/180,Ue=He/2,tn=He/4,Go=He*2/3,Vt=Math.log10,St=Math.sign;function ii(t,e,n){return Math.abs(t-e)<n}function Qo(t){const e=Math.round(t);t=ii(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Vt(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function Bd(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((s,r)=>s-r).pop(),e}function Nn(t){return!isNaN(parseFloat(t))&&isFinite(t)}function Id(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function cc(t,e,n){let i,s,r;for(i=0,s=t.length;i<s;i++)r=t[i][n],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function pt(t){return t*(He/180)}function to(t){return t*(180/He)}function Jo(t){if(!Ve(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function uc(t,e){const n=e.x-t.x,i=e.y-t.y,s=Math.sqrt(n*n+i*i);let r=Math.atan2(i,n);return r<-.5*He&&(r+=Ie),{angle:r,distance:s}}function br(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function zd(t,e){return(t-e+jd)%Ie-He}function at(t){return(t%Ie+Ie)%Ie}function mi(t,e,n,i){const s=at(t),r=at(e),a=at(n),l=at(r-s),o=at(a-s),d=at(s-r),f=at(s-a);return s===r||s===a||i&&r===a||l>o&&d<f}function Ke(t,e,n){return Math.max(e,Math.min(n,t))}function Hd(t){return Ke(t,-32768,32767)}function Mt(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function no(t,e,n){n=n||(a=>t[a]<e);let i=t.length-1,s=0,r;for(;i-s>1;)r=s+i>>1,n(r)?s=r:i=r;return{lo:s,hi:i}}const Nt=(t,e,n,i)=>no(t,n,i?s=>{const r=t[s][e];return r<n||r===n&&t[s+1][e]===n}:s=>t[s][e]<n),Vd=(t,e,n)=>no(t,n,i=>t[i][e]>=n);function Ud(t,e,n){let i=0,s=t.length;for(;i<s&&t[i]<e;)i++;for(;s>i&&t[s-1]>n;)s--;return i>0||s<t.length?t.slice(i,s):t}const fc=["push","pop","shift","splice","unshift"];function Wd(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),fc.forEach(n=>{const i="_onData"+eo(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...r){const a=s.apply(this,r);return t._chartjs.listeners.forEach(l=>{typeof l[i]=="function"&&l[i](...r)}),a}})})}function ea(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(e);s!==-1&&i.splice(s,1),!(i.length>0)&&(fc.forEach(r=>{delete t[r]}),delete t._chartjs)}function dc(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const hc=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function pc(t,e){let n=[],i=!1;return function(...s){n=s,i||(i=!0,hc.call(window,()=>{i=!1,t.apply(e,n)}))}}function qd(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const io=t=>t==="start"?"left":t==="end"?"right":"center",Ge=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,$d=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function gc(t,e,n){const i=e.length;let s=0,r=i;if(t._sorted){const{iScale:a,_parsed:l}=t,o=a.axis,{min:d,max:f,minDefined:y,maxDefined:b}=a.getUserBounds();y&&(s=Ke(Math.min(Nt(l,a.axis,d).lo,n?i:Nt(e,o,a.getPixelForValue(d)).lo),0,i-1)),b?r=Ke(Math.max(Nt(l,a.axis,f,!0).hi+1,n?0:Nt(e,o,a.getPixelForValue(f),!0).hi+1),s,i)-s:r=i-s}return{start:s,count:r}}function mc(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,s={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=s,!0;const r=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,s),r}const ji=t=>t===0||t===1,ta=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Ie/n)),na=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Ie/n)+1,si={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Ue)+1,easeOutSine:t=>Math.sin(t*Ue),easeInOutSine:t=>-.5*(Math.cos(He*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>ji(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>ji(t)?t:ta(t,.075,.3),easeOutElastic:t=>ji(t)?t:na(t,.075,.3),easeInOutElastic(t){return ji(t)?t:t<.5?.5*ta(t*2,.1125,.45):.5+.5*na(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-si.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?si.easeInBounce(t*2)*.5:si.easeOutBounce(t*2-1)*.5+.5};function so(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function ia(t){return so(t)?t:new hi(t)}function Ys(t){return so(t)?t:new hi(t).saturate(.5).darken(.1).hexString()}const Zd=["x","y","borderWidth","radius","tension"],Yd=["color","borderColor","backgroundColor"];function Kd(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:Yd},numbers:{type:"number",properties:Zd}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Xd(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const sa=new Map;function Gd(t,e){e=e||{};const n=t+JSON.stringify(e);let i=sa.get(n);return i||(i=new Intl.NumberFormat(t,e),sa.set(n,i)),i}function ki(t,e,n){return Gd(e,n).format(t)}const yc={values(t){return Be(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let s,r=t;if(n.length>1){const d=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(d<1e-4||d>1e15)&&(s="scientific"),r=Qd(t,n)}const a=Vt(Math.abs(r)),l=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),o={notation:s,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(o,this.options.ticks.format),ki(t,i,o)},logarithmic(t,e,n){if(t===0)return"0";const i=n[e].significand||t/Math.pow(10,Math.floor(Vt(t)));return[1,2,3,5,10,15].includes(i)||e>.8*n.length?yc.numeric.call(this,t,e,n):""}};function Qd(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Ns={formatters:yc};function Jd(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ns.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const mn=Object.create(null),vr=Object.create(null);function ri(t,e){if(!e)return t;const n=e.split(".");for(let i=0,s=n.length;i<s;++i){const r=n[i];t=t[r]||(t[r]=Object.create(null))}return t}function Ks(t,e,n){return typeof e=="string"?pi(ri(t,e),n):pi(ri(t,""),e)}class eh{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>Ys(s.backgroundColor),this.hoverBorderColor=(i,s)=>Ys(s.borderColor),this.hoverColor=(i,s)=>Ys(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Ks(this,e,n)}get(e){return ri(this,e)}describe(e,n){return Ks(vr,e,n)}override(e,n){return Ks(mn,e,n)}route(e,n,i,s){const r=ri(this,e),a=ri(this,i),l="_"+n;Object.defineProperties(r,{[l]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const o=this[l],d=a[s];return ke(o)?Object.assign({},d,o):xe(o,d)},set(o){this[l]=o}}})}apply(e){e.forEach(n=>n(this))}}var We=new eh({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Kd,Xd,Jd]);function th(t){return!t||Te(t.size)||Te(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function ms(t,e,n,i,s){let r=e[s];return r||(r=e[s]=t.measureText(s).width,n.push(s)),r>i&&(i=r),i}function nh(t,e,n,i){i=i||{};let s=i.data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(s=i.data={},r=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let a=0;const l=n.length;let o,d,f,y,b;for(o=0;o<l;o++)if(y=n[o],y!=null&&!Be(y))a=ms(t,s,r,a,y);else if(Be(y))for(d=0,f=y.length;d<f;d++)b=y[d],b!=null&&!Be(b)&&(a=ms(t,s,r,a,b));t.restore();const w=r.length/2;if(w>n.length){for(o=0;o<w;o++)delete s[r[o]];r.splice(0,w)}return a}function nn(t,e,n){const i=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*i)/i+s}function ra(t,e){e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function _r(t,e,n,i){bc(t,e,n,i,null)}function bc(t,e,n,i,s){let r,a,l,o,d,f,y,b;const w=e.pointStyle,v=e.rotation,x=e.radius;let c=(v||0)*Fd;if(w&&typeof w=="object"&&(r=w.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(c),t.drawImage(w,-w.width/2,-w.height/2,w.width,w.height),t.restore();return}if(!(isNaN(x)||x<=0)){switch(t.beginPath(),w){default:s?t.ellipse(n,i,s/2,x,0,0,Ie):t.arc(n,i,x,0,Ie),t.closePath();break;case"triangle":f=s?s/2:x,t.moveTo(n+Math.sin(c)*f,i-Math.cos(c)*x),c+=Go,t.lineTo(n+Math.sin(c)*f,i-Math.cos(c)*x),c+=Go,t.lineTo(n+Math.sin(c)*f,i-Math.cos(c)*x),t.closePath();break;case"rectRounded":d=x*.516,o=x-d,a=Math.cos(c+tn)*o,y=Math.cos(c+tn)*(s?s/2-d:o),l=Math.sin(c+tn)*o,b=Math.sin(c+tn)*(s?s/2-d:o),t.arc(n-y,i-l,d,c-He,c-Ue),t.arc(n+b,i-a,d,c-Ue,c),t.arc(n+y,i+l,d,c,c+Ue),t.arc(n-b,i+a,d,c+Ue,c+He),t.closePath();break;case"rect":if(!v){o=Math.SQRT1_2*x,f=s?s/2:o,t.rect(n-f,i-o,2*f,2*o);break}c+=tn;case"rectRot":y=Math.cos(c)*(s?s/2:x),a=Math.cos(c)*x,l=Math.sin(c)*x,b=Math.sin(c)*(s?s/2:x),t.moveTo(n-y,i-l),t.lineTo(n+b,i-a),t.lineTo(n+y,i+l),t.lineTo(n-b,i+a),t.closePath();break;case"crossRot":c+=tn;case"cross":y=Math.cos(c)*(s?s/2:x),a=Math.cos(c)*x,l=Math.sin(c)*x,b=Math.sin(c)*(s?s/2:x),t.moveTo(n-y,i-l),t.lineTo(n+y,i+l),t.moveTo(n+b,i-a),t.lineTo(n-b,i+a);break;case"star":y=Math.cos(c)*(s?s/2:x),a=Math.cos(c)*x,l=Math.sin(c)*x,b=Math.sin(c)*(s?s/2:x),t.moveTo(n-y,i-l),t.lineTo(n+y,i+l),t.moveTo(n+b,i-a),t.lineTo(n-b,i+a),c+=tn,y=Math.cos(c)*(s?s/2:x),a=Math.cos(c)*x,l=Math.sin(c)*x,b=Math.sin(c)*(s?s/2:x),t.moveTo(n-y,i-l),t.lineTo(n+y,i+l),t.moveTo(n+b,i-a),t.lineTo(n-b,i+a);break;case"line":a=s?s/2:Math.cos(c)*x,l=Math.sin(c)*x,t.moveTo(n-a,i-l),t.lineTo(n+a,i+l);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(c)*(s?s/2:x),i+Math.sin(c)*x);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Ot(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Os(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Rs(t){t.restore()}function ih(t,e,n,i,s){if(!e)return t.lineTo(n.x,n.y);if(s==="middle"){const r=(e.x+n.x)/2;t.lineTo(r,e.y),t.lineTo(r,n.y)}else s==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function sh(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function rh(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Te(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function oh(t,e,n,i,s){if(s.strikethrough||s.underline){const r=t.measureText(i),a=e-r.actualBoundingBoxLeft,l=e+r.actualBoundingBoxRight,o=n-r.actualBoundingBoxAscent,d=n+r.actualBoundingBoxDescent,f=s.strikethrough?(o+d)/2:d;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(a,f),t.lineTo(l,f),t.stroke()}}function ah(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function yn(t,e,n,i,s,r={}){const a=Be(e)?e:[e],l=r.strokeWidth>0&&r.strokeColor!=="";let o,d;for(t.save(),t.font=s.string,rh(t,r),o=0;o<a.length;++o)d=a[o],r.backdrop&&ah(t,r.backdrop),l&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),Te(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(d,n,i,r.maxWidth)),t.fillText(d,n,i,r.maxWidth),oh(t,n,i,d,r),i+=Number(s.lineHeight);t.restore()}function yi(t,e){const{x:n,y:i,w:s,h:r,radius:a}=e;t.arc(n+a.topLeft,i+a.topLeft,a.topLeft,-Ue,He,!0),t.lineTo(n,i+r-a.bottomLeft),t.arc(n+a.bottomLeft,i+r-a.bottomLeft,a.bottomLeft,He,Ue,!0),t.lineTo(n+s-a.bottomRight,i+r),t.arc(n+s-a.bottomRight,i+r-a.bottomRight,a.bottomRight,Ue,0,!0),t.lineTo(n+s,i+a.topRight),t.arc(n+s-a.topRight,i+a.topRight,a.topRight,0,-Ue,!0),t.lineTo(n+a.topLeft,i)}const lh=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,ch=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function uh(t,e){const n=(""+t).match(lh);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const fh=t=>+t||0;function ro(t,e){const n={},i=ke(e),s=i?Object.keys(e):e,r=ke(t)?i?a=>xe(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of s)n[a]=fh(r(a));return n}function vc(t){return ro(t,{top:"y",right:"x",bottom:"y",left:"x"})}function hn(t){return ro(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Je(t){const e=vc(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ye(t,e){t=t||{},e=e||We.font;let n=xe(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=xe(t.style,e.style);i&&!(""+i).match(ch)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:xe(t.family,e.family),lineHeight:uh(xe(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:xe(t.weight,e.weight),string:""};return s.string=th(s),s}function Xn(t,e,n,i){let s=!0,r,a,l;for(r=0,a=t.length;r<a;++r)if(l=t[r],l!==void 0&&(e!==void 0&&typeof l=="function"&&(l=l(e),s=!1),n!==void 0&&Be(l)&&(l=l[n%l.length],s=!1),l!==void 0))return i&&!s&&(i.cacheable=!1),l}function dh(t,e,n){const{min:i,max:s}=t,r=ac(e,(s-i)/2),a=(l,o)=>n&&l===0?0:l+o;return{min:a(i,-Math.abs(r)),max:a(s,r)}}function en(t,e){return Object.assign(Object.create(t),e)}function oo(t,e=[""],n,i,s=()=>t[0]){const r=n||t;typeof i>"u"&&(i=Cc("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:i,_getTarget:s,override:l=>oo([l,...t],e,r,i)};return new Proxy(a,{deleteProperty(l,o){return delete l[o],delete l._keys,delete t[0][o],!0},get(l,o){return xc(l,o,()=>_h(o,e,t,l))},getOwnPropertyDescriptor(l,o){return Reflect.getOwnPropertyDescriptor(l._scopes[0],o)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,o){return aa(l).includes(o)},ownKeys(l){return aa(l)},set(l,o,d){const f=l._storage||(l._storage=s());return l[o]=f[o]=d,delete l._keys,!0}})}function On(t,e,n,i){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:_c(t,i),setContext:r=>On(t,r,n,i),override:r=>On(t.override(r),e,n,i)};return new Proxy(s,{deleteProperty(r,a){return delete r[a],delete t[a],!0},get(r,a,l){return xc(r,a,()=>ph(r,a,l))},getOwnPropertyDescriptor(r,a){return r._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(r,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(r,a,l){return t[a]=l,delete r[a],!0}})}function _c(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:i,isScriptable:Qt(n)?n:()=>n,isIndexable:Qt(i)?i:()=>i}}const hh=(t,e)=>t?t+eo(e):e,ao=(t,e)=>ke(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function xc(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const i=n();return t[e]=i,i}function ph(t,e,n){const{_proxy:i,_context:s,_subProxy:r,_descriptors:a}=t;let l=i[e];return Qt(l)&&a.isScriptable(e)&&(l=gh(e,l,t,n)),Be(l)&&l.length&&(l=mh(e,l,t,a.isIndexable)),ao(e,l)&&(l=On(l,s,r&&r[e],a)),l}function gh(t,e,n,i){const{_proxy:s,_context:r,_subProxy:a,_stack:l}=n;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let o=e(r,a||i);return l.delete(t),ao(t,o)&&(o=lo(s._scopes,s,t,o)),o}function mh(t,e,n,i){const{_proxy:s,_context:r,_subProxy:a,_descriptors:l}=n;if(typeof r.index<"u"&&i(t))return e[r.index%e.length];if(ke(e[0])){const o=e,d=s._scopes.filter(f=>f!==o);e=[];for(const f of o){const y=lo(d,s,t,f);e.push(On(y,r,a&&a[t],l))}}return e}function wc(t,e,n){return Qt(t)?t(e,n):t}const yh=(t,e)=>t===!0?e:typeof t=="string"?Gt(e,t):void 0;function bh(t,e,n,i,s){for(const r of e){const a=yh(n,r);if(a){t.add(a);const l=wc(a._fallback,n,s);if(typeof l<"u"&&l!==n&&l!==i)return l}else if(a===!1&&typeof i<"u"&&n!==i)return null}return!1}function lo(t,e,n,i){const s=e._rootScopes,r=wc(e._fallback,n,i),a=[...t,...s],l=new Set;l.add(i);let o=oa(l,a,n,r||n,i);return o===null||typeof r<"u"&&r!==n&&(o=oa(l,a,r,o,i),o===null)?!1:oo(Array.from(l),[""],s,r,()=>vh(e,n,i))}function oa(t,e,n,i,s){for(;n;)n=bh(t,e,n,i,s);return n}function vh(t,e,n){const i=t._getTarget();e in i||(i[e]={});const s=i[e];return Be(s)&&ke(n)?n:s||{}}function _h(t,e,n,i){let s;for(const r of e)if(s=Cc(hh(r,t),n),typeof s<"u")return ao(t,s)?lo(n,i,t,s):s}function Cc(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function aa(t){let e=t._keys;return e||(e=t._keys=xh(t._scopes)),e}function xh(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(i);return Array.from(e)}function Sc(t,e,n,i){const{iScale:s}=t,{key:r="r"}=this._parsing,a=new Array(i);let l,o,d,f;for(l=0,o=i;l<o;++l)d=l+n,f=e[d],a[l]={r:s.parse(Gt(f,r),d)};return a}const wh=Number.EPSILON||1e-14,Rn=(t,e)=>e<t.length&&!t[e].skip&&t[e],Ec=t=>t==="x"?"y":"x";function Ch(t,e,n,i){const s=t.skip?e:t,r=e,a=n.skip?e:n,l=br(r,s),o=br(a,r);let d=l/(l+o),f=o/(l+o);d=isNaN(d)?0:d,f=isNaN(f)?0:f;const y=i*d,b=i*f;return{previous:{x:r.x-y*(a.x-s.x),y:r.y-y*(a.y-s.y)},next:{x:r.x+b*(a.x-s.x),y:r.y+b*(a.y-s.y)}}}function Sh(t,e,n){const i=t.length;let s,r,a,l,o,d=Rn(t,0);for(let f=0;f<i-1;++f)if(o=d,d=Rn(t,f+1),!(!o||!d)){if(ii(e[f],0,wh)){n[f]=n[f+1]=0;continue}s=n[f]/e[f],r=n[f+1]/e[f],l=Math.pow(s,2)+Math.pow(r,2),!(l<=9)&&(a=3/Math.sqrt(l),n[f]=s*a*e[f],n[f+1]=r*a*e[f])}}function Eh(t,e,n="x"){const i=Ec(n),s=t.length;let r,a,l,o=Rn(t,0);for(let d=0;d<s;++d){if(a=l,l=o,o=Rn(t,d+1),!l)continue;const f=l[n],y=l[i];a&&(r=(f-a[n])/3,l[`cp1${n}`]=f-r,l[`cp1${i}`]=y-r*e[d]),o&&(r=(o[n]-f)/3,l[`cp2${n}`]=f+r,l[`cp2${i}`]=y+r*e[d])}}function kh(t,e="x"){const n=Ec(e),i=t.length,s=Array(i).fill(0),r=Array(i);let a,l,o,d=Rn(t,0);for(a=0;a<i;++a)if(l=o,o=d,d=Rn(t,a+1),!!o){if(d){const f=d[e]-o[e];s[a]=f!==0?(d[n]-o[n])/f:0}r[a]=l?d?St(s[a-1])!==St(s[a])?0:(s[a-1]+s[a])/2:s[a-1]:s[a]}Sh(t,s,r),Eh(t,r,e)}function Fi(t,e,n){return Math.max(Math.min(t,n),e)}function Th(t,e){let n,i,s,r,a,l=Ot(t[0],e);for(n=0,i=t.length;n<i;++n)a=r,r=l,l=n<i-1&&Ot(t[n+1],e),r&&(s=t[n],a&&(s.cp1x=Fi(s.cp1x,e.left,e.right),s.cp1y=Fi(s.cp1y,e.top,e.bottom)),l&&(s.cp2x=Fi(s.cp2x,e.left,e.right),s.cp2y=Fi(s.cp2y,e.top,e.bottom)))}function Lh(t,e,n,i,s){let r,a,l,o;if(e.spanGaps&&(t=t.filter(d=>!d.skip)),e.cubicInterpolationMode==="monotone")kh(t,s);else{let d=i?t[t.length-1]:t[0];for(r=0,a=t.length;r<a;++r)l=t[r],o=Ch(d,l,t[Math.min(r+1,a-(i?0:1))%a],e.tension),l.cp1x=o.previous.x,l.cp1y=o.previous.y,l.cp2x=o.next.x,l.cp2y=o.next.y,d=l}e.capBezierPoints&&Th(t,n)}function kc(){return typeof window<"u"&&typeof document<"u"}function co(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function ys(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const Ds=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function Ah(t,e){return Ds(t).getPropertyValue(e)}const Mh=["top","right","bottom","left"];function pn(t,e,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const r=Mh[s];i[r]=parseFloat(t[e+"-"+r+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const Nh=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function Oh(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:s,offsetY:r}=i;let a=!1,l,o;if(Nh(s,r,t.target))l=s,o=r;else{const d=e.getBoundingClientRect();l=i.clientX-d.left,o=i.clientY-d.top,a=!0}return{x:l,y:o,box:a}}function an(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,s=Ds(n),r=s.boxSizing==="border-box",a=pn(s,"padding"),l=pn(s,"border","width"),{x:o,y:d,box:f}=Oh(t,n),y=a.left+(f&&l.left),b=a.top+(f&&l.top);let{width:w,height:v}=e;return r&&(w-=a.width+l.width,v-=a.height+l.height),{x:Math.round((o-y)/w*n.width/i),y:Math.round((d-b)/v*n.height/i)}}function Rh(t,e,n){let i,s;if(e===void 0||n===void 0){const r=co(t);if(!r)e=t.clientWidth,n=t.clientHeight;else{const a=r.getBoundingClientRect(),l=Ds(r),o=pn(l,"border","width"),d=pn(l,"padding");e=a.width-d.width-o.width,n=a.height-d.height-o.height,i=ys(l.maxWidth,r,"clientWidth"),s=ys(l.maxHeight,r,"clientHeight")}}return{width:e,height:n,maxWidth:i||gs,maxHeight:s||gs}}const Bi=t=>Math.round(t*10)/10;function Dh(t,e,n,i){const s=Ds(t),r=pn(s,"margin"),a=ys(s.maxWidth,t,"clientWidth")||gs,l=ys(s.maxHeight,t,"clientHeight")||gs,o=Rh(t,e,n);let{width:d,height:f}=o;if(s.boxSizing==="content-box"){const b=pn(s,"border","width"),w=pn(s,"padding");d-=w.width+b.width,f-=w.height+b.height}return d=Math.max(0,d-r.width),f=Math.max(0,i?d/i:f-r.height),d=Bi(Math.min(d,a,o.maxWidth)),f=Bi(Math.min(f,l,o.maxHeight)),d&&!f&&(f=Bi(d/2)),(e!==void 0||n!==void 0)&&i&&o.height&&f>o.height&&(f=o.height,d=Bi(Math.floor(f*i))),{width:d,height:f}}function la(t,e,n){const i=e||1,s=Math.floor(t.height*i),r=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||a.height!==s||a.width!==r?(t.currentDevicePixelRatio=i,a.height=s,a.width=r,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const Ph=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{}return t}();function ca(t,e){const n=Ah(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function ln(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function jh(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function Fh(t,e,n,i){const s={x:t.cp2x,y:t.cp2y},r={x:e.cp1x,y:e.cp1y},a=ln(t,s,n),l=ln(s,r,n),o=ln(r,e,n),d=ln(a,l,n),f=ln(l,o,n);return ln(d,f,n)}const Bh=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},Ih=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Mn(t,e,n){return t?Bh(e,n):Ih()}function Tc(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function Lc(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Ac(t){return t==="angle"?{between:mi,compare:zd,normalize:at}:{between:Mt,compare:(e,n)=>e-n,normalize:e=>e}}function ua({start:t,end:e,count:n,loop:i,style:s}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:s}}function zh(t,e,n){const{property:i,start:s,end:r}=n,{between:a,normalize:l}=Ac(i),o=e.length;let{start:d,end:f,loop:y}=t,b,w;if(y){for(d+=o,f+=o,b=0,w=o;b<w&&a(l(e[d%o][i]),s,r);++b)d--,f--;d%=o,f%=o}return f<d&&(f+=o),{start:d,end:f,loop:y,style:t.style}}function Mc(t,e,n){if(!n)return[t];const{property:i,start:s,end:r}=n,a=e.length,{compare:l,between:o,normalize:d}=Ac(i),{start:f,end:y,loop:b,style:w}=zh(t,e,n),v=[];let x=!1,c=null,u,h,p;const m=()=>o(s,p,u)&&l(s,p)!==0,g=()=>l(r,u)===0||o(r,p,u),_=()=>x||m(),C=()=>!x||g();for(let E=f,k=f;E<=y;++E)h=e[E%a],!h.skip&&(u=d(h[i]),u!==p&&(x=o(u,s,r),c===null&&_()&&(c=l(u,s)===0?E:k),c!==null&&C()&&(v.push(ua({start:c,end:E,loop:b,count:a,style:w})),c=null),k=E,p=u));return c!==null&&v.push(ua({start:c,end:y,loop:b,count:a,style:w})),v}function Nc(t,e){const n=[],i=t.segments;for(let s=0;s<i.length;s++){const r=Mc(i[s],t.points,e);r.length&&n.push(...r)}return n}function Hh(t,e,n,i){let s=0,r=e-1;if(n&&!i)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,n&&(r+=s);r>s&&t[r%e].skip;)r--;return r%=e,{start:s,end:r}}function Vh(t,e,n,i){const s=t.length,r=[];let a=e,l=t[e],o;for(o=e+1;o<=n;++o){const d=t[o%s];d.skip||d.stop?l.skip||(i=!1,r.push({start:e%s,end:(o-1)%s,loop:i}),e=a=d.stop?o:null):(a=o,l.skip&&(e=o)),l=d}return a!==null&&r.push({start:e%s,end:a%s,loop:i}),r}function Uh(t,e){const n=t.points,i=t.options.spanGaps,s=n.length;if(!s)return[];const r=!!t._loop,{start:a,end:l}=Hh(n,s,r,i);if(i===!0)return fa(t,[{start:a,end:l,loop:r}],n,e);const o=l<a?l+s:l,d=!!t._fullLoop&&a===0&&l===s-1;return fa(t,Vh(n,a,o,d),n,e)}function fa(t,e,n,i){return!i||!i.setContext||!n?e:Wh(t,e,n,i)}function Wh(t,e,n,i){const s=t._chart.getContext(),r=da(t.options),{_datasetIndex:a,options:{spanGaps:l}}=t,o=n.length,d=[];let f=r,y=e[0].start,b=y;function w(v,x,c,u){const h=l?-1:1;if(v!==x){for(v+=o;n[v%o].skip;)v-=h;for(;n[x%o].skip;)x+=h;v%o!==x%o&&(d.push({start:v%o,end:x%o,loop:c,style:u}),f=u,y=x%o)}}for(const v of e){y=l?y:v.start;let x=n[y%o],c;for(b=y+1;b<=v.end;b++){const u=n[b%o];c=da(i.setContext(en(s,{type:"segment",p0:x,p1:u,p0DataIndex:(b-1)%o,p1DataIndex:b%o,datasetIndex:a}))),qh(c,f)&&w(y,b-1,v.loop,f),x=u,f=c}y<b-1&&w(y,b-1,v.loop,f)}return d}function da(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function qh(t,e){if(!e)return!1;const n=[],i=function(s,r){return so(r)?(n.includes(r)||n.push(r),n.indexOf(r)):r};return JSON.stringify(t,i)!==JSON.stringify(e,i)}/*!
 * Chart.js v4.3.0
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */class $h{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,s){const r=n.listeners[s],a=n.duration;r.forEach(l=>l({chart:e,initial:n.initial,numSteps:a,currentStep:Math.min(i-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=hc.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const r=i.items;let a=r.length-1,l=!1,o;for(;a>=0;--a)o=r[a],o._active?(o._total>i.duration&&(i.duration=o._total),o.tick(e),l=!0):(r[a]=r[r.length-1],r.pop());l&&(s.draw(),this._notify(s,i,e,"progress")),r.length||(i.running=!1,this._notify(s,i,e,"complete"),i.initial=!1),n+=r.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Tt=new $h;const ha="transparent",Zh={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=ia(t||ha),s=i.valid&&ia(e||ha);return s&&s.valid?s.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class Yh{constructor(e,n,i,s){const r=n[i];s=Xn([e.to,s,r,e.from]);const a=Xn([e.from,r,s]);this._active=!0,this._fn=e.fn||Zh[e.type||typeof a],this._easing=si[e.easing]||si.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=a,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const s=this._target[this._prop],r=i-this._start,a=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=Xn([e.to,n,s,e.from]),this._from=Xn([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,s=this._prop,r=this._from,a=this._loop,l=this._to;let o;if(this._active=r!==l&&(a||n<i),!this._active){this._target[s]=l,this._notify(!0);return}if(n<0){this._target[s]=r;return}o=n/i%2,o=a&&o>1?2-o:o,o=this._easing(Math.min(1,Math.max(0,o))),this._target[s]=this._fn(r,l,o)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][n]()}}class Oc{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!ke(e))return;const n=Object.keys(We.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const r=e[s];if(!ke(r))return;const a={};for(const l of n)a[l]=r[l];(Be(r.properties)&&r.properties||[s]).forEach(l=>{(l===s||!i.has(l))&&i.set(l,a)})})}_animateOptions(e,n){const i=n.options,s=Xh(e,i);if(!s)return[];const r=this._createAnimations(s,i);return i.$shared&&Kh(e.options.$animations,i).then(()=>{e.options=i},()=>{}),r}_createAnimations(e,n){const i=this._properties,s=[],r=e.$animations||(e.$animations={}),a=Object.keys(n),l=Date.now();let o;for(o=a.length-1;o>=0;--o){const d=a[o];if(d.charAt(0)==="$")continue;if(d==="options"){s.push(...this._animateOptions(e,n));continue}const f=n[d];let y=r[d];const b=i.get(d);if(y)if(b&&y.active()){y.update(b,f,l);continue}else y.cancel();if(!b||!b.duration){e[d]=f;continue}r[d]=y=new Yh(b,e,d,f),s.push(y)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return Tt.add(this._chart,i),!0}}function Kh(t,e){const n=[],i=Object.keys(e);for(let s=0;s<i.length;s++){const r=t[i[s]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function Xh(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function pa(t,e){const n=t&&t.options||{},i=n.reverse,s=n.min===void 0?e:0,r=n.max===void 0?e:0;return{start:i?r:s,end:i?s:r}}function Gh(t,e,n){if(n===!1)return!1;const i=pa(t,n),s=pa(e,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function Qh(t){let e,n,i,s;return ke(t)?(e=t.top,n=t.right,i=t.bottom,s=t.left):e=n=i=s=t,{top:e,right:n,bottom:i,left:s,disabled:t===!1}}function Rc(t,e){const n=[],i=t._getSortedDatasetMetas(e);let s,r;for(s=0,r=i.length;s<r;++s)n.push(i[s].index);return n}function ga(t,e,n,i={}){const s=t.keys,r=i.mode==="single";let a,l,o,d;if(e!==null){for(a=0,l=s.length;a<l;++a){if(o=+s[a],o===n){if(i.all)continue;break}d=t.values[o],Ve(d)&&(r||e===0||St(e)===St(d))&&(e+=d)}return e}}function Jh(t){const e=Object.keys(t),n=new Array(e.length);let i,s,r;for(i=0,s=e.length;i<s;++i)r=e[i],n[i]={x:r,y:t[r]};return n}function ma(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function ep(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function tp(t){const{min:e,max:n,minDefined:i,maxDefined:s}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function np(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function ya(t,e,n,i){for(const s of e.getMatchingVisibleMetas(i).reverse()){const r=t[s.index];if(n&&r>0||!n&&r<0)return s.index}return null}function ba(t,e){const{chart:n,_cachedMeta:i}=t,s=n._stacks||(n._stacks={}),{iScale:r,vScale:a,index:l}=i,o=r.axis,d=a.axis,f=ep(r,a,i),y=e.length;let b;for(let w=0;w<y;++w){const v=e[w],{[o]:x,[d]:c}=v,u=v._stacks||(v._stacks={});b=u[d]=np(s,f,x),b[l]=c,b._top=ya(b,a,!0,i.type),b._bottom=ya(b,a,!1,i.type);const h=b._visualValues||(b._visualValues={});h[l]=c}}function Xs(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function ip(t,e){return en(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function sp(t,e,n){return en(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Hn(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const s of e){const r=s._stacks;if(!r||r[i]===void 0||r[i][n]===void 0)return;delete r[i][n],r[i]._visualValues!==void 0&&r[i]._visualValues[n]!==void 0&&delete r[i]._visualValues[n]}}}const Gs=t=>t==="reset"||t==="none",va=(t,e)=>e?t:Object.assign({},t),rp=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:Rc(n,!0),values:null};class mt{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=ma(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Hn(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),s=(y,b,w,v)=>y==="x"?b:y==="r"?v:w,r=n.xAxisID=xe(i.xAxisID,Xs(e,"x")),a=n.yAxisID=xe(i.yAxisID,Xs(e,"y")),l=n.rAxisID=xe(i.rAxisID,Xs(e,"r")),o=n.indexAxis,d=n.iAxisID=s(o,r,a,l),f=n.vAxisID=s(o,a,r,l);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(l),n.iScale=this.getScaleForId(d),n.vScale=this.getScaleForId(f)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&ea(this._data,this),e._stacked&&Hn(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(ke(n))this._data=Jh(n);else if(i!==n){if(i){ea(i,this);const s=this._cachedMeta;Hn(s),s._parsed=[]}n&&Object.isExtensible(n)&&Wd(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const r=n._stacked;n._stacked=ma(n.vScale,n),n.stack!==i.stack&&(s=!0,Hn(n),n.stack=i.stack),this._resyncElements(e),(s||r!==n._stacked)&&ba(this,n._parsed)}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:s}=this,{iScale:r,_stacked:a}=i,l=r.axis;let o=e===0&&n===s.length?!0:i._sorted,d=e>0&&i._parsed[e-1],f,y,b;if(this._parsing===!1)i._parsed=s,i._sorted=!0,b=s;else{Be(s[e])?b=this.parseArrayData(i,s,e,n):ke(s[e])?b=this.parseObjectData(i,s,e,n):b=this.parsePrimitiveData(i,s,e,n);const w=()=>y[l]===null||d&&y[l]<d[l];for(f=0;f<n;++f)i._parsed[f+e]=y=b[f],o&&(w()&&(o=!1),d=y);i._sorted=o}a&&ba(this,b)}parsePrimitiveData(e,n,i,s){const{iScale:r,vScale:a}=e,l=r.axis,o=a.axis,d=r.getLabels(),f=r===a,y=new Array(s);let b,w,v;for(b=0,w=s;b<w;++b)v=b+i,y[b]={[l]:f||r.parse(d[v],v),[o]:a.parse(n[v],v)};return y}parseArrayData(e,n,i,s){const{xScale:r,yScale:a}=e,l=new Array(s);let o,d,f,y;for(o=0,d=s;o<d;++o)f=o+i,y=n[f],l[o]={x:r.parse(y[0],f),y:a.parse(y[1],f)};return l}parseObjectData(e,n,i,s){const{xScale:r,yScale:a}=e,{xAxisKey:l="x",yAxisKey:o="y"}=this._parsing,d=new Array(s);let f,y,b,w;for(f=0,y=s;f<y;++f)b=f+i,w=n[b],d[f]={x:r.parse(Gt(w,l),b),y:a.parse(Gt(w,o),b)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const s=this.chart,r=this._cachedMeta,a=n[e.axis],l={keys:Rc(s,!0),values:n._stacks[e.axis]._visualValues};return ga(l,a,r.index,{mode:i})}updateRangeFromParsed(e,n,i,s){const r=i[n.axis];let a=r===null?NaN:r;const l=s&&i._stacks[n.axis];s&&l&&(s.values=l,a=ga(s,r,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,n){const i=this._cachedMeta,s=i._parsed,r=i._sorted&&e===i.iScale,a=s.length,l=this._getOtherScale(e),o=rp(n,i,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:f,max:y}=tp(l);let b,w;function v(){w=s[b];const x=w[l.axis];return!Ve(w[e.axis])||f>x||y<x}for(b=0;b<a&&!(!v()&&(this.updateRangeFromParsed(d,e,w,o),r));++b);if(r){for(b=a-1;b>=0;--b)if(!v()){this.updateRangeFromParsed(d,e,w,o);break}}return d}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let s,r,a;for(s=0,r=n.length;s<r;++s)a=n[s][e.axis],Ve(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,s=n.vScale,r=this.getParsed(e);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:s?""+s.getLabelForValue(r[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=Qh(xe(this.options.clip,Gh(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,s=i.data||[],r=n.chartArea,a=[],l=this._drawStart||0,o=this._drawCount||s.length-l,d=this.options.drawActiveElementsOnTop;let f;for(i.dataset&&i.dataset.draw(e,r,l,o),f=l;f<l+o;++f){const y=s[f];y.hidden||(y.active&&d?a.push(y):y.draw(e,r))}for(f=0;f<a.length;++f)a[f].draw(e,r)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const s=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];r=a.$context||(a.$context=sp(this.getContext(),e,a)),r.parsed=this.getParsed(e),r.raw=s.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=ip(this.chart.getContext(),this.index)),r.dataset=s,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=i,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const s=n==="active",r=this._cachedDataOpts,a=e+"-"+n,l=r[a],o=this.enableOptionSharing&&gi(i);if(l)return va(l,o);const d=this.chart.config,f=d.datasetElementScopeKeys(this._type,e),y=s?[`${e}Hover`,"hover",e,""]:[e,""],b=d.getOptionScopes(this.getDataset(),f),w=Object.keys(We.elements[e]),v=()=>this.getContext(i,s,n),x=d.resolveNamedOptions(b,w,v,y);return x.$shared&&(x.$shared=o,r[a]=Object.freeze(va(x,o))),x}_resolveAnimations(e,n,i){const s=this.chart,r=this._cachedDataOpts,a=`animation-${n}`,l=r[a];if(l)return l;let o;if(s.options.animation!==!1){const f=this.chart.config,y=f.datasetAnimationScopeKeys(this._type,n),b=f.getOptionScopes(this.getDataset(),y);o=f.createResolver(b,this.getContext(e,i,n))}const d=new Oc(s,o&&o.animations);return o&&o._cacheable&&(r[a]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Gs(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),s=this._sharedOptions,r=this.getSharedOptions(i),a=this.includeOptions(n,r)||r!==s;return this.updateSharedOptions(r,n,i),{sharedOptions:r,includeOptions:a}}updateElement(e,n,i,s){Gs(s)?Object.assign(e,i):this._resolveAnimations(n,s).update(e,i)}updateSharedOptions(e,n,i){e&&!Gs(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,s){e.active=s;const r=this.getStyle(n,s);this._resolveAnimations(n,i,s).update(e,{options:!s&&this.getSharedOptions(r)||r})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[l,o,d]of this._syncList)this[l](o,d);this._syncList=[];const s=i.length,r=n.length,a=Math.min(r,s);a&&this.parse(0,a),r>s?this._insertElements(s,r-s,e):r<s&&this._removeElements(r,s-r)}_insertElements(e,n,i=!0){const s=this._cachedMeta,r=s.data,a=e+n;let l;const o=d=>{for(d.length+=n,l=d.length-1;l>=a;l--)d[l]=d[l-n]};for(o(r),l=e;l<a;++l)r[l]=new this.dataElementType;this._parsing&&o(s._parsed),this.parse(e,n),i&&this.updateElements(r,e,n,"reset")}updateElements(e,n,i,s){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(e,n);i._stacked&&Hn(i,s)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,s]=e;this[n](i,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ae(mt,"defaults",{}),ae(mt,"datasetElementType",null),ae(mt,"dataElementType",null);function op(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let s=0,r=n.length;s<r;s++)i=i.concat(n[s].controller.getAllParsedValues(t));t._cache.$bar=dc(i.sort((s,r)=>s-r))}return t._cache.$bar}function ap(t){const e=t.iScale,n=op(e,t.type);let i=e._length,s,r,a,l;const o=()=>{a===32767||a===-32768||(gi(l)&&(i=Math.min(i,Math.abs(a-l)||i)),l=a)};for(s=0,r=n.length;s<r;++s)a=e.getPixelForValue(n[s]),o();for(l=void 0,s=0,r=e.ticks.length;s<r;++s)a=e.getPixelForTick(s),o();return i}function lp(t,e,n,i){const s=n.barThickness;let r,a;return Te(s)?(r=e.min*n.categoryPercentage,a=n.barPercentage):(r=s*i,a=1),{chunk:r/i,ratio:a,start:e.pixels[t]-r/2}}function cp(t,e,n,i){const s=e.pixels,r=s[t];let a=t>0?s[t-1]:null,l=t<s.length-1?s[t+1]:null;const o=n.categoryPercentage;a===null&&(a=r-(l===null?e.end-e.start:l-r)),l===null&&(l=r+r-a);const d=r-(r-Math.min(a,l))/2*o;return{chunk:Math.abs(l-a)/2*o/i,ratio:n.barPercentage,start:d}}function up(t,e,n,i){const s=n.parse(t[0],i),r=n.parse(t[1],i),a=Math.min(s,r),l=Math.max(s,r);let o=a,d=l;Math.abs(a)>Math.abs(l)&&(o=l,d=a),e[n.axis]=d,e._custom={barStart:o,barEnd:d,start:s,end:r,min:a,max:l}}function Dc(t,e,n,i){return Be(t)?up(t,e,n,i):e[n.axis]=n.parse(t,i),e}function _a(t,e,n,i){const s=t.iScale,r=t.vScale,a=s.getLabels(),l=s===r,o=[];let d,f,y,b;for(d=n,f=n+i;d<f;++d)b=e[d],y={},y[s.axis]=l||s.parse(a[d],d),o.push(Dc(b,y,r,d));return o}function Qs(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function fp(t,e,n){return t!==0?St(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function dp(t){let e,n,i,s,r;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(s="end",r="start"):(s="start",r="end"),{start:n,end:i,reverse:e,top:s,bottom:r}}function hp(t,e,n,i){let s=e.borderSkipped;const r={};if(!s){t.borderSkipped=r;return}if(s===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:l,reverse:o,top:d,bottom:f}=dp(t);s==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?s=d:(n._bottom||0)===i?s=f:(r[xa(f,a,l,o)]=!0,s=d)),r[xa(s,a,l,o)]=!0,t.borderSkipped=r}function xa(t,e,n,i){return i?(t=pp(t,e,n),t=wa(t,n,e)):t=wa(t,e,n),t}function pp(t,e,n){return t===e?n:t===n?e:t}function wa(t,e,n){return t==="start"?e:t==="end"?n:t}function gp(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class oi extends mt{parsePrimitiveData(e,n,i,s){return _a(e,n,i,s)}parseArrayData(e,n,i,s){return _a(e,n,i,s)}parseObjectData(e,n,i,s){const{iScale:r,vScale:a}=e,{xAxisKey:l="x",yAxisKey:o="y"}=this._parsing,d=r.axis==="x"?l:o,f=a.axis==="x"?l:o,y=[];let b,w,v,x;for(b=i,w=i+s;b<w;++b)x=n[b],v={},v[r.axis]=r.parse(Gt(x,d),b),y.push(Dc(Gt(x,f),v,a,b));return y}updateRangeFromParsed(e,n,i,s){super.updateRangeFromParsed(e,n,i,s);const r=i._custom;r&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:i,vScale:s}=n,r=this.getParsed(e),a=r._custom,l=Qs(a)?"["+a.start+", "+a.end+"]":""+s.getLabelForValue(r[s.axis]);return{label:""+i.getLabelForValue(r[i.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,i,s){const r=s==="reset",{index:a,_cachedMeta:{vScale:l}}=this,o=l.getBasePixel(),d=l.isHorizontal(),f=this._getRuler(),{sharedOptions:y,includeOptions:b}=this._getSharedOptions(n,s);for(let w=n;w<n+i;w++){const v=this.getParsed(w),x=r||Te(v[l.axis])?{base:o,head:o}:this._calculateBarValuePixels(w),c=this._calculateBarIndexPixels(w,f),u=(v._stacks||{})[l.axis],h={horizontal:d,base:x.base,enableBorderRadius:!u||Qs(v._custom)||a===u._top||a===u._bottom,x:d?x.head:c.center,y:d?c.center:x.head,height:d?c.size:Math.abs(x.size),width:d?Math.abs(x.size):c.size};b&&(h.options=y||this.resolveDataElementOptions(w,e[w].active?"active":s));const p=h.options||e[w].options;hp(h,p,u,a),gp(h,p,f.ratio),this.updateElement(e[w],w,h,s)}}_getStacks(e,n){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(o=>o.controller.options.grouped),r=i.options.stacked,a=[],l=o=>{const d=o.controller.getParsed(n),f=d&&d[o.vScale.axis];if(Te(f)||isNaN(f))return!0};for(const o of s)if(!(n!==void 0&&l(o))&&((r===!1||a.indexOf(o.stack)===-1||r===void 0&&o.stack===void 0)&&a.push(o.stack),o.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,i){const s=this._getStacks(e,i),r=n!==void 0?s.indexOf(n):-1;return r===-1?s.length-1:r}_getRuler(){const e=this.options,n=this._cachedMeta,i=n.iScale,s=[];let r,a;for(r=0,a=n.data.length;r<a;++r)s.push(i.getPixelForValue(this.getParsed(r)[i.axis],r));const l=e.barThickness;return{min:l||ap(n),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:i,index:s},options:{base:r,minBarLength:a}}=this,l=r||0,o=this.getParsed(e),d=o._custom,f=Qs(d);let y=o[n.axis],b=0,w=i?this.applyStack(n,o,i):y,v,x;w!==y&&(b=w-y,w=y),f&&(y=d.barStart,w=d.barEnd-d.barStart,y!==0&&St(y)!==St(d.barEnd)&&(b=0),b+=y);const c=!Te(r)&&!f?r:b;let u=n.getPixelForValue(c);if(this.chart.getDataVisibility(e)?v=n.getPixelForValue(b+w):v=u,x=v-u,Math.abs(x)<a){x=fp(x,n,l)*a,y===l&&(u-=x/2);const h=n.getPixelForDecimal(0),p=n.getPixelForDecimal(1),m=Math.min(h,p),g=Math.max(h,p);u=Math.max(Math.min(u,g),m),v=u+x,i&&!f&&(o._stacks[n.axis]._visualValues[s]=n.getValueForPixel(v)-n.getValueForPixel(u))}if(u===n.getPixelForValue(l)){const h=St(x)*n.getLineWidthForValue(l)/2;u+=h,x-=h}return{size:x,base:u,head:v,center:v+x/2}}_calculateBarIndexPixels(e,n){const i=n.scale,s=this.options,r=s.skipNull,a=xe(s.maxBarThickness,1/0);let l,o;if(n.grouped){const d=r?this._getStackCount(e):n.stackCount,f=s.barThickness==="flex"?cp(e,n,s,d):lp(e,n,s,d),y=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0);l=f.start+f.chunk*y+f.chunk/2,o=Math.min(a,f.chunk*f.ratio)}else l=i.getPixelForValue(this.getParsed(e)[i.axis],e),o=Math.min(a,n.min*n.ratio);return{base:l-o/2,head:l+o/2,center:l,size:o}}draw(){const e=this._cachedMeta,n=e.vScale,i=e.data,s=i.length;let r=0;for(;r<s;++r)this.getParsed(r)[n.axis]!==null&&i[r].draw(this._ctx)}}ae(oi,"id","bar"),ae(oi,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ae(oi,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class ts extends mt{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,i,s){const r=super.parsePrimitiveData(e,n,i,s);for(let a=0;a<r.length;a++)r[a]._custom=this.resolveDataElementOptions(a+i).radius;return r}parseArrayData(e,n,i,s){const r=super.parseArrayData(e,n,i,s);for(let a=0;a<r.length;a++){const l=n[i+a];r[a]._custom=xe(l[2],this.resolveDataElementOptions(a+i).radius)}return r}parseObjectData(e,n,i,s){const r=super.parseObjectData(e,n,i,s);for(let a=0;a<r.length;a++){const l=n[i+a];r[a]._custom=xe(l&&l.r&&+l.r,this.resolveDataElementOptions(a+i).radius)}return r}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let i=e.length-1;i>=0;--i)n=Math.max(n,e[i].size(this.resolveDataElementOptions(i))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=n,a=this.getParsed(e),l=s.getLabelForValue(a.x),o=r.getLabelForValue(a.y),d=a._custom;return{label:i[e]||"",value:"("+l+", "+o+(d?", "+d:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,i,s){const r=s==="reset",{iScale:a,vScale:l}=this._cachedMeta,{sharedOptions:o,includeOptions:d}=this._getSharedOptions(n,s),f=a.axis,y=l.axis;for(let b=n;b<n+i;b++){const w=e[b],v=!r&&this.getParsed(b),x={},c=x[f]=r?a.getPixelForDecimal(.5):a.getPixelForValue(v[f]),u=x[y]=r?l.getBasePixel():l.getPixelForValue(v[y]);x.skip=isNaN(c)||isNaN(u),d&&(x.options=o||this.resolveDataElementOptions(b,w.active?"active":s),r&&(x.options.radius=0)),this.updateElement(w,b,x,s)}}resolveDataElementOptions(e,n){const i=this.getParsed(e);let s=super.resolveDataElementOptions(e,n);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const r=s.radius;return n!=="active"&&(s.radius=0),s.radius+=xe(i&&i._custom,r),s}}ae(ts,"id","bubble"),ae(ts,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),ae(ts,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function mp(t,e,n){let i=1,s=1,r=0,a=0;if(e<Ie){const l=t,o=l+e,d=Math.cos(l),f=Math.sin(l),y=Math.cos(o),b=Math.sin(o),w=(p,m,g)=>mi(p,l,o,!0)?1:Math.max(m,m*n,g,g*n),v=(p,m,g)=>mi(p,l,o,!0)?-1:Math.min(m,m*n,g,g*n),x=w(0,d,y),c=w(Ue,f,b),u=v(He,d,y),h=v(He+Ue,f,b);i=(x-u)/2,s=(c-h)/2,r=-(x+u)/2,a=-(c+h)/2}return{ratioX:i,ratioY:s,offsetX:r,offsetY:a}}class fn extends mt{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let r=o=>+i[o];if(ke(i[e])){const{key:o="value"}=this._parsing;r=d=>+Gt(i[d],o)}let a,l;for(a=e,l=e+n;a<l;++a)s._parsed[a]=r(a)}}_getRotation(){return pt(this.options.rotation-90)}_getCircumference(){return pt(this.options.circumference)}_getRotationExtents(){let e=Ie,n=-Ie;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,r=s._getRotation(),a=s._getCircumference();e=Math.min(e,r),n=Math.max(n,r+a)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:i}=n,s=this._cachedMeta,r=s.data,a=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,l=Math.max((Math.min(i.width,i.height)-a)/2,0),o=Math.min(Md(this.options.cutout,l),1),d=this._getRingWeight(this.index),{circumference:f,rotation:y}=this._getRotationExtents(),{ratioX:b,ratioY:w,offsetX:v,offsetY:x}=mp(y,f,o),c=(i.width-a)/b,u=(i.height-a)/w,h=Math.max(Math.min(c,u)/2,0),p=ac(this.options.radius,h),m=Math.max(p*o,0),g=(p-m)/this._getVisibleDatasetWeightTotal();this.offsetX=v*p,this.offsetY=x*p,s.total=this.calculateTotal(),this.outerRadius=p-g*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-g*d,0),this.updateElements(r,0,r.length,e)}_circumference(e,n){const i=this.options,s=this._cachedMeta,r=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*r/Ie)}updateElements(e,n,i,s){const r=s==="reset",a=this.chart,l=a.chartArea,d=a.options.animation,f=(l.left+l.right)/2,y=(l.top+l.bottom)/2,b=r&&d.animateScale,w=b?0:this.innerRadius,v=b?0:this.outerRadius,{sharedOptions:x,includeOptions:c}=this._getSharedOptions(n,s);let u=this._getRotation(),h;for(h=0;h<n;++h)u+=this._circumference(h,r);for(h=n;h<n+i;++h){const p=this._circumference(h,r),m=e[h],g={x:f+this.offsetX,y:y+this.offsetY,startAngle:u,endAngle:u+p,circumference:p,outerRadius:v,innerRadius:w};c&&(g.options=x||this.resolveDataElementOptions(h,m.active?"active":s)),u+=p,this.updateElement(m,h,g,s)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let i=0,s;for(s=0;s<n.length;s++){const r=e._parsed[s];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(i+=Math.abs(r))}return i}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?Ie*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=ki(n._parsed[e],i.options.locale);return{label:s[e]||"",value:r}}getMaxBorderWidth(e){let n=0;const i=this.chart;let s,r,a,l,o;if(!e){for(s=0,r=i.data.datasets.length;s<r;++s)if(i.isDatasetVisible(s)){a=i.getDatasetMeta(s),e=a.data,l=a.controller;break}}if(!e)return 0;for(s=0,r=e.length;s<r;++s)o=l.resolveDataElementOptions(s),o.borderAlign!=="inner"&&(n=Math.max(n,o.borderWidth||0,o.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let i=0,s=e.length;i<s;++i){const r=this.resolveDataElementOptions(i);n=Math.max(n,r.offset||0,r.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(e){return Math.max(xe(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ae(fn,"id","doughnut"),ae(fn,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ae(fn,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),ae(fn,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:s}}=e.legend.options;return n.labels.map((r,a)=>{const o=e.getDatasetMeta(0).controller.getStyle(a);return{text:r,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,fontColor:s,lineWidth:o.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}});class ns extends mt{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:i,data:s=[],_dataset:r}=n,a=this.chart._animationsDisabled;let{start:l,count:o}=gc(n,s,a);this._drawStart=l,this._drawCount=o,mc(n)&&(l=0,o=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!r._decimated,i.points=s;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(i,void 0,{animated:!a,options:d},e),this.updateElements(s,l,o,e)}updateElements(e,n,i,s){const r=s==="reset",{iScale:a,vScale:l,_stacked:o,_dataset:d}=this._cachedMeta,{sharedOptions:f,includeOptions:y}=this._getSharedOptions(n,s),b=a.axis,w=l.axis,{spanGaps:v,segment:x}=this.options,c=Nn(v)?v:Number.POSITIVE_INFINITY,u=this.chart._animationsDisabled||r||s==="none",h=n+i,p=e.length;let m=n>0&&this.getParsed(n-1);for(let g=0;g<p;++g){const _=e[g],C=u?_:{};if(g<n||g>=h){C.skip=!0;continue}const E=this.getParsed(g),k=Te(E[w]),T=C[b]=a.getPixelForValue(E[b],g),O=C[w]=r||k?l.getBasePixel():l.getPixelForValue(o?this.applyStack(l,E,o):E[w],g);C.skip=isNaN(T)||isNaN(O)||k,C.stop=g>0&&Math.abs(E[b]-m[b])>c,x&&(C.parsed=E,C.raw=d.data[g]),y&&(C.options=f||this.resolveDataElementOptions(g,_.active?"active":s)),u||this.updateElement(_,g,C,s),m=E}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,i=n.options&&n.options.borderWidth||0,s=e.data||[];if(!s.length)return i;const r=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,r,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}ae(ns,"id","line"),ae(ns,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ae(ns,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class ai extends mt{constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=ki(n._parsed[e].r,i.options.locale);return{label:s[e]||"",value:r}}parseObjectData(e,n,i,s){return Sc.bind(this)(e,n,i,s)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((i,s)=>{const r=this.getParsed(s).r;!isNaN(r)&&this.chart.getDataVisibility(s)&&(r<n.min&&(n.min=r),r>n.max&&(n.max=r))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,i=e.options,s=Math.min(n.right-n.left,n.bottom-n.top),r=Math.max(s/2,0),a=Math.max(i.cutoutPercentage?r/100*i.cutoutPercentage:1,0),l=(r-a)/e.getVisibleDatasetCount();this.outerRadius=r-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(e,n,i,s){const r=s==="reset",a=this.chart,o=a.options.animation,d=this._cachedMeta.rScale,f=d.xCenter,y=d.yCenter,b=d.getIndexAngle(0)-.5*He;let w=b,v;const x=360/this.countVisibleElements();for(v=0;v<n;++v)w+=this._computeAngle(v,s,x);for(v=n;v<n+i;v++){const c=e[v];let u=w,h=w+this._computeAngle(v,s,x),p=a.getDataVisibility(v)?d.getDistanceFromCenterForValue(this.getParsed(v).r):0;w=h,r&&(o.animateScale&&(p=0),o.animateRotate&&(u=h=b));const m={x:f,y,innerRadius:0,outerRadius:p,startAngle:u,endAngle:h,options:this.resolveDataElementOptions(v,c.active?"active":s)};this.updateElement(c,v,m,s)}}countVisibleElements(){const e=this._cachedMeta;let n=0;return e.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&n++}),n}_computeAngle(e,n,i){return this.chart.getDataVisibility(e)?pt(this.resolveDataElementOptions(e,n).angle||i):0}}ae(ai,"id","polarArea"),ae(ai,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),ae(ai,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:s}}=e.legend.options;return n.labels.map((r,a)=>{const o=e.getDatasetMeta(0).controller.getStyle(a);return{text:r,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,fontColor:s,lineWidth:o.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class xr extends fn{}ae(xr,"id","pie"),ae(xr,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class is extends mt{getLabelAndValue(e){const n=this._cachedMeta.vScale,i=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(i[n.axis])}}parseObjectData(e,n,i,s){return Sc.bind(this)(e,n,i,s)}update(e){const n=this._cachedMeta,i=n.dataset,s=n.data||[],r=n.iScale.getLabels();if(i.points=s,e!=="resize"){const a=this.resolveDatasetElementOptions(e);this.options.showLine||(a.borderWidth=0);const l={_loop:!0,_fullLoop:r.length===s.length,options:a};this.updateElement(i,void 0,l,e)}this.updateElements(s,0,s.length,e)}updateElements(e,n,i,s){const r=this._cachedMeta.rScale,a=s==="reset";for(let l=n;l<n+i;l++){const o=e[l],d=this.resolveDataElementOptions(l,o.active?"active":s),f=r.getPointPositionForValue(l,this.getParsed(l).r),y=a?r.xCenter:f.x,b=a?r.yCenter:f.y,w={x:y,y:b,angle:f.angle,skip:isNaN(y)||isNaN(b),options:d};this.updateElement(o,l,w,s)}}}ae(is,"id","radar"),ae(is,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),ae(is,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class ss extends mt{getLabelAndValue(e){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=n,a=this.getParsed(e),l=s.getLabelForValue(a.x),o=r.getLabelForValue(a.y);return{label:i[e]||"",value:"("+l+", "+o+")"}}update(e){const n=this._cachedMeta,{data:i=[]}=n,s=this.chart._animationsDisabled;let{start:r,count:a}=gc(n,i,s);if(this._drawStart=r,this._drawCount=a,mc(n)&&(r=0,a=i.length),this.options.showLine){const{dataset:l,_dataset:o}=n;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!o._decimated,l.points=i;const d=this.resolveDatasetElementOptions(e);d.segment=this.options.segment,this.updateElement(l,void 0,{animated:!s,options:d},e)}this.updateElements(i,r,a,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,i,s){const r=s==="reset",{iScale:a,vScale:l,_stacked:o,_dataset:d}=this._cachedMeta,f=this.resolveDataElementOptions(n,s),y=this.getSharedOptions(f),b=this.includeOptions(s,y),w=a.axis,v=l.axis,{spanGaps:x,segment:c}=this.options,u=Nn(x)?x:Number.POSITIVE_INFINITY,h=this.chart._animationsDisabled||r||s==="none";let p=n>0&&this.getParsed(n-1);for(let m=n;m<n+i;++m){const g=e[m],_=this.getParsed(m),C=h?g:{},E=Te(_[v]),k=C[w]=a.getPixelForValue(_[w],m),T=C[v]=r||E?l.getBasePixel():l.getPixelForValue(o?this.applyStack(l,_,o):_[v],m);C.skip=isNaN(k)||isNaN(T)||E,C.stop=m>0&&Math.abs(_[w]-p[w])>u,c&&(C.parsed=_,C.raw=d.data[m]),b&&(C.options=y||this.resolveDataElementOptions(m,g.active?"active":s)),h||this.updateElement(g,m,C,s),p=_}this.updateSharedOptions(y,s,f)}getMaxOverflow(){const e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let l=0;for(let o=n.length-1;o>=0;--o)l=Math.max(l,n[o].size(this.resolveDataElementOptions(o))/2);return l>0&&l}const i=e.dataset,s=i.options&&i.options.borderWidth||0;if(!n.length)return s;const r=n[0].size(this.resolveDataElementOptions(0)),a=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,r,a)/2}}ae(ss,"id","scatter"),ae(ss,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),ae(ss,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var yp=Object.freeze({__proto__:null,BarController:oi,BubbleController:ts,DoughnutController:fn,LineController:ns,PieController:xr,PolarAreaController:ai,RadarController:is,ScatterController:ss});function sn(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class uo{constructor(e){ae(this,"options");this.options=e||{}}static override(e){Object.assign(uo.prototype,e)}init(){}formats(){return sn()}parse(){return sn()}format(){return sn()}add(){return sn()}diff(){return sn()}startOf(){return sn()}endOf(){return sn()}}var bp={_date:uo};function vp(t,e,n,i){const{controller:s,data:r,_sorted:a}=t,l=s._cachedMeta.iScale;if(l&&e===l.axis&&e!=="r"&&a&&r.length){const o=l._reversePixels?Vd:Nt;if(i){if(s._sharedOptions){const d=r[0],f=typeof d.getRange=="function"&&d.getRange(e);if(f){const y=o(r,e,n-f),b=o(r,e,n+f);return{lo:y.lo,hi:b.hi}}}}else return o(r,e,n)}return{lo:0,hi:r.length-1}}function Ti(t,e,n,i,s){const r=t.getSortedVisibleDatasetMetas(),a=n[e];for(let l=0,o=r.length;l<o;++l){const{index:d,data:f}=r[l],{lo:y,hi:b}=vp(r[l],e,a,s);for(let w=y;w<=b;++w){const v=f[w];v.skip||i(v,d,w)}}}function _p(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,s){const r=e?Math.abs(i.x-s.x):0,a=n?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(a,2))}}function Js(t,e,n,i,s){const r=[];return!s&&!t.isPointInArea(e)||Ti(t,n,e,function(l,o,d){!s&&!Ot(l,t.chartArea,0)||l.inRange(e.x,e.y,i)&&r.push({element:l,datasetIndex:o,index:d})},!0),r}function xp(t,e,n,i){let s=[];function r(a,l,o){const{startAngle:d,endAngle:f}=a.getProps(["startAngle","endAngle"],i),{angle:y}=uc(a,{x:e.x,y:e.y});mi(y,d,f)&&s.push({element:a,datasetIndex:l,index:o})}return Ti(t,n,e,r),s}function wp(t,e,n,i,s,r){let a=[];const l=_p(n);let o=Number.POSITIVE_INFINITY;function d(f,y,b){const w=f.inRange(e.x,e.y,s);if(i&&!w)return;const v=f.getCenterPoint(s);if(!(!!r||t.isPointInArea(v))&&!w)return;const c=l(e,v);c<o?(a=[{element:f,datasetIndex:y,index:b}],o=c):c===o&&a.push({element:f,datasetIndex:y,index:b})}return Ti(t,n,e,d),a}function er(t,e,n,i,s,r){return!r&&!t.isPointInArea(e)?[]:n==="r"&&!i?xp(t,e,n,s):wp(t,e,n,i,s,r)}function Ca(t,e,n,i,s){const r=[],a=n==="x"?"inXRange":"inYRange";let l=!1;return Ti(t,n,e,(o,d,f)=>{o[a](e[n],s)&&(r.push({element:o,datasetIndex:d,index:f}),l=l||o.inRange(e.x,e.y,s))}),i&&!l?[]:r}var Cp={evaluateInteractionItems:Ti,modes:{index(t,e,n,i){const s=an(e,t),r=n.axis||"x",a=n.includeInvisible||!1,l=n.intersect?Js(t,s,r,i,a):er(t,s,r,!1,i,a),o=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(d=>{const f=l[0].index,y=d.data[f];y&&!y.skip&&o.push({element:y,datasetIndex:d.index,index:f})}),o):[]},dataset(t,e,n,i){const s=an(e,t),r=n.axis||"xy",a=n.includeInvisible||!1;let l=n.intersect?Js(t,s,r,i,a):er(t,s,r,!1,i,a);if(l.length>0){const o=l[0].datasetIndex,d=t.getDatasetMeta(o).data;l=[];for(let f=0;f<d.length;++f)l.push({element:d[f],datasetIndex:o,index:f})}return l},point(t,e,n,i){const s=an(e,t),r=n.axis||"xy",a=n.includeInvisible||!1;return Js(t,s,r,i,a)},nearest(t,e,n,i){const s=an(e,t),r=n.axis||"xy",a=n.includeInvisible||!1;return er(t,s,r,n.intersect,i,a)},x(t,e,n,i){const s=an(e,t);return Ca(t,s,"x",n.intersect,i)},y(t,e,n,i){const s=an(e,t);return Ca(t,s,"y",n.intersect,i)}}};const Pc=["left","top","right","bottom"];function Vn(t,e){return t.filter(n=>n.pos===e)}function Sa(t,e){return t.filter(n=>Pc.indexOf(n.pos)===-1&&n.box.axis===e)}function Un(t,e){return t.sort((n,i)=>{const s=e?i:n,r=e?n:i;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function Sp(t){const e=[];let n,i,s,r,a,l;for(n=0,i=(t||[]).length;n<i;++n)s=t[n],{position:r,options:{stack:a,stackWeight:l=1}}=s,e.push({index:n,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:a&&r+a,stackWeight:l});return e}function Ep(t){const e={};for(const n of t){const{stack:i,pos:s,stackWeight:r}=n;if(!i||!Pc.includes(s))continue;const a=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=r}return e}function kp(t,e){const n=Ep(t),{vBoxMaxWidth:i,hBoxMaxHeight:s}=e;let r,a,l;for(r=0,a=t.length;r<a;++r){l=t[r];const{fullSize:o}=l.box,d=n[l.stack],f=d&&l.stackWeight/d.weight;l.horizontal?(l.width=f?f*i:o&&e.availableWidth,l.height=s):(l.width=i,l.height=f?f*s:o&&e.availableHeight)}return n}function Tp(t){const e=Sp(t),n=Un(e.filter(d=>d.box.fullSize),!0),i=Un(Vn(e,"left"),!0),s=Un(Vn(e,"right")),r=Un(Vn(e,"top"),!0),a=Un(Vn(e,"bottom")),l=Sa(e,"x"),o=Sa(e,"y");return{fullSize:n,leftAndTop:i.concat(r),rightAndBottom:s.concat(o).concat(a).concat(l),chartArea:Vn(e,"chartArea"),vertical:i.concat(s).concat(o),horizontal:r.concat(a).concat(l)}}function Ea(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function jc(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Lp(t,e,n,i){const{pos:s,box:r}=n,a=t.maxPadding;if(!ke(s)){n.size&&(t[s]-=n.size);const y=i[n.stack]||{size:0,count:1};y.size=Math.max(y.size,n.horizontal?r.height:r.width),n.size=y.size/y.count,t[s]+=n.size}r.getPadding&&jc(a,r.getPadding());const l=Math.max(0,e.outerWidth-Ea(a,t,"left","right")),o=Math.max(0,e.outerHeight-Ea(a,t,"top","bottom")),d=l!==t.w,f=o!==t.h;return t.w=l,t.h=o,n.horizontal?{same:d,other:f}:{same:f,other:d}}function Ap(t){const e=t.maxPadding;function n(i){const s=Math.max(e[i]-t[i],0);return t[i]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function Mp(t,e){const n=e.maxPadding;function i(s){const r={left:0,top:0,right:0,bottom:0};return s.forEach(a=>{r[a]=Math.max(e[a],n[a])}),r}return i(t?["left","right"]:["top","bottom"])}function Gn(t,e,n,i){const s=[];let r,a,l,o,d,f;for(r=0,a=t.length,d=0;r<a;++r){l=t[r],o=l.box,o.update(l.width||e.w,l.height||e.h,Mp(l.horizontal,e));const{same:y,other:b}=Lp(e,n,l,i);d|=y&&s.length,f=f||b,o.fullSize||s.push(l)}return d&&Gn(s,e,n,i)||f}function Ii(t,e,n,i,s){t.top=n,t.left=e,t.right=e+i,t.bottom=n+s,t.width=i,t.height=s}function ka(t,e,n,i){const s=n.padding;let{x:r,y:a}=e;for(const l of t){const o=l.box,d=i[l.stack]||{count:1,placed:0,weight:1},f=l.stackWeight/d.weight||1;if(l.horizontal){const y=e.w*f,b=d.size||o.height;gi(d.start)&&(a=d.start),o.fullSize?Ii(o,s.left,a,n.outerWidth-s.right-s.left,b):Ii(o,e.left+d.placed,a,y,b),d.start=a,d.placed+=y,a=o.bottom}else{const y=e.h*f,b=d.size||o.width;gi(d.start)&&(r=d.start),o.fullSize?Ii(o,r,s.top,b,n.outerHeight-s.bottom-s.top):Ii(o,r,e.top+d.placed,b,y),d.start=r,d.placed+=y,r=o.right}}e.x=r,e.y=a}var Qe={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const s=Je(t.options.layout.padding),r=Math.max(e-s.width,0),a=Math.max(n-s.height,0),l=Tp(t.boxes),o=l.vertical,d=l.horizontal;Ae(t.boxes,x=>{typeof x.beforeLayout=="function"&&x.beforeLayout()});const f=o.reduce((x,c)=>c.box.options&&c.box.options.display===!1?x:x+1,0)||1,y=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:r,availableHeight:a,vBoxMaxWidth:r/2/f,hBoxMaxHeight:a/2}),b=Object.assign({},s);jc(b,Je(i));const w=Object.assign({maxPadding:b,w:r,h:a,x:s.left,y:s.top},s),v=kp(o.concat(d),y);Gn(l.fullSize,w,y,v),Gn(o,w,y,v),Gn(d,w,y,v)&&Gn(o,w,y,v),Ap(w),ka(l.leftAndTop,w,y,v),w.x+=w.w,w.y+=w.h,ka(l.rightAndBottom,w,y,v),t.chartArea={left:w.left,top:w.top,right:w.left+w.w,bottom:w.top+w.h,height:w.h,width:w.w},Ae(l.chartArea,x=>{const c=x.box;Object.assign(c,t.chartArea),c.update(w.w,w.h,{left:0,top:0,right:0,bottom:0})})}};class Fc{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,s){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):i)}}isAttached(e){return!0}updateConfig(e){}}class Np extends Fc{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const rs="$chartjs",Op={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Ta=t=>t===null||t==="";function Rp(t,e){const n=t.style,i=t.getAttribute("height"),s=t.getAttribute("width");if(t[rs]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Ta(s)){const r=ca(t,"width");r!==void 0&&(t.width=r)}if(Ta(i))if(t.style.height==="")t.height=t.width/(e||2);else{const r=ca(t,"height");r!==void 0&&(t.height=r)}return t}const Bc=Ph?{passive:!0}:!1;function Dp(t,e,n){t.addEventListener(e,n,Bc)}function Pp(t,e,n){t.canvas.removeEventListener(e,n,Bc)}function jp(t,e){const n=Op[t.type]||t.type,{x:i,y:s}=an(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:s!==void 0?s:null}}function bs(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function Fp(t,e,n){const i=t.canvas,s=new MutationObserver(r=>{let a=!1;for(const l of r)a=a||bs(l.addedNodes,i),a=a&&!bs(l.removedNodes,i);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function Bp(t,e,n){const i=t.canvas,s=new MutationObserver(r=>{let a=!1;for(const l of r)a=a||bs(l.removedNodes,i),a=a&&!bs(l.addedNodes,i);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const bi=new Map;let La=0;function Ic(){const t=window.devicePixelRatio;t!==La&&(La=t,bi.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function Ip(t,e){bi.size||window.addEventListener("resize",Ic),bi.set(t,e)}function zp(t){bi.delete(t),bi.size||window.removeEventListener("resize",Ic)}function Hp(t,e,n){const i=t.canvas,s=i&&co(i);if(!s)return;const r=pc((l,o)=>{const d=s.clientWidth;n(l,o),d<s.clientWidth&&n()},window),a=new ResizeObserver(l=>{const o=l[0],d=o.contentRect.width,f=o.contentRect.height;d===0&&f===0||r(d,f)});return a.observe(s),Ip(t,r),a}function tr(t,e,n){n&&n.disconnect(),e==="resize"&&zp(t)}function Vp(t,e,n){const i=t.canvas,s=pc(r=>{t.ctx!==null&&n(jp(r,t))},t);return Dp(i,e,s),s}class Up extends Fc{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(Rp(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[rs])return!1;const i=n[rs].initial;["height","width"].forEach(r=>{const a=i[r];Te(a)?n.removeAttribute(r):n.setAttribute(r,a)});const s=i.style||{};return Object.keys(s).forEach(r=>{n.style[r]=s[r]}),n.width=n.width,delete n[rs],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),a={attach:Fp,detach:Bp,resize:Hp}[n]||Vp;s[n]=a(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),s=i[n];if(!s)return;({attach:tr,detach:tr,resize:tr}[n]||Pp)(e,n,s),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,s){return Dh(e,n,i,s)}isAttached(e){const n=co(e);return!!(n&&n.isConnected)}}function Wp(t){return!kc()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?Np:Up}class yt{constructor(){ae(this,"x");ae(this,"y");ae(this,"active",!1);ae(this,"options");ae(this,"$animations")}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return Nn(this.x)&&Nn(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const s={};return e.forEach(r=>{s[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),s}}ae(yt,"defaults",{}),ae(yt,"defaultRoutes");function qp(t,e){const n=t.options.ticks,i=$p(t),s=Math.min(n.maxTicksLimit||i,i),r=n.major.enabled?Yp(e):[],a=r.length,l=r[0],o=r[a-1],d=[];if(a>s)return Kp(e,d,r,a/s),d;const f=Zp(r,e,s);if(a>0){let y,b;const w=a>1?Math.round((o-l)/(a-1)):null;for(zi(e,d,f,Te(w)?0:l-w,l),y=0,b=a-1;y<b;y++)zi(e,d,f,r[y],r[y+1]);return zi(e,d,f,o,Te(w)?e.length:o+w),d}return zi(e,d,f),d}function $p(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(i,s))}function Zp(t,e,n){const i=Xp(t),s=e.length/n;if(!i)return Math.max(s,1);const r=Bd(i);for(let a=0,l=r.length-1;a<l;a++){const o=r[a];if(o>s)return o}return Math.max(s,1)}function Yp(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function Kp(t,e,n,i){let s=0,r=n[0],a;for(i=Math.ceil(i),a=0;a<t.length;a++)a===r&&(e.push(t[a]),s++,r=n[s*i])}function zi(t,e,n,i,s){const r=xe(i,0),a=Math.min(xe(s,t.length),t.length);let l=0,o,d,f;for(n=Math.ceil(n),s&&(o=s-i,n=o/Math.floor(o/n)),f=r;f<0;)l++,f=Math.round(r+l*n);for(d=Math.max(r,0);d<a;d++)d===f&&(e.push(t[d]),l++,f=Math.round(r+l*n))}function Xp(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const Gp=t=>t==="left"?"right":t==="right"?"left":t,Aa=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,Ma=(t,e)=>Math.min(e||t,t);function Na(t,e){const n=[],i=t.length/e,s=t.length;let r=0;for(;r<s;r+=i)n.push(t[Math.floor(r)]);return n}function Qp(t,e,n){const i=t.ticks.length,s=Math.min(e,i-1),r=t._startPixel,a=t._endPixel,l=1e-6;let o=t.getPixelForTick(s),d;if(!(n&&(i===1?d=Math.max(o-r,a-o):e===0?d=(t.getPixelForTick(1)-o)/2:d=(o-t.getPixelForTick(s-1))/2,o+=s<e?d:-d,o<r-l||o>a+l)))return o}function Jp(t,e){Ae(t,n=>{const i=n.gc,s=i.length/2;let r;if(s>e){for(r=0;r<s;++r)delete n.data[i[r]];i.splice(0,s)}})}function Wn(t){return t.drawTicks?t.tickLength:0}function Oa(t,e){if(!t.display)return 0;const n=Ye(t.font,e),i=Je(t.padding);return(Be(t.text)?t.text.length:1)*n.lineHeight+i.height}function e0(t,e){return en(t,{scale:e,type:"scale"})}function t0(t,e,n){return en(t,{tick:n,index:e,type:"tick"})}function n0(t,e,n){let i=io(t);return(n&&e!=="right"||!n&&e==="right")&&(i=Gp(i)),i}function i0(t,e,n,i){const{top:s,left:r,bottom:a,right:l,chart:o}=t,{chartArea:d,scales:f}=o;let y=0,b,w,v;const x=a-s,c=l-r;if(t.isHorizontal()){if(w=Ge(i,r,l),ke(n)){const u=Object.keys(n)[0],h=n[u];v=f[u].getPixelForValue(h)+x-e}else n==="center"?v=(d.bottom+d.top)/2+x-e:v=Aa(t,n,e);b=l-r}else{if(ke(n)){const u=Object.keys(n)[0],h=n[u];w=f[u].getPixelForValue(h)-c+e}else n==="center"?w=(d.left+d.right)/2-c+e:w=Aa(t,n,e);v=Ge(i,a,s),y=n==="left"?-Ue:Ue}return{titleX:w,titleY:v,maxWidth:b,rotation:y}}class Sn extends yt{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:s}=this;return e=ot(e,Number.POSITIVE_INFINITY),n=ot(n,Number.NEGATIVE_INFINITY),i=ot(i,Number.POSITIVE_INFINITY),s=ot(s,Number.NEGATIVE_INFINITY),{min:ot(e,i),max:ot(n,s),minDefined:Ve(e),maxDefined:Ve(n)}}getMinMax(e){let{min:n,max:i,minDefined:s,maxDefined:r}=this.getUserBounds(),a;if(s&&r)return{min:n,max:i};const l=this.getMatchingVisibleMetas();for(let o=0,d=l.length;o<d;++o)a=l[o].controller.getMinMax(this,e),s||(n=Math.min(n,a.min)),r||(i=Math.max(i,a.max));return n=r&&n>i?i:n,i=s&&n>i?n:i,{min:ot(n,ot(i,n)),max:ot(i,ot(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){De(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:s,grace:r,ticks:a}=this.options,l=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=dh(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const o=l<this.ticks.length;this._convertTicksToLabels(o?Na(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=qp(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),o&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){De(this.options.afterUpdate,[this])}beforeSetDimensions(){De(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){De(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),De(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){De(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,s,r;for(i=0,s=e.length;i<s;i++)r=e[i],r.label=De(n.callback,[r.value,i,e],this)}afterTickToLabelConversion(){De(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){De(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=Ma(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,r=n.maxRotation;let a=s,l,o,d;if(!this._isVisible()||!n.display||s>=r||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const f=this._getLabelSizes(),y=f.widest.width,b=f.highest.height,w=Ke(this.chart.width-y,0,this.maxWidth);l=e.offset?this.maxWidth/i:w/(i-1),y+6>l&&(l=w/(i-(e.offset?.5:1)),o=this.maxHeight-Wn(e.grid)-n.padding-Oa(e.title,this.chart.options.font),d=Math.sqrt(y*y+b*b),a=to(Math.min(Math.asin(Ke((f.highest.height+6)/l,-1,1)),Math.asin(Ke(o/d,-1,1))-Math.asin(Ke(b/d,-1,1)))),a=Math.max(s,Math.min(r,a))),this.labelRotation=a}afterCalculateLabelRotation(){De(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){De(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:s,grid:r}}=this,a=this._isVisible(),l=this.isHorizontal();if(a){const o=Oa(s,n.options.font);if(l?(e.width=this.maxWidth,e.height=Wn(r)+o):(e.height=this.maxHeight,e.width=Wn(r)+o),i.display&&this.ticks.length){const{first:d,last:f,widest:y,highest:b}=this._getLabelSizes(),w=i.padding*2,v=pt(this.labelRotation),x=Math.cos(v),c=Math.sin(v);if(l){const u=i.mirror?0:c*y.width+x*b.height;e.height=Math.min(this.maxHeight,e.height+u+w)}else{const u=i.mirror?0:x*y.width+c*b.height;e.width=Math.min(this.maxWidth,e.width+u+w)}this._calculatePadding(d,f,c,x)}}this._handleMargins(),l?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,s){const{ticks:{align:r,padding:a},position:l}=this.options,o=this.labelRotation!==0,d=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const f=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,w=0;o?d?(b=s*e.width,w=i*n.height):(b=i*e.height,w=s*n.width):r==="start"?w=n.width:r==="end"?b=e.width:r!=="inner"&&(b=e.width/2,w=n.width/2),this.paddingLeft=Math.max((b-f+a)*this.width/(this.width-f),0),this.paddingRight=Math.max((w-y+a)*this.width/(this.width-y),0)}else{let f=n.height/2,y=e.height/2;r==="start"?(f=0,y=e.height):r==="end"&&(f=n.height,y=0),this.paddingTop=f+a,this.paddingBottom=y+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){De(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)Te(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=Na(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:s,_longestTextCache:r}=this,a=[],l=[],o=Math.floor(n/Ma(n,i));let d=0,f=0,y,b,w,v,x,c,u,h,p,m,g;for(y=0;y<n;y+=o){if(v=e[y].label,x=this._resolveTickFontOptions(y),s.font=c=x.string,u=r[c]=r[c]||{data:{},gc:[]},h=x.lineHeight,p=m=0,!Te(v)&&!Be(v))p=ms(s,u.data,u.gc,p,v),m=h;else if(Be(v))for(b=0,w=v.length;b<w;++b)g=v[b],!Te(g)&&!Be(g)&&(p=ms(s,u.data,u.gc,p,g),m+=h);a.push(p),l.push(m),d=Math.max(p,d),f=Math.max(m,f)}Jp(r,n);const _=a.indexOf(d),C=l.indexOf(f),E=k=>({width:a[k]||0,height:l[k]||0});return{first:E(0),last:E(n-1),widest:E(_),highest:E(C),widths:a,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return Hd(this._alignToPixels?nn(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=t0(this.getContext(),e,i))}return this.$context||(this.$context=e0(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=pt(this.labelRotation),i=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),r=this._getLabelSizes(),a=e.autoSkipPadding||0,l=r?r.widest.width+a:0,o=r?r.highest.height+a:0;return this.isHorizontal()?o*i>l*s?l/i:o/s:o*s<l*i?o/i:l/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,s=this.options,{grid:r,position:a,border:l}=s,o=r.offset,d=this.isHorizontal(),y=this.ticks.length+(o?1:0),b=Wn(r),w=[],v=l.setContext(this.getContext()),x=v.display?v.width:0,c=x/2,u=function(B){return nn(i,B,x)};let h,p,m,g,_,C,E,k,T,O,M,F;if(a==="top")h=u(this.bottom),C=this.bottom-b,k=h-c,O=u(e.top)+c,F=e.bottom;else if(a==="bottom")h=u(this.top),O=e.top,F=u(e.bottom)-c,C=h+c,k=this.top+b;else if(a==="left")h=u(this.right),_=this.right-b,E=h-c,T=u(e.left)+c,M=e.right;else if(a==="right")h=u(this.left),T=e.left,M=u(e.right)-c,_=h+c,E=this.left+b;else if(n==="x"){if(a==="center")h=u((e.top+e.bottom)/2+.5);else if(ke(a)){const B=Object.keys(a)[0],z=a[B];h=u(this.chart.scales[B].getPixelForValue(z))}O=e.top,F=e.bottom,C=h+c,k=C+b}else if(n==="y"){if(a==="center")h=u((e.left+e.right)/2);else if(ke(a)){const B=Object.keys(a)[0],z=a[B];h=u(this.chart.scales[B].getPixelForValue(z))}_=h-c,E=_-b,T=e.left,M=e.right}const N=xe(s.ticks.maxTicksLimit,y),P=Math.max(1,Math.ceil(y/N));for(p=0;p<y;p+=P){const B=this.getContext(p),z=r.setContext(B),D=l.setContext(B),$=z.lineWidth,q=z.color,V=D.dash||[],K=D.dashOffset,R=z.tickWidth,j=z.tickColor,I=z.tickBorderDash||[],H=z.tickBorderDashOffset;m=Qp(this,p,o),m!==void 0&&(g=nn(i,m,$),d?_=E=T=M=g:C=k=O=F=g,w.push({tx1:_,ty1:C,tx2:E,ty2:k,x1:T,y1:O,x2:M,y2:F,width:$,color:q,borderDash:V,borderDashOffset:K,tickWidth:R,tickColor:j,tickBorderDash:I,tickBorderDashOffset:H}))}return this._ticksLength=y,this._borderValue=h,w}_computeLabelItems(e){const n=this.axis,i=this.options,{position:s,ticks:r}=i,a=this.isHorizontal(),l=this.ticks,{align:o,crossAlign:d,padding:f,mirror:y}=r,b=Wn(i.grid),w=b+f,v=y?-f:w,x=-pt(this.labelRotation),c=[];let u,h,p,m,g,_,C,E,k,T,O,M,F="middle";if(s==="top")_=this.bottom-v,C=this._getXAxisLabelAlignment();else if(s==="bottom")_=this.top+v,C=this._getXAxisLabelAlignment();else if(s==="left"){const P=this._getYAxisLabelAlignment(b);C=P.textAlign,g=P.x}else if(s==="right"){const P=this._getYAxisLabelAlignment(b);C=P.textAlign,g=P.x}else if(n==="x"){if(s==="center")_=(e.top+e.bottom)/2+w;else if(ke(s)){const P=Object.keys(s)[0],B=s[P];_=this.chart.scales[P].getPixelForValue(B)+w}C=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")g=(e.left+e.right)/2-w;else if(ke(s)){const P=Object.keys(s)[0],B=s[P];g=this.chart.scales[P].getPixelForValue(B)}C=this._getYAxisLabelAlignment(b).textAlign}n==="y"&&(o==="start"?F="top":o==="end"&&(F="bottom"));const N=this._getLabelSizes();for(u=0,h=l.length;u<h;++u){p=l[u],m=p.label;const P=r.setContext(this.getContext(u));E=this.getPixelForTick(u)+r.labelOffset,k=this._resolveTickFontOptions(u),T=k.lineHeight,O=Be(m)?m.length:1;const B=O/2,z=P.color,D=P.textStrokeColor,$=P.textStrokeWidth;let q=C;a?(g=E,C==="inner"&&(u===h-1?q=this.options.reverse?"left":"right":u===0?q=this.options.reverse?"right":"left":q="center"),s==="top"?d==="near"||x!==0?M=-O*T+T/2:d==="center"?M=-N.highest.height/2-B*T+T:M=-N.highest.height+T/2:d==="near"||x!==0?M=T/2:d==="center"?M=N.highest.height/2-B*T:M=N.highest.height-O*T,y&&(M*=-1),x!==0&&!P.showLabelBackdrop&&(g+=T/2*Math.sin(x))):(_=E,M=(1-O)*T/2);let V;if(P.showLabelBackdrop){const K=Je(P.backdropPadding),R=N.heights[u],j=N.widths[u];let I=M-K.top,H=0-K.left;switch(F){case"middle":I-=R/2;break;case"bottom":I-=R;break}switch(C){case"center":H-=j/2;break;case"right":H-=j;break}V={left:H,top:I,width:j+K.width,height:R+K.height,color:P.backdropColor}}c.push({label:m,font:k,textOffset:M,options:{rotation:x,color:z,strokeColor:D,strokeWidth:$,textAlign:q,textBaseline:F,translation:[g,_],backdrop:V}})}return c}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-pt(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:s,padding:r}}=this.options,a=this._getLabelSizes(),l=e+r,o=a.widest.width;let d,f;return n==="left"?s?(f=this.right+r,i==="near"?d="left":i==="center"?(d="center",f+=o/2):(d="right",f+=o)):(f=this.right-l,i==="near"?d="right":i==="center"?(d="center",f-=o/2):(d="left",f=this.left)):n==="right"?s?(f=this.left+r,i==="near"?d="right":i==="center"?(d="center",f-=o/2):(d="left",f-=o)):(f=this.left+l,i==="near"?d="left":i==="center"?(d="center",f+=o/2):(d="right",f=this.right)):d="right",{textAlign:d,x:f}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:s,width:r,height:a}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,s,r,a),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(r=>r.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,a;const l=(o,d,f)=>{!f.width||!f.color||(i.save(),i.lineWidth=f.width,i.strokeStyle=f.color,i.setLineDash(f.borderDash||[]),i.lineDashOffset=f.borderDashOffset,i.beginPath(),i.moveTo(o.x,o.y),i.lineTo(d.x,d.y),i.stroke(),i.restore())};if(n.display)for(r=0,a=s.length;r<a;++r){const o=s[r];n.drawOnChartArea&&l({x:o.x1,y:o.y1},{x:o.x2,y:o.y2},o),n.drawTicks&&l({x:o.tx1,y:o.ty1},{x:o.tx2,y:o.ty2},{color:o.tickColor,width:o.tickWidth,borderDash:o.tickBorderDash,borderDashOffset:o.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:s}}=this,r=i.setContext(this.getContext()),a=i.display?r.width:0;if(!a)return;const l=s.setContext(this.getContext(0)).lineWidth,o=this._borderValue;let d,f,y,b;this.isHorizontal()?(d=nn(e,this.left,a)-a/2,f=nn(e,this.right,l)+l/2,y=b=o):(y=nn(e,this.top,a)-a/2,b=nn(e,this.bottom,l)+l/2,d=f=o),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(d,y),n.lineTo(f,b),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&Os(i,s);const r=this.getLabelItems(e);for(const a of r){const l=a.options,o=a.font,d=a.label,f=a.textOffset;yn(i,d,0,f,o,l)}s&&Rs(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:s}}=this;if(!i.display)return;const r=Ye(i.font),a=Je(i.padding),l=i.align;let o=r.lineHeight/2;n==="bottom"||n==="center"||ke(n)?(o+=a.bottom,Be(i.text)&&(o+=r.lineHeight*(i.text.length-1))):o+=a.top;const{titleX:d,titleY:f,maxWidth:y,rotation:b}=i0(this,o,n,l);yn(e,i.text,0,0,r,{color:i.color,maxWidth:y,rotation:b,textAlign:n0(l,n,s),textBaseline:"middle",translation:[d,f]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=xe(e.grid&&e.grid.z,-1),s=xe(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Sn.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let r,a;for(r=0,a=n.length;r<a;++r){const l=n[r];l[i]===this.id&&(!e||l.type===e)&&s.push(l)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Ye(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Hi{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;o0(n)&&(i=this.register(n));const s=this.items,r=e.id,a=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in s||(s[r]=e,s0(e,a,i),this.override&&We.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,s=this.scope;i in n&&delete n[i],s&&i in We[s]&&(delete We[s][i],this.override&&delete mn[i])}}function s0(t,e,n){const i=pi(Object.create(null),[n?We.get(n):{},We.get(e),t.defaults]);We.set(e,i),t.defaultRoutes&&r0(e,t.defaultRoutes),t.descriptors&&We.describe(e,t.descriptors)}function r0(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),s=i.pop(),r=[t].concat(i).join("."),a=e[n].split("."),l=a.pop(),o=a.join(".");We.route(r,s,o,l)})}function o0(t){return"id"in t&&"defaults"in t}class a0{constructor(){this.controllers=new Hi(mt,"datasets",!0),this.elements=new Hi(yt,"elements"),this.plugins=new Hi(Object,"plugins"),this.scales=new Hi(Sn,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(s=>{const r=i||this._getRegistryForType(s);i||r.isForType(s)||r===this.plugins&&s.id?this._exec(e,r,s):Ae(s,a=>{const l=i||this._getRegistryForType(a);this._exec(e,l,a)})})}_exec(e,n,i){const s=eo(e);De(i["before"+s],[],i),n[e](i),De(i["after"+s],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return s}}var wt=new a0;class l0{constructor(){this._init=[]}notify(e,n,i,s){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=s?this._descriptors(e).filter(s):this._descriptors(e),a=this._notify(r,e,n,i);return n==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,n,i,s){s=s||{};for(const r of e){const a=r.plugin,l=a[i],o=[n,s,r.options];if(De(l,o,a)===!1&&s.cancelable)return!1}return!0}invalidate(){Te(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,s=xe(i.options&&i.options.plugins,{}),r=c0(i);return s===!1&&!n?[]:f0(e,r,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,s=(r,a)=>r.filter(l=>!a.some(o=>l.plugin.id===o.plugin.id));this._notify(s(n,i),e,"stop"),this._notify(s(i,n),e,"start")}}function c0(t){const e={},n=[],i=Object.keys(wt.plugins.items);for(let r=0;r<i.length;r++)n.push(wt.getPlugin(i[r]));const s=t.plugins||[];for(let r=0;r<s.length;r++){const a=s[r];n.indexOf(a)===-1&&(n.push(a),e[a.id]=!0)}return{plugins:n,localIds:e}}function u0(t,e){return!e&&t===!1?null:t===!0?{}:t}function f0(t,{plugins:e,localIds:n},i,s){const r=[],a=t.getContext();for(const l of e){const o=l.id,d=u0(i[o],s);d!==null&&r.push({plugin:l,options:d0(t.config,{plugin:l,local:n[o]},d,a)})}return r}function d0(t,{plugin:e,local:n},i,s){const r=t.pluginScopeKeys(e),a=t.getOptionScopes(i,r);return n&&e.defaults&&a.push(e.defaults),t.createResolver(a,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function wr(t,e){const n=We.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function h0(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function p0(t,e){return t===e?"_index_":"_value_"}function Ra(t){if(t==="x"||t==="y"||t==="r")return t}function g0(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Cr(t,...e){if(Ra(t))return t;for(const n of e){const i=n.axis||g0(n.position)||t.length>1&&Ra(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Da(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function m0(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return Da(t,"x",n[0])||Da(t,"y",n[0])}return{}}function y0(t,e){const n=mn[t.type]||{scales:{}},i=e.scales||{},s=wr(t.type,e),r=Object.create(null);return Object.keys(i).forEach(a=>{const l=i[a];if(!ke(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const o=Cr(a,l,m0(a,t),We.scales[l.type]),d=p0(o,s),f=n.scales||{};r[a]=ni(Object.create(null),[{axis:o},l,f[o],f[d]])}),t.data.datasets.forEach(a=>{const l=a.type||t.type,o=a.indexAxis||wr(l,e),f=(mn[l]||{}).scales||{};Object.keys(f).forEach(y=>{const b=h0(y,o),w=a[b+"AxisID"]||b;r[w]=r[w]||Object.create(null),ni(r[w],[{axis:b},i[w],f[y]])})}),Object.keys(r).forEach(a=>{const l=r[a];ni(l,[We.scales[l.type],We.scale])}),r}function zc(t){const e=t.options||(t.options={});e.plugins=xe(e.plugins,{}),e.scales=y0(t,e)}function Hc(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function b0(t){return t=t||{},t.data=Hc(t.data),zc(t),t}const Pa=new Map,Vc=new Set;function Vi(t,e){let n=Pa.get(t);return n||(n=e(),Pa.set(t,n),Vc.add(n)),n}const qn=(t,e,n)=>{const i=Gt(e,n);i!==void 0&&t.add(i)};class v0{constructor(e){this._config=b0(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Hc(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),zc(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Vi(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Vi(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Vi(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return Vi(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let s=i.get(e);return(!s||n)&&(s=new Map,i.set(e,s)),s}getOptionScopes(e,n,i){const{options:s,type:r}=this,a=this._cachedScopes(e,i),l=a.get(n);if(l)return l;const o=new Set;n.forEach(f=>{e&&(o.add(e),f.forEach(y=>qn(o,e,y))),f.forEach(y=>qn(o,s,y)),f.forEach(y=>qn(o,mn[r]||{},y)),f.forEach(y=>qn(o,We,y)),f.forEach(y=>qn(o,vr,y))});const d=Array.from(o);return d.length===0&&d.push(Object.create(null)),Vc.has(n)&&a.set(n,d),d}chartOptionScopes(){const{options:e,type:n}=this;return[e,mn[n]||{},We.datasets[n]||{},{type:n},We,vr]}resolveNamedOptions(e,n,i,s=[""]){const r={$shared:!0},{resolver:a,subPrefixes:l}=ja(this._resolverCache,e,s);let o=a;if(x0(a,n)){r.$shared=!1,i=Qt(i)?i():i;const d=this.createResolver(e,i,l);o=On(a,i,d)}for(const d of n)r[d]=o[d];return r}createResolver(e,n,i=[""],s){const{resolver:r}=ja(this._resolverCache,e,i);return ke(n)?On(r,n,void 0,s):r}}function ja(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const s=n.join();let r=i.get(s);return r||(r={resolver:oo(e,n),subPrefixes:n.filter(l=>!l.toLowerCase().includes("hover"))},i.set(s,r)),r}const _0=t=>ke(t)&&Object.getOwnPropertyNames(t).reduce((e,n)=>e||Qt(t[n]),!1);function x0(t,e){const{isScriptable:n,isIndexable:i}=_c(t);for(const s of e){const r=n(s),a=i(s),l=(a||r)&&t[s];if(r&&(Qt(l)||_0(l))||a&&Be(l))return!0}return!1}var w0="4.3.0";const C0=["top","bottom","left","right","chartArea"];function Fa(t,e){return t==="top"||t==="bottom"||C0.indexOf(t)===-1&&e==="x"}function Ba(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function Ia(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),De(n&&n.onComplete,[t],e)}function S0(t){const e=t.chart,n=e.options.animation;De(n&&n.onProgress,[t],e)}function Uc(t){return kc()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const os={},za=t=>{const e=Uc(t);return Object.values(os).filter(n=>n.canvas===e).pop()};function E0(t,e,n){const i=Object.keys(t);for(const s of i){const r=+s;if(r>=e){const a=t[s];delete t[s],(n>0||r>e)&&(t[r+n]=a)}}}function k0(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}function T0(t){const{xScale:e,yScale:n}=t;if(e&&n)return{left:e.left,right:e.right,top:n.top,bottom:n.bottom}}var It;let Ps=(It=class{static register(...e){wt.add(...e),Ha()}static unregister(...e){wt.remove(...e),Ha()}constructor(e,n){const i=this.config=new v0(n),s=Uc(e),r=za(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||Wp(s)),this.platform.updateConfig(i);const l=this.platform.acquireContext(s,a.aspectRatio),o=l&&l.canvas,d=o&&o.height,f=o&&o.width;if(this.id=Ad(),this.ctx=l,this.canvas=o,this.width=f,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new l0,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=qd(y=>this.update(y),a.resizeDelay||0),this._dataChanges=[],os[this.id]=this,!l||!o){console.error("Failed to create chart: can't acquire context from the given item");return}Tt.listen(this,"complete",Ia),Tt.listen(this,"progress",S0),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:s,_aspectRatio:r}=this;return Te(e)?n&&r?r:s?i/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return wt}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():la(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return ra(this.canvas,this.ctx),this}stop(){return Tt.stop(this),this}resize(e,n){Tt.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,s=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,e,n,r),l=i.devicePixelRatio||this.platform.getDevicePixelRatio(),o=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,la(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),De(i.onResize,[this,a],this),this.attached&&this._doResize(o)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Ae(n,(i,s)=>{i.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,s=Object.keys(i).reduce((a,l)=>(a[l]=!1,a),{});let r=[];n&&(r=r.concat(Object.keys(n).map(a=>{const l=n[a],o=Cr(a,l),d=o==="r",f=o==="x";return{options:l,dposition:d?"chartArea":f?"bottom":"left",dtype:d?"radialLinear":f?"category":"linear"}}))),Ae(r,a=>{const l=a.options,o=l.id,d=Cr(o,l),f=xe(l.type,a.dtype);(l.position===void 0||Fa(l.position,d)!==Fa(a.dposition))&&(l.position=a.dposition),s[o]=!0;let y=null;if(o in i&&i[o].type===f)y=i[o];else{const b=wt.getScale(f);y=new b({id:o,type:f,ctx:this.ctx,chart:this}),i[y.id]=y}y.init(l,e)}),Ae(s,(a,l)=>{a||delete i[l]}),Ae(i,a=>{Qe.configure(this,a,a.options),Qe.addBox(this,a)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((s,r)=>s.index-r.index),i>n){for(let s=n;s<i;++s)this._destroyDatasetMeta(s);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(Ba("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,s)=>{n.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=n.length;i<s;i++){const r=n[i];let a=this.getDatasetMeta(i);const l=r.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=l,a.indexAxis=r.indexAxis||wr(l,this.options),a.order=r.order||0,a.index=i,a.label=""+r.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{const o=wt.getController(l),{datasetElementType:d,dataElementType:f}=We.datasets[l];Object.assign(o,{dataElementType:wt.getElement(f),datasetElementType:d&&wt.getElement(d)}),a.controller=new o(this,i),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Ae(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let d=0,f=this.data.datasets.length;d<f;d++){const{controller:y}=this.getDatasetMeta(d),b=!s&&r.indexOf(y)===-1;y.buildOrUpdateElements(b),a=Math.max(+y.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),s||Ae(r,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Ba("z","_idx"));const{_active:l,_lastEvent:o}=this;o?this._eventHandler(o,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){Ae(this.scales,e=>{Qe.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!Xo(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:r}of n){const a=i==="_removeElements"?-r:r;E0(e,s,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=r=>new Set(e.filter(a=>a[0]===r).map((a,l)=>l+","+a.splice(1).join(","))),s=i(0);for(let r=1;r<n;r++)if(!Xo(s,i(r)))return;return Array.from(s).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Qe.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],Ae(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,Qt(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),s={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Tt.has(this)?this.attached&&!Tt.running(this)&&Tt.start(this):(this.draw(),Ia({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resize(i,s),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let s,r;for(s=0,r=n.length;s<r;++s){const a=n[s];(!e||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i=e._clip,s=!i.disabled,r=T0(e)||this.chartArea,a={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(s&&Os(n,{left:i.left===!1?0:r.left-i.left,right:i.right===!1?this.width:r.right+i.right,top:i.top===!1?0:r.top-i.top,bottom:i.bottom===!1?this.height:r.bottom+i.bottom}),e.controller.draw(),s&&Rs(n),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(e){return Ot(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,s){const r=Cp.modes[n];return typeof r=="function"?r(this,e,i,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let s=i.filter(r=>r&&r._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=en(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const s=i?"show":"hide",r=this.getDatasetMeta(e),a=r.controller._resolveAnimations(void 0,s);gi(n)?(r.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),a.update(r,{visible:i}),this.update(l=>l.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Tt.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),ra(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete os[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(r,a)=>{n.addEventListener(this,r,a),e[r]=a},s=(r,a,l)=>{r.offsetX=a,r.offsetY=l,this._eventHandler(r)};Ae(this.options.events,r=>i(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(o,d)=>{n.addEventListener(this,o,d),e[o]=d},s=(o,d)=>{e[o]&&(n.removeEventListener(this,o,d),delete e[o])},r=(o,d)=>{this.canvas&&this.resize(o,d)};let a;const l=()=>{s("attach",l),this.attached=!0,this.resize(),i("resize",r),i("detach",a)};a=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),i("attach",l)},n.isAttached(this.canvas)?l():a()}unbindEvents(){Ae(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Ae(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const s=i?"set":"remove";let r,a,l,o;for(n==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),l=0,o=e.length;l<o;++l){a=e[l];const d=a&&this.getDatasetMeta(a.datasetIndex).controller;d&&d[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:r,index:a})=>{const l=this.getDatasetMeta(r);if(!l)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:l.data[a],index:a}});!hs(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const s=this.options.hover,r=(o,d)=>o.filter(f=>!d.some(y=>f.datasetIndex===y.datasetIndex&&f.index===y.index)),a=r(n,e),l=i?e:r(e,n);a.length&&this.updateHoverStyle(a,s.mode,!1),l.length&&s.mode&&this.updateHoverStyle(l,s.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const r=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(r||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:s=[],options:r}=this,a=n,l=this._getActiveElements(e,s,i,a),o=Pd(e),d=k0(e,this._lastEvent,i,o);i&&(this._lastEvent=null,De(r.onHover,[e,l,this],this),o&&De(r.onClick,[e,l,this],this));const f=!hs(l,s);return(f||n)&&(this._active=l,this._updateHoverStyles(l,s,n)),this._lastEvent=d,f}_getActiveElements(e,n,i,s){if(e.type==="mouseout")return[];if(!i)return n;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,s)}},ae(It,"defaults",We),ae(It,"instances",os),ae(It,"overrides",mn),ae(It,"registry",wt),ae(It,"version",w0),ae(It,"getChart",za),It);function Ha(){return Ae(Ps.instances,t=>t._plugins.invalidate())}function L0(t,e,n){const{startAngle:i,pixelMargin:s,x:r,y:a,outerRadius:l,innerRadius:o}=e;let d=s/l;t.beginPath(),t.arc(r,a,l,i-d,n+d),o>s?(d=s/o,t.arc(r,a,o,n+d,i-d,!0)):t.arc(r,a,s,n+Ue,i-Ue),t.closePath(),t.clip()}function A0(t){return ro(t,["outerStart","outerEnd","innerStart","innerEnd"])}function M0(t,e,n,i){const s=A0(t.options.borderRadius),r=(n-e)/2,a=Math.min(r,i*e/2),l=o=>{const d=(n-Math.min(r,o))*i/2;return Ke(o,0,Math.min(r,d))};return{outerStart:l(s.outerStart),outerEnd:l(s.outerEnd),innerStart:Ke(s.innerStart,0,a),innerEnd:Ke(s.innerEnd,0,a)}}function kn(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function vs(t,e,n,i,s,r){const{x:a,y:l,startAngle:o,pixelMargin:d,innerRadius:f}=e,y=Math.max(e.outerRadius+i+n-d,0),b=f>0?f+i+n+d:0;let w=0;const v=s-o;if(i){const P=f>0?f-i:0,B=y>0?y-i:0,z=(P+B)/2,D=z!==0?v*z/(z+i):v;w=(v-D)/2}const x=Math.max(.001,v*y-n/He)/y,c=(v-x)/2,u=o+c+w,h=s-c-w,{outerStart:p,outerEnd:m,innerStart:g,innerEnd:_}=M0(e,b,y,h-u),C=y-p,E=y-m,k=u+p/C,T=h-m/E,O=b+g,M=b+_,F=u+g/O,N=h-_/M;if(t.beginPath(),r){const P=(k+T)/2;if(t.arc(a,l,y,k,P),t.arc(a,l,y,P,T),m>0){const $=kn(E,T,a,l);t.arc($.x,$.y,m,T,h+Ue)}const B=kn(M,h,a,l);if(t.lineTo(B.x,B.y),_>0){const $=kn(M,N,a,l);t.arc($.x,$.y,_,h+Ue,N+Math.PI)}const z=(h-_/b+(u+g/b))/2;if(t.arc(a,l,b,h-_/b,z,!0),t.arc(a,l,b,z,u+g/b,!0),g>0){const $=kn(O,F,a,l);t.arc($.x,$.y,g,F+Math.PI,u-Ue)}const D=kn(C,u,a,l);if(t.lineTo(D.x,D.y),p>0){const $=kn(C,k,a,l);t.arc($.x,$.y,p,u-Ue,k)}}else{t.moveTo(a,l);const P=Math.cos(k)*y+a,B=Math.sin(k)*y+l;t.lineTo(P,B);const z=Math.cos(T)*y+a,D=Math.sin(T)*y+l;t.lineTo(z,D)}t.closePath()}function N0(t,e,n,i,s){const{fullCircles:r,startAngle:a,circumference:l}=e;let o=e.endAngle;if(r){vs(t,e,n,i,o,s);for(let d=0;d<r;++d)t.fill();isNaN(l)||(o=a+(l%Ie||Ie))}return vs(t,e,n,i,o,s),t.fill(),o}function O0(t,e,n,i,s){const{fullCircles:r,startAngle:a,circumference:l,options:o}=e,{borderWidth:d,borderJoinStyle:f,borderDash:y,borderDashOffset:b}=o,w=o.borderAlign==="inner";if(!d)return;t.setLineDash(y||[]),t.lineDashOffset=b,w?(t.lineWidth=d*2,t.lineJoin=f||"round"):(t.lineWidth=d,t.lineJoin=f||"bevel");let v=e.endAngle;if(r){vs(t,e,n,i,v,s);for(let x=0;x<r;++x)t.stroke();isNaN(l)||(v=a+(l%Ie||Ie))}w&&L0(t,e,v),r||(vs(t,e,n,i,v,s),t.stroke())}class Qn extends yt{constructor(n){super();ae(this,"circumference");ae(this,"endAngle");ae(this,"fullCircles");ae(this,"innerRadius");ae(this,"outerRadius");ae(this,"pixelMargin");ae(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,i,s){const r=this.getProps(["x","y"],s),{angle:a,distance:l}=uc(r,{x:n,y:i}),{startAngle:o,endAngle:d,innerRadius:f,outerRadius:y,circumference:b}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),w=(this.options.spacing+this.options.borderWidth)/2,x=xe(b,d-o)>=Ie||mi(a,o,d),c=Mt(l,f+w,y+w);return x&&c}getCenterPoint(n){const{x:i,y:s,startAngle:r,endAngle:a,innerRadius:l,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:d,spacing:f}=this.options,y=(r+a)/2,b=(l+o+f+d)/2;return{x:i+Math.cos(y)*b,y:s+Math.sin(y)*b}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:i,circumference:s}=this,r=(i.offset||0)/4,a=(i.spacing||0)/2,l=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=s>Ie?Math.floor(s/Ie):0,s===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const o=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(o)*r,Math.sin(o)*r);const d=1-Math.sin(Math.min(He,s||0)),f=r*d;n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,N0(n,this,f,a,l),O0(n,this,f,a,l),n.restore()}}ae(Qn,"id","arc"),ae(Qn,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),ae(Qn,"defaultRoutes",{backgroundColor:"backgroundColor"}),ae(Qn,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function Wc(t,e,n=e){t.lineCap=xe(n.borderCapStyle,e.borderCapStyle),t.setLineDash(xe(n.borderDash,e.borderDash)),t.lineDashOffset=xe(n.borderDashOffset,e.borderDashOffset),t.lineJoin=xe(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=xe(n.borderWidth,e.borderWidth),t.strokeStyle=xe(n.borderColor,e.borderColor)}function R0(t,e,n){t.lineTo(n.x,n.y)}function D0(t){return t.stepped?ih:t.tension||t.cubicInterpolationMode==="monotone"?sh:R0}function qc(t,e,n={}){const i=t.length,{start:s=0,end:r=i-1}=n,{start:a,end:l}=e,o=Math.max(s,a),d=Math.min(r,l),f=s<a&&r<a||s>l&&r>l;return{count:i,start:o,loop:e.loop,ilen:d<o&&!f?i+d-o:d-o}}function P0(t,e,n,i){const{points:s,options:r}=e,{count:a,start:l,loop:o,ilen:d}=qc(s,n,i),f=D0(r);let{move:y=!0,reverse:b}=i||{},w,v,x;for(w=0;w<=d;++w)v=s[(l+(b?d-w:w))%a],!v.skip&&(y?(t.moveTo(v.x,v.y),y=!1):f(t,x,v,b,r.stepped),x=v);return o&&(v=s[(l+(b?d:0))%a],f(t,x,v,b,r.stepped)),!!o}function j0(t,e,n,i){const s=e.points,{count:r,start:a,ilen:l}=qc(s,n,i),{move:o=!0,reverse:d}=i||{};let f=0,y=0,b,w,v,x,c,u;const h=m=>(a+(d?l-m:m))%r,p=()=>{x!==c&&(t.lineTo(f,c),t.lineTo(f,x),t.lineTo(f,u))};for(o&&(w=s[h(0)],t.moveTo(w.x,w.y)),b=0;b<=l;++b){if(w=s[h(b)],w.skip)continue;const m=w.x,g=w.y,_=m|0;_===v?(g<x?x=g:g>c&&(c=g),f=(y*f+m)/++y):(p(),t.lineTo(m,g),v=_,y=0,x=c=g),u=g}p()}function Sr(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?j0:P0}function F0(t){return t.stepped?jh:t.tension||t.cubicInterpolationMode==="monotone"?Fh:ln}function B0(t,e,n,i){let s=e._path;s||(s=e._path=new Path2D,e.path(s,n,i)&&s.closePath()),Wc(t,e.options),t.stroke(s)}function I0(t,e,n,i){const{segments:s,options:r}=e,a=Sr(e);for(const l of s)Wc(t,r,l.style),t.beginPath(),a(t,e,l,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const z0=typeof Path2D=="function";function H0(t,e,n,i){z0&&!e.options.segment?B0(t,e,n,i):I0(t,e,n,i)}class Ut extends yt{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;Lh(this._points,i,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Uh(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,s=e[n],r=this.points,a=Nc(this,{property:n,start:s,end:s});if(!a.length)return;const l=[],o=F0(i);let d,f;for(d=0,f=a.length;d<f;++d){const{start:y,end:b}=a[d],w=r[y],v=r[b];if(w===v){l.push(w);continue}const x=Math.abs((s-w[n])/(v[n]-w[n])),c=o(w,v,x,i.stepped);c[n]=e[n],l.push(c)}return l.length===1?l[0]:l}pathSegment(e,n,i){return Sr(this)(e,this,n,i)}path(e,n,i){const s=this.segments,r=Sr(this);let a=this._loop;n=n||0,i=i||this.points.length-n;for(const l of s)a&=r(e,this,l,{start:n,end:n+i-1});return!!a}draw(e,n,i,s){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),H0(e,this,i,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ae(Ut,"id","line"),ae(Ut,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ae(Ut,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ae(Ut,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Va(t,e,n,i){const s=t.options,{[n]:r}=t.getProps([n],i);return Math.abs(e-r)<s.radius+s.hitRadius}class as extends yt{constructor(n){super();ae(this,"parsed");ae(this,"skip");ae(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,s){const r=this.options,{x:a,y:l}=this.getProps(["x","y"],s);return Math.pow(n-a,2)+Math.pow(i-l,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(n,i){return Va(this,n,"x",i)}inYRange(n,i){return Va(this,n,"y",i)}getCenterPoint(n){const{x:i,y:s}=this.getProps(["x","y"],n);return{x:i,y:s}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const s=i&&n.borderWidth||0;return(i+s)*2}draw(n,i){const s=this.options;this.skip||s.radius<.1||!Ot(this,i,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,_r(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}ae(as,"id","point"),ae(as,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ae(as,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function $c(t,e){const{x:n,y:i,base:s,width:r,height:a}=t.getProps(["x","y","base","width","height"],e);let l,o,d,f,y;return t.horizontal?(y=a/2,l=Math.min(n,s),o=Math.max(n,s),d=i-y,f=i+y):(y=r/2,l=n-y,o=n+y,d=Math.min(i,s),f=Math.max(i,s)),{left:l,top:d,right:o,bottom:f}}function Wt(t,e,n,i){return t?0:Ke(e,n,i)}function V0(t,e,n){const i=t.options.borderWidth,s=t.borderSkipped,r=vc(i);return{t:Wt(s.top,r.top,0,n),r:Wt(s.right,r.right,0,e),b:Wt(s.bottom,r.bottom,0,n),l:Wt(s.left,r.left,0,e)}}function U0(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,r=hn(s),a=Math.min(e,n),l=t.borderSkipped,o=i||ke(s);return{topLeft:Wt(!o||l.top||l.left,r.topLeft,0,a),topRight:Wt(!o||l.top||l.right,r.topRight,0,a),bottomLeft:Wt(!o||l.bottom||l.left,r.bottomLeft,0,a),bottomRight:Wt(!o||l.bottom||l.right,r.bottomRight,0,a)}}function W0(t){const e=$c(t),n=e.right-e.left,i=e.bottom-e.top,s=V0(t,n/2,i/2),r=U0(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:r},inner:{x:e.left+s.l,y:e.top+s.t,w:n-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}function nr(t,e,n,i){const s=e===null,r=n===null,l=t&&!(s&&r)&&$c(t,i);return l&&(s||Mt(e,l.left,l.right))&&(r||Mt(n,l.top,l.bottom))}function q0(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function $0(t,e){t.rect(e.x,e.y,e.w,e.h)}function ir(t,e,n={}){const i=t.x!==n.x?-e:0,s=t.y!==n.y?-e:0,r=(t.x+t.w!==n.x+n.w?e:0)-i,a=(t.y+t.h!==n.y+n.h?e:0)-s;return{x:t.x+i,y:t.y+s,w:t.w+r,h:t.h+a,radius:t.radius}}class ls extends yt{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:i,backgroundColor:s}}=this,{inner:r,outer:a}=W0(this),l=q0(a.radius)?yi:$0;e.save(),(a.w!==r.w||a.h!==r.h)&&(e.beginPath(),l(e,ir(a,n,r)),e.clip(),l(e,ir(r,-n,a)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),l(e,ir(r,n)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,n,i){return nr(this,e,n,i)}inXRange(e,n){return nr(this,e,null,n)}inYRange(e,n){return nr(this,null,e,n)}getCenterPoint(e){const{x:n,y:i,base:s,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(n+s)/2:n,y:r?i:(i+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}ae(ls,"id","bar"),ae(ls,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ae(ls,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var Z0=Object.freeze({__proto__:null,ArcElement:Qn,BarElement:ls,LineElement:Ut,PointElement:as});const Er=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Ua=Er.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function Zc(t){return Er[t%Er.length]}function Yc(t){return Ua[t%Ua.length]}function Y0(t,e){return t.borderColor=Zc(e),t.backgroundColor=Yc(e),++e}function K0(t,e){return t.backgroundColor=t.data.map(()=>Zc(e++)),e}function X0(t,e){return t.backgroundColor=t.data.map(()=>Yc(e++)),e}function G0(t){let e=0;return(n,i)=>{const s=t.getDatasetMeta(i).controller;s instanceof fn?e=K0(n,e):s instanceof ai?e=X0(n,e):s&&(e=Y0(n,e))}}function Wa(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function Q0(t){return t&&(t.borderColor||t.backgroundColor)}var J0={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;const{data:{datasets:i},options:s}=t.config,{elements:r}=s;if(!n.forceOverride&&(Wa(i)||Q0(s)||r&&Wa(r)))return;const a=G0(t);i.forEach(a)}};function eg(t,e,n,i,s){const r=s.samples||i;if(r>=n)return t.slice(e,e+n);const a=[],l=(n-2)/(r-2);let o=0;const d=e+n-1;let f=e,y,b,w,v,x;for(a[o++]=t[f],y=0;y<r-2;y++){let c=0,u=0,h;const p=Math.floor((y+1)*l)+1+e,m=Math.min(Math.floor((y+2)*l)+1,n)+e,g=m-p;for(h=p;h<m;h++)c+=t[h].x,u+=t[h].y;c/=g,u/=g;const _=Math.floor(y*l)+1+e,C=Math.min(Math.floor((y+1)*l)+1,n)+e,{x:E,y:k}=t[f];for(w=v=-1,h=_;h<C;h++)v=.5*Math.abs((E-c)*(t[h].y-k)-(E-t[h].x)*(u-k)),v>w&&(w=v,b=t[h],x=h);a[o++]=b,f=x}return a[o++]=t[d],a}function tg(t,e,n,i){let s=0,r=0,a,l,o,d,f,y,b,w,v,x;const c=[],u=e+n-1,h=t[e].x,m=t[u].x-h;for(a=e;a<e+n;++a){l=t[a],o=(l.x-h)/m*i,d=l.y;const g=o|0;if(g===f)d<v?(v=d,y=a):d>x&&(x=d,b=a),s=(r*s+l.x)/++r;else{const _=a-1;if(!Te(y)&&!Te(b)){const C=Math.min(y,b),E=Math.max(y,b);C!==w&&C!==_&&c.push({...t[C],x:s}),E!==w&&E!==_&&c.push({...t[E],x:s})}a>0&&_!==w&&c.push(t[_]),c.push(l),f=g,r=0,v=x=d,y=b=w=a}}return c}function Kc(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function qa(t){t.data.datasets.forEach(e=>{Kc(e)})}function ng(t,e){const n=e.length;let i=0,s;const{iScale:r}=t,{min:a,max:l,minDefined:o,maxDefined:d}=r.getUserBounds();return o&&(i=Ke(Nt(e,r.axis,a).lo,0,n-1)),d?s=Ke(Nt(e,r.axis,l).hi+1,i,n)-i:s=n-i,{start:i,count:s}}var ig={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){qa(t);return}const i=t.width;t.data.datasets.forEach((s,r)=>{const{_data:a,indexAxis:l}=s,o=t.getDatasetMeta(r),d=a||s.data;if(Xn([l,t.options.indexAxis])==="y"||!o.controller.supportsDecimation)return;const f=t.scales[o.xAxisID];if(f.type!=="linear"&&f.type!=="time"||t.options.parsing)return;let{start:y,count:b}=ng(o,d);const w=n.threshold||4*i;if(b<=w){Kc(s);return}Te(a)&&(s._data=d,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(x){this._data=x}}));let v;switch(n.algorithm){case"lttb":v=eg(d,y,b,i,n);break;case"min-max":v=tg(d,y,b,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}s._decimated=v})},destroy(t){qa(t)}};function sg(t,e,n){const i=t.segments,s=t.points,r=e.points,a=[];for(const l of i){let{start:o,end:d}=l;d=fo(o,d,s);const f=kr(n,s[o],s[d],l.loop);if(!e.segments){a.push({source:l,target:f,start:s[o],end:s[d]});continue}const y=Nc(e,f);for(const b of y){const w=kr(n,r[b.start],r[b.end],b.loop),v=Mc(l,s,w);for(const x of v)a.push({source:x,target:b,start:{[n]:$a(f,w,"start",Math.max)},end:{[n]:$a(f,w,"end",Math.min)}})}}return a}function kr(t,e,n,i){if(i)return;let s=e[t],r=n[t];return t==="angle"&&(s=at(s),r=at(r)),{property:t,start:s,end:r}}function rg(t,e){const{x:n=null,y:i=null}=t||{},s=e.points,r=[];return e.segments.forEach(({start:a,end:l})=>{l=fo(a,l,s);const o=s[a],d=s[l];i!==null?(r.push({x:o.x,y:i}),r.push({x:d.x,y:i})):n!==null&&(r.push({x:n,y:o.y}),r.push({x:n,y:d.y}))}),r}function fo(t,e,n){for(;e>t;e--){const i=n[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function $a(t,e,n,i){return t&&e?i(t[n],e[n]):t?t[n]:e?e[n]:0}function Xc(t,e){let n=[],i=!1;return Be(t)?(i=!0,n=t):n=rg(t,e),n.length?new Ut({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function Za(t){return t&&t.fill!==!1}function og(t,e,n){let s=t[e].fill;const r=[e];let a;if(!n)return s;for(;s!==!1&&r.indexOf(s)===-1;){if(!Ve(s))return s;if(a=t[s],!a)return!1;if(a.visible)return s;r.push(s),s=a.fill}return!1}function ag(t,e,n){const i=fg(t);if(ke(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return Ve(s)&&Math.floor(s)===s?lg(i[0],e,s,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function lg(t,e,n,i){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=i?!1:n}function cg(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:ke(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function ug(t,e,n){let i;return t==="start"?i=n:t==="end"?i=e.options.reverse?e.min:e.max:ke(t)?i=t.value:i=e.getBaseValue(),i}function fg(t){const e=t.options,n=e.fill;let i=xe(n&&n.target,n);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function dg(t){const{scale:e,index:n,line:i}=t,s=[],r=i.segments,a=i.points,l=hg(e,n);l.push(Xc({x:null,y:e.bottom},i));for(let o=0;o<r.length;o++){const d=r[o];for(let f=d.start;f<=d.end;f++)pg(s,a[f],l)}return new Ut({points:s,options:{}})}function hg(t,e){const n=[],i=t.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const r=i[s];if(r.index===e)break;r.hidden||n.unshift(r.dataset)}return n}function pg(t,e,n){const i=[];for(let s=0;s<n.length;s++){const r=n[s],{first:a,last:l,point:o}=gg(r,e,"x");if(!(!o||a&&l)){if(a)i.unshift(o);else if(t.push(o),!l)break}}t.push(...i)}function gg(t,e,n){const i=t.interpolate(e,n);if(!i)return{};const s=i[n],r=t.segments,a=t.points;let l=!1,o=!1;for(let d=0;d<r.length;d++){const f=r[d],y=a[f.start][n],b=a[f.end][n];if(Mt(s,y,b)){l=s===y,o=s===b;break}}return{first:l,last:o,point:i}}class Gc{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,i){const{x:s,y:r,radius:a}=this;return n=n||{start:0,end:Ie},e.arc(s,r,a,n.end,n.start,!0),!i.bounds}interpolate(e){const{x:n,y:i,radius:s}=this,r=e.angle;return{x:n+Math.cos(r)*s,y:i+Math.sin(r)*s,angle:r}}}function mg(t){const{chart:e,fill:n,line:i}=t;if(Ve(n))return yg(e,n);if(n==="stack")return dg(t);if(n==="shape")return!0;const s=bg(t);return s instanceof Gc?s:Xc(s,i)}function yg(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function bg(t){return(t.scale||{}).getPointPositionForValue?_g(t):vg(t)}function vg(t){const{scale:e={},fill:n}=t,i=cg(n,e);if(Ve(i)){const s=e.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function _g(t){const{scale:e,fill:n}=t,i=e.options,s=e.getLabels().length,r=i.reverse?e.max:e.min,a=ug(n,e,r),l=[];if(i.grid.circular){const o=e.getPointPositionForValue(0,r);return new Gc({x:o.x,y:o.y,radius:e.getDistanceFromCenterForValue(a)})}for(let o=0;o<s;++o)l.push(e.getPointPositionForValue(o,a));return l}function sr(t,e,n){const i=mg(e),{line:s,scale:r,axis:a}=e,l=s.options,o=l.fill,d=l.backgroundColor,{above:f=d,below:y=d}=o||{};i&&s.points.length&&(Os(t,n),xg(t,{line:s,target:i,above:f,below:y,area:n,scale:r,axis:a}),Rs(t))}function xg(t,e){const{line:n,target:i,above:s,below:r,area:a,scale:l}=e,o=n._loop?"angle":e.axis;t.save(),o==="x"&&r!==s&&(Ya(t,i,a.top),Ka(t,{line:n,target:i,color:s,scale:l,property:o}),t.restore(),t.save(),Ya(t,i,a.bottom)),Ka(t,{line:n,target:i,color:r,scale:l,property:o}),t.restore()}function Ya(t,e,n){const{segments:i,points:s}=e;let r=!0,a=!1;t.beginPath();for(const l of i){const{start:o,end:d}=l,f=s[o],y=s[fo(o,d,s)];r?(t.moveTo(f.x,f.y),r=!1):(t.lineTo(f.x,n),t.lineTo(f.x,f.y)),a=!!e.pathSegment(t,l,{move:a}),a?t.closePath():t.lineTo(y.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function Ka(t,e){const{line:n,target:i,property:s,color:r,scale:a}=e,l=sg(n,i,s);for(const{source:o,target:d,start:f,end:y}of l){const{style:{backgroundColor:b=r}={}}=o,w=i!==!0;t.save(),t.fillStyle=b,wg(t,a,w&&kr(s,f,y)),t.beginPath();const v=!!n.pathSegment(t,o);let x;if(w){v?t.closePath():Xa(t,i,y,s);const c=!!i.pathSegment(t,d,{move:v,reverse:!0});x=v&&c,x||Xa(t,i,f,s)}t.closePath(),t.fill(x?"evenodd":"nonzero"),t.restore()}}function wg(t,e,n){const{top:i,bottom:s}=e.chart.chartArea,{property:r,start:a,end:l}=n||{};r==="x"&&(t.beginPath(),t.rect(a,i,l-a,s-i),t.clip())}function Xa(t,e,n,i){const s=e.interpolate(n,i);s&&t.lineTo(s.x,s.y)}var Cg={id:"filler",afterDatasetsUpdate(t,e,n){const i=(t.data.datasets||[]).length,s=[];let r,a,l,o;for(a=0;a<i;++a)r=t.getDatasetMeta(a),l=r.dataset,o=null,l&&l.options&&l instanceof Ut&&(o={visible:t.isDatasetVisible(a),index:a,fill:ag(l,a,i),chart:t,axis:r.controller.options.indexAxis,scale:r.vScale,line:l}),r.$filler=o,s.push(o);for(a=0;a<i;++a)o=s[a],!(!o||o.fill===!1)&&(o.fill=og(s,a,n.propagate))},beforeDraw(t,e,n){const i=n.drawTime==="beforeDraw",s=t.getSortedVisibleDatasetMetas(),r=t.chartArea;for(let a=s.length-1;a>=0;--a){const l=s[a].$filler;l&&(l.line.updateControlPoints(r,l.axis),i&&l.fill&&sr(t.ctx,l,r))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=t.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const r=i[s].$filler;Za(r)&&sr(t.ctx,r,t.chartArea)}},beforeDatasetDraw(t,e,n){const i=e.meta.$filler;!Za(i)||n.drawTime!=="beforeDatasetDraw"||sr(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Ga=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},Sg=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Qa extends yt{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=De(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,s)=>e.sort(i,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,s=Ye(i.font),r=s.size,a=this._computeTitleHeight(),{boxWidth:l,itemHeight:o}=Ga(i,r);let d,f;n.font=s.string,this.isHorizontal()?(d=this.maxWidth,f=this._fitRows(a,r,l,o)+10):(f=this.maxHeight,d=this._fitCols(a,s,l,o)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(f,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,s){const{ctx:r,maxWidth:a,options:{labels:{padding:l}}}=this,o=this.legendHitBoxes=[],d=this.lineWidths=[0],f=s+l;let y=e;r.textAlign="left",r.textBaseline="middle";let b=-1,w=-f;return this.legendItems.forEach((v,x)=>{const c=i+n/2+r.measureText(v.text).width;(x===0||d[d.length-1]+c+2*l>a)&&(y+=f,d[d.length-(x>0?0:1)]=0,w+=f,b++),o[x]={left:0,top:w,row:b,width:c,height:s},d[d.length-1]+=c+l}),y}_fitCols(e,n,i,s){const{ctx:r,maxHeight:a,options:{labels:{padding:l}}}=this,o=this.legendHitBoxes=[],d=this.columnSizes=[],f=a-e;let y=l,b=0,w=0,v=0,x=0;return this.legendItems.forEach((c,u)=>{const{itemWidth:h,itemHeight:p}=Eg(i,n,r,c,s);u>0&&w+p+2*l>f&&(y+=b+l,d.push({width:b,height:w}),v+=b+l,x++,b=w=0),o[u]={left:v,top:w,col:x,width:h,height:p},b=Math.max(b,h),w+=p+l}),y+=b,d.push({width:b,height:w}),y}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:s},rtl:r}}=this,a=Mn(r,this.left,this.width);if(this.isHorizontal()){let l=0,o=Ge(i,this.left+s,this.right-this.lineWidths[l]);for(const d of n)l!==d.row&&(l=d.row,o=Ge(i,this.left+s,this.right-this.lineWidths[l])),d.top+=this.top+e+s,d.left=a.leftForLtr(a.x(o),d.width),o+=d.width+s}else{let l=0,o=Ge(i,this.top+e+s,this.bottom-this.columnSizes[l].height);for(const d of n)d.col!==l&&(l=d.col,o=Ge(i,this.top+e+s,this.bottom-this.columnSizes[l].height)),d.top=o,d.left+=this.left+s,d.left=a.leftForLtr(a.x(d.left),d.width),o+=d.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Os(e,this),this._draw(),Rs(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:s}=this,{align:r,labels:a}=e,l=We.color,o=Mn(e.rtl,this.left,this.width),d=Ye(a.font),{padding:f}=a,y=d.size,b=y/2;let w;this.drawTitle(),s.textAlign=o.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=d.string;const{boxWidth:v,boxHeight:x,itemHeight:c}=Ga(a,y),u=function(_,C,E){if(isNaN(v)||v<=0||isNaN(x)||x<0)return;s.save();const k=xe(E.lineWidth,1);if(s.fillStyle=xe(E.fillStyle,l),s.lineCap=xe(E.lineCap,"butt"),s.lineDashOffset=xe(E.lineDashOffset,0),s.lineJoin=xe(E.lineJoin,"miter"),s.lineWidth=k,s.strokeStyle=xe(E.strokeStyle,l),s.setLineDash(xe(E.lineDash,[])),a.usePointStyle){const T={radius:x*Math.SQRT2/2,pointStyle:E.pointStyle,rotation:E.rotation,borderWidth:k},O=o.xPlus(_,v/2),M=C+b;bc(s,T,O,M,a.pointStyleWidth&&v)}else{const T=C+Math.max((y-x)/2,0),O=o.leftForLtr(_,v),M=hn(E.borderRadius);s.beginPath(),Object.values(M).some(F=>F!==0)?yi(s,{x:O,y:T,w:v,h:x,radius:M}):s.rect(O,T,v,x),s.fill(),k!==0&&s.stroke()}s.restore()},h=function(_,C,E){yn(s,E.text,_,C+c/2,d,{strikethrough:E.hidden,textAlign:o.textAlign(E.textAlign)})},p=this.isHorizontal(),m=this._computeTitleHeight();p?w={x:Ge(r,this.left+f,this.right-i[0]),y:this.top+f+m,line:0}:w={x:this.left+f,y:Ge(r,this.top+m+f,this.bottom-n[0].height),line:0},Tc(this.ctx,e.textDirection);const g=c+f;this.legendItems.forEach((_,C)=>{s.strokeStyle=_.fontColor,s.fillStyle=_.fontColor;const E=s.measureText(_.text).width,k=o.textAlign(_.textAlign||(_.textAlign=a.textAlign)),T=v+b+E;let O=w.x,M=w.y;o.setWidth(this.width),p?C>0&&O+T+f>this.right&&(M=w.y+=g,w.line++,O=w.x=Ge(r,this.left+f,this.right-i[w.line])):C>0&&M+g>this.bottom&&(O=w.x=O+n[w.line].width+f,w.line++,M=w.y=Ge(r,this.top+m+f,this.bottom-n[w.line].height));const F=o.x(O);if(u(F,M,_),O=$d(k,O+v+b,p?O+T:this.right,e.rtl),h(o.x(O),M,_),p)w.x+=T+f;else if(typeof _.text!="string"){const N=d.lineHeight;w.y+=Qc(_,N)}else w.y+=g}),Lc(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=Ye(n.font),s=Je(n.padding);if(!n.display)return;const r=Mn(e.rtl,this.left,this.width),a=this.ctx,l=n.position,o=i.size/2,d=s.top+o;let f,y=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),f=this.top+d,y=Ge(e.align,y,this.right-b);else{const v=this.columnSizes.reduce((x,c)=>Math.max(x,c.height),0);f=d+Ge(e.align,this.top,this.bottom-v-e.labels.padding-this._computeTitleHeight())}const w=Ge(l,y,y+b);a.textAlign=r.textAlign(io(l)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=i.string,yn(a,n.text,w,f,i)}_computeTitleHeight(){const e=this.options.title,n=Ye(e.font),i=Je(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,s,r;if(Mt(e,this.left,this.right)&&Mt(n,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(s=r[i],Mt(e,s.left,s.left+s.width)&&Mt(n,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!Lg(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,r=Sg(s,i);s&&!r&&De(n.onLeave,[e,s,this],this),this._hoveredItem=i,i&&!r&&De(n.onHover,[e,i,this],this)}else i&&De(n.onClick,[e,i,this],this)}}function Eg(t,e,n,i,s){const r=kg(i,t,e,n),a=Tg(s,i,e.lineHeight);return{itemWidth:r,itemHeight:a}}function kg(t,e,n,i){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((r,a)=>r.length>a.length?r:a)),e+n.size/2+i.measureText(s).width}function Tg(t,e,n){let i=t;return typeof e.text!="string"&&(i=Qc(e,n)),i}function Qc(t,e){const n=t.text?t.text.length+.5:0;return e*n}function Lg(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var Ag={id:"legend",_element:Qa,start(t,e,n){const i=t.legend=new Qa({ctx:t.ctx,options:n,chart:t});Qe.configure(t,i,n),Qe.addBox(t,i)},stop(t){Qe.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;Qe.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),e.hidden=!0):(s.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:r,useBorderRadius:a,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(o=>{const d=o.controller.getStyle(n?0:void 0),f=Je(d.borderWidth);return{text:e[o.index].label,fillStyle:d.backgroundColor,fontColor:r,hidden:!o.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(f.width+f.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:s||d.textAlign,borderRadius:a&&(l||d.borderRadius),datasetIndex:o.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class ho extends yt{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=Be(i.text)?i.text.length:1;this._padding=Je(i.padding);const r=s*Ye(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:s,right:r,options:a}=this,l=a.align;let o=0,d,f,y;return this.isHorizontal()?(f=Ge(l,i,r),y=n+e,d=r-i):(a.position==="left"?(f=i+e,y=Ge(l,s,n),o=He*-.5):(f=r-e,y=Ge(l,n,s),o=He*.5),d=s-n),{titleX:f,titleY:y,maxWidth:d,rotation:o}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=Ye(n.font),r=i.lineHeight/2+this._padding.top,{titleX:a,titleY:l,maxWidth:o,rotation:d}=this._drawArgs(r);yn(e,n.text,0,0,i,{color:n.color,maxWidth:o,rotation:d,textAlign:io(n.align),textBaseline:"middle",translation:[a,l]})}}function Mg(t,e){const n=new ho({ctx:t.ctx,options:e,chart:t});Qe.configure(t,n,e),Qe.addBox(t,n),t.titleBlock=n}var Ng={id:"title",_element:ho,start(t,e,n){Mg(t,n)},stop(t){const e=t.titleBlock;Qe.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;Qe.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ui=new WeakMap;var Og={id:"subtitle",start(t,e,n){const i=new ho({ctx:t.ctx,options:n,chart:t});Qe.configure(t,i,n),Qe.addBox(t,i),Ui.set(t,i)},stop(t){Qe.removeBox(t,Ui.get(t)),Ui.delete(t)},beforeUpdate(t,e,n){const i=Ui.get(t);Qe.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Jn={average(t){if(!t.length)return!1;let e,n,i=0,s=0,r=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();i+=l.x,s+=l.y,++r}}return{x:i/r,y:s/r}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,s=Number.POSITIVE_INFINITY,r,a,l;for(r=0,a=t.length;r<a;++r){const o=t[r].element;if(o&&o.hasValue()){const d=o.getCenterPoint(),f=br(e,d);f<s&&(s=f,l=o)}}if(l){const o=l.tooltipPosition();n=o.x,i=o.y}return{x:n,y:i}}};function xt(t,e){return e&&(Be(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Lt(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function Rg(t,e){const{element:n,datasetIndex:i,index:s}=e,r=t.getDatasetMeta(i).controller,{label:a,value:l}=r.getLabelAndValue(s);return{chart:t,label:a,parsed:r.getParsed(s),raw:t.data.datasets[i].data[s],formattedValue:l,dataset:r.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function Ja(t,e){const n=t.chart.ctx,{body:i,footer:s,title:r}=t,{boxWidth:a,boxHeight:l}=e,o=Ye(e.bodyFont),d=Ye(e.titleFont),f=Ye(e.footerFont),y=r.length,b=s.length,w=i.length,v=Je(e.padding);let x=v.height,c=0,u=i.reduce((m,g)=>m+g.before.length+g.lines.length+g.after.length,0);if(u+=t.beforeBody.length+t.afterBody.length,y&&(x+=y*d.lineHeight+(y-1)*e.titleSpacing+e.titleMarginBottom),u){const m=e.displayColors?Math.max(l,o.lineHeight):o.lineHeight;x+=w*m+(u-w)*o.lineHeight+(u-1)*e.bodySpacing}b&&(x+=e.footerMarginTop+b*f.lineHeight+(b-1)*e.footerSpacing);let h=0;const p=function(m){c=Math.max(c,n.measureText(m).width+h)};return n.save(),n.font=d.string,Ae(t.title,p),n.font=o.string,Ae(t.beforeBody.concat(t.afterBody),p),h=e.displayColors?a+2+e.boxPadding:0,Ae(i,m=>{Ae(m.before,p),Ae(m.lines,p),Ae(m.after,p)}),h=0,n.font=f.string,Ae(t.footer,p),n.restore(),c+=v.width,{width:c,height:x}}function Dg(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function Pg(t,e,n,i){const{x:s,width:r}=i,a=n.caretSize+n.caretPadding;if(t==="left"&&s+r+a>e.width||t==="right"&&s-r-a<0)return!0}function jg(t,e,n,i){const{x:s,width:r}=n,{width:a,chartArea:{left:l,right:o}}=t;let d="center";return i==="center"?d=s<=(l+o)/2?"left":"right":s<=r/2?d="left":s>=a-r/2&&(d="right"),Pg(d,t,e,n)&&(d="center"),d}function el(t,e,n){const i=n.yAlign||e.yAlign||Dg(t,n);return{xAlign:n.xAlign||e.xAlign||jg(t,e,n,i),yAlign:i}}function Fg(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function Bg(t,e,n){let{y:i,height:s}=t;return e==="top"?i+=n:e==="bottom"?i-=s+n:i-=s/2,i}function tl(t,e,n,i){const{caretSize:s,caretPadding:r,cornerRadius:a}=t,{xAlign:l,yAlign:o}=n,d=s+r,{topLeft:f,topRight:y,bottomLeft:b,bottomRight:w}=hn(a);let v=Fg(e,l);const x=Bg(e,o,d);return o==="center"?l==="left"?v+=d:l==="right"&&(v-=d):l==="left"?v-=Math.max(f,b)+s:l==="right"&&(v+=Math.max(y,w)+s),{x:Ke(v,0,i.width-e.width),y:Ke(x,0,i.height-e.height)}}function Wi(t,e,n){const i=Je(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function nl(t){return xt([],Lt(t))}function Ig(t,e,n){return en(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function il(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const Jc={beforeTitle:kt,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:kt,beforeBody:kt,beforeLabel:kt,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Te(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:kt,afterBody:kt,beforeFooter:kt,footer:kt,afterFooter:kt};function tt(t,e,n,i){const s=t[e].call(n,i);return typeof s>"u"?Jc[e].call(n,i):s}class Tr extends yt{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&n.options.animation&&i.animations,r=new Oc(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=Ig(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,s=tt(i,"beforeTitle",this,e),r=tt(i,"title",this,e),a=tt(i,"afterTitle",this,e);let l=[];return l=xt(l,Lt(s)),l=xt(l,Lt(r)),l=xt(l,Lt(a)),l}getBeforeBody(e,n){return nl(tt(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,s=[];return Ae(e,r=>{const a={before:[],lines:[],after:[]},l=il(i,r);xt(a.before,Lt(tt(l,"beforeLabel",this,r))),xt(a.lines,tt(l,"label",this,r)),xt(a.after,Lt(tt(l,"afterLabel",this,r))),s.push(a)}),s}getAfterBody(e,n){return nl(tt(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,s=tt(i,"beforeFooter",this,e),r=tt(i,"footer",this,e),a=tt(i,"afterFooter",this,e);let l=[];return l=xt(l,Lt(s)),l=xt(l,Lt(r)),l=xt(l,Lt(a)),l}_createItems(e){const n=this._active,i=this.chart.data,s=[],r=[],a=[];let l=[],o,d;for(o=0,d=n.length;o<d;++o)l.push(Rg(this.chart,n[o]));return e.filter&&(l=l.filter((f,y,b)=>e.filter(f,y,b,i))),e.itemSort&&(l=l.sort((f,y)=>e.itemSort(f,y,i))),Ae(l,f=>{const y=il(e.callbacks,f);s.push(tt(y,"labelColor",this,f)),r.push(tt(y,"labelPointStyle",this,f)),a.push(tt(y,"labelTextColor",this,f))}),this.labelColors=s,this.labelPointStyles=r,this.labelTextColors=a,this.dataPoints=l,l}update(e,n){const i=this.options.setContext(this.getContext()),s=this._active;let r,a=[];if(!s.length)this.opacity!==0&&(r={opacity:0});else{const l=Jn[i.position].call(this,s,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);const o=this._size=Ja(this,i),d=Object.assign({},l,o),f=el(this.chart,i,d),y=tl(i,d,f,this.chart);this.xAlign=f.xAlign,this.yAlign=f.yAlign,r={opacity:1,x:y.x,y:y.y,width:o.width,height:o.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,s){const r=this.getCaretPosition(e,i,s);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(e,n,i){const{xAlign:s,yAlign:r}=this,{caretSize:a,cornerRadius:l}=i,{topLeft:o,topRight:d,bottomLeft:f,bottomRight:y}=hn(l),{x:b,y:w}=e,{width:v,height:x}=n;let c,u,h,p,m,g;return r==="center"?(m=w+x/2,s==="left"?(c=b,u=c-a,p=m+a,g=m-a):(c=b+v,u=c+a,p=m-a,g=m+a),h=c):(s==="left"?u=b+Math.max(o,f)+a:s==="right"?u=b+v-Math.max(d,y)-a:u=this.caretX,r==="top"?(p=w,m=p-a,c=u-a,h=u+a):(p=w+x,m=p+a,c=u+a,h=u-a),g=p),{x1:c,x2:u,x3:h,y1:p,y2:m,y3:g}}drawTitle(e,n,i){const s=this.title,r=s.length;let a,l,o;if(r){const d=Mn(i.rtl,this.x,this.width);for(e.x=Wi(this,i.titleAlign,i),n.textAlign=d.textAlign(i.titleAlign),n.textBaseline="middle",a=Ye(i.titleFont),l=i.titleSpacing,n.fillStyle=i.titleColor,n.font=a.string,o=0;o<r;++o)n.fillText(s[o],d.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+l,o+1===r&&(e.y+=i.titleMarginBottom-l)}}_drawColorBox(e,n,i,s,r){const a=this.labelColors[i],l=this.labelPointStyles[i],{boxHeight:o,boxWidth:d}=r,f=Ye(r.bodyFont),y=Wi(this,"left",r),b=s.x(y),w=o<f.lineHeight?(f.lineHeight-o)/2:0,v=n.y+w;if(r.usePointStyle){const x={radius:Math.min(d,o)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},c=s.leftForLtr(b,d)+d/2,u=v+o/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,_r(e,x,c,u),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,_r(e,x,c,u)}else{e.lineWidth=ke(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const x=s.leftForLtr(b,d),c=s.leftForLtr(s.xPlus(b,1),d-2),u=hn(a.borderRadius);Object.values(u).some(h=>h!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,yi(e,{x,y:v,w:d,h:o,radius:u}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),yi(e,{x:c,y:v+1,w:d-2,h:o-2,radius:u}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(x,v,d,o),e.strokeRect(x,v,d,o),e.fillStyle=a.backgroundColor,e.fillRect(c,v+1,d-2,o-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:s}=this,{bodySpacing:r,bodyAlign:a,displayColors:l,boxHeight:o,boxWidth:d,boxPadding:f}=i,y=Ye(i.bodyFont);let b=y.lineHeight,w=0;const v=Mn(i.rtl,this.x,this.width),x=function(E){n.fillText(E,v.x(e.x+w),e.y+b/2),e.y+=b+r},c=v.textAlign(a);let u,h,p,m,g,_,C;for(n.textAlign=a,n.textBaseline="middle",n.font=y.string,e.x=Wi(this,c,i),n.fillStyle=i.bodyColor,Ae(this.beforeBody,x),w=l&&c!=="right"?a==="center"?d/2+f:d+2+f:0,m=0,_=s.length;m<_;++m){for(u=s[m],h=this.labelTextColors[m],n.fillStyle=h,Ae(u.before,x),p=u.lines,l&&p.length&&(this._drawColorBox(n,e,m,v,i),b=Math.max(y.lineHeight,o)),g=0,C=p.length;g<C;++g)x(p[g]),b=y.lineHeight;Ae(u.after,x)}w=0,b=y.lineHeight,Ae(this.afterBody,x),e.y-=r}drawFooter(e,n,i){const s=this.footer,r=s.length;let a,l;if(r){const o=Mn(i.rtl,this.x,this.width);for(e.x=Wi(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=o.textAlign(i.footerAlign),n.textBaseline="middle",a=Ye(i.footerFont),n.fillStyle=i.footerColor,n.font=a.string,l=0;l<r;++l)n.fillText(s[l],o.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+i.footerSpacing}}drawBackground(e,n,i,s){const{xAlign:r,yAlign:a}=this,{x:l,y:o}=e,{width:d,height:f}=i,{topLeft:y,topRight:b,bottomLeft:w,bottomRight:v}=hn(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(l+y,o),a==="top"&&this.drawCaret(e,n,i,s),n.lineTo(l+d-b,o),n.quadraticCurveTo(l+d,o,l+d,o+b),a==="center"&&r==="right"&&this.drawCaret(e,n,i,s),n.lineTo(l+d,o+f-v),n.quadraticCurveTo(l+d,o+f,l+d-v,o+f),a==="bottom"&&this.drawCaret(e,n,i,s),n.lineTo(l+w,o+f),n.quadraticCurveTo(l,o+f,l,o+f-w),a==="center"&&r==="left"&&this.drawCaret(e,n,i,s),n.lineTo(l,o+y),n.quadraticCurveTo(l,o,l+y,o),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,s=i&&i.x,r=i&&i.y;if(s||r){const a=Jn[e.position].call(this,this._active,this._eventPosition);if(!a)return;const l=this._size=Ja(this,e),o=Object.assign({},a,this._size),d=el(n,e,o),f=tl(e,o,d,n);(s._to!==f.x||r._to!==f.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,f))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const a=Je(n.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&l&&(e.save(),e.globalAlpha=i,this.drawBackground(r,e,s,n),Tc(e,n.textDirection),r.y+=a.top,this.drawTitle(r,e,n),this.drawBody(r,e,n),this.drawFooter(r,e,n),Lc(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,s=e.map(({datasetIndex:l,index:o})=>{const d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[o],index:o}}),r=!hs(i,s),a=this._positionChanged(s,n);(r||a)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,r=this._active||[],a=this._getActiveElements(e,r,n,i),l=this._positionChanged(a,e),o=n||!hs(a,r)||l;return o&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),o}_getActiveElements(e,n,i,s){const r=this.options;if(e.type==="mouseout")return[];if(!s)return n;const a=this.chart.getElementsAtEventForMode(e,r.mode,r,i);return r.reverse&&a.reverse(),a}_positionChanged(e,n){const{caretX:i,caretY:s,options:r}=this,a=Jn[r.position].call(this,e,n);return a!==!1&&(i!==a.x||s!==a.y)}}ae(Tr,"positioners",Jn);var zg={id:"tooltip",_element:Tr,positioners:Jn,afterInit(t,e,n){n&&(t.tooltip=new Tr({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Jc},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Hg=Object.freeze({__proto__:null,Colors:J0,Decimation:ig,Filler:Cg,Legend:Ag,SubTitle:Og,Title:Ng,Tooltip:zg});const Vg=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function Ug(t,e,n,i){const s=t.indexOf(e);if(s===-1)return Vg(t,e,n,i);const r=t.lastIndexOf(e);return s!==r?n:s}const Wg=(t,e)=>t===null?null:Ke(Math.round(t),0,e);function sl(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Lr extends Sn{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:s,label:r}of n)i[s]===r&&i.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Te(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:Ug(i,e,xe(n,e),this._addedLabels),Wg(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,s=[];let r=this.getLabels();r=e===0&&n===r.length-1?r:r.slice(e,n+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=e;a<=n;a++)s.push({value:a});return s}getLabelForValue(e){return sl.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}ae(Lr,"id","category"),ae(Lr,"defaults",{ticks:{callback:sl}});function qg(t,e){const n=[],{bounds:s,step:r,min:a,max:l,precision:o,count:d,maxTicks:f,maxDigits:y,includeBounds:b}=t,w=r||1,v=f-1,{min:x,max:c}=e,u=!Te(a),h=!Te(l),p=!Te(d),m=(c-x)/(y+1);let g=Qo((c-x)/v/w)*w,_,C,E,k;if(g<1e-14&&!u&&!h)return[{value:x},{value:c}];k=Math.ceil(c/g)-Math.floor(x/g),k>v&&(g=Qo(k*g/v/w)*w),Te(o)||(_=Math.pow(10,o),g=Math.ceil(g*_)/_),s==="ticks"?(C=Math.floor(x/g)*g,E=Math.ceil(c/g)*g):(C=x,E=c),u&&h&&r&&Id((l-a)/r,g/1e3)?(k=Math.round(Math.min((l-a)/g,f)),g=(l-a)/k,C=a,E=l):p?(C=u?a:C,E=h?l:E,k=d-1,g=(E-C)/k):(k=(E-C)/g,ii(k,Math.round(k),g/1e3)?k=Math.round(k):k=Math.ceil(k));const T=Math.max(Jo(g),Jo(C));_=Math.pow(10,Te(o)?T:o),C=Math.round(C*_)/_,E=Math.round(E*_)/_;let O=0;for(u&&(b&&C!==a?(n.push({value:a}),C<a&&O++,ii(Math.round((C+O*g)*_)/_,a,rl(a,m,t))&&O++):C<a&&O++);O<k;++O){const M=Math.round((C+O*g)*_)/_;if(h&&M>l)break;n.push({value:M})}return h&&b&&E!==l?n.length&&ii(n[n.length-1].value,l,rl(l,m,t))?n[n.length-1].value=l:n.push({value:l}):(!h||E===l)&&n.push({value:E}),n}function rl(t,e,{horizontal:n,minRotation:i}){const s=pt(i),r=(n?Math.sin(s):Math.cos(s))||.001,a=.75*e*(""+t).length;return Math.min(e/r,a)}class _s extends Sn{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Te(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:s,max:r}=this;const a=o=>s=n?s:o,l=o=>r=i?r:o;if(e){const o=St(s),d=St(r);o<0&&d<0?l(0):o>0&&d>0&&a(0)}if(s===r){let o=r===0?1:Math.abs(r*.05);l(r+o),e||a(s-o)}this.min=s,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,a=qg(s,r);return e.bounds==="ticks"&&cc(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const s=(i-n)/Math.max(e.length-1,1)/2;n-=s,i+=s}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return ki(e,this.chart.options.locale,this.options.ticks.format)}}class Ar extends _s{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Ve(e)?e:0,this.max=Ve(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=pt(this.options.ticks.minRotation),s=(e?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}ae(Ar,"id","linear"),ae(Ar,"defaults",{ticks:{callback:Ns.formatters.numeric}});const vi=t=>Math.floor(Vt(t)),rn=(t,e)=>Math.pow(10,vi(t)+e);function ol(t){return t/Math.pow(10,vi(t))===1}function al(t,e,n){const i=Math.pow(10,n),s=Math.floor(t/i);return Math.ceil(e/i)-s}function $g(t,e){const n=e-t;let i=vi(n);for(;al(t,e,i)>10;)i++;for(;al(t,e,i)<10;)i--;return Math.min(i,vi(t))}function Zg(t,{min:e,max:n}){e=ot(t.min,e);const i=[],s=vi(e);let r=$g(e,n),a=r<0?Math.pow(10,Math.abs(r)):1;const l=Math.pow(10,r),o=s>r?Math.pow(10,s):0,d=Math.round((e-o)*a)/a,f=Math.floor((e-o)/l/10)*l*10;let y=Math.floor((d-f)/Math.pow(10,r)),b=ot(t.min,Math.round((o+f+y*Math.pow(10,r))*a)/a);for(;b<n;)i.push({value:b,major:ol(b),significand:y}),y>=10?y=y<15?15:20:y++,y>=20&&(r++,y=2,a=r>=0?1:a),b=Math.round((o+f+y*Math.pow(10,r))*a)/a;const w=ot(t.max,b);return i.push({value:w,major:ol(w),significand:y}),i}class Mr extends Sn{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const i=_s.prototype.parse.apply(this,[e,n]);if(i===0){this._zero=!0;return}return Ve(i)&&i>0?i:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Ve(e)?Math.max(0,e):null,this.max=Ve(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Ve(this._userMin)&&(this.min=e===rn(this.min,0)?rn(this.min,-1):rn(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let i=this.min,s=this.max;const r=l=>i=e?i:l,a=l=>s=n?s:l;i===s&&(i<=0?(r(1),a(10)):(r(rn(i,-1)),a(rn(s,1)))),i<=0&&r(rn(s,-1)),s<=0&&a(rn(i,1)),this.min=i,this.max=s}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},i=Zg(n,this);return e.bounds==="ticks"&&cc(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":ki(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Vt(e),this._valueRange=Vt(this.max)-Vt(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Vt(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}ae(Mr,"id","logarithmic"),ae(Mr,"defaults",{ticks:{callback:Ns.formatters.logarithmic,major:{enabled:!0}}});function Nr(t){const e=t.ticks;if(e.display&&t.display){const n=Je(e.backdropPadding);return xe(e.font&&e.font.size,We.font.size)+n.height}return 0}function Yg(t,e,n){return n=Be(n)?n:[n],{w:nh(t,e.string,n),h:n.length*e.lineHeight}}function ll(t,e,n,i,s){return t===i||t===s?{start:e-n/2,end:e+n/2}:t<i||t>s?{start:e-n,end:e}:{start:e,end:e+n}}function Kg(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),i=[],s=[],r=t._pointLabels.length,a=t.options.pointLabels,l=a.centerPointLabels?He/r:0;for(let o=0;o<r;o++){const d=a.setContext(t.getPointLabelContext(o));s[o]=d.padding;const f=t.getPointPosition(o,t.drawingArea+s[o],l),y=Ye(d.font),b=Yg(t.ctx,y,t._pointLabels[o]);i[o]=b;const w=at(t.getIndexAngle(o)+l),v=Math.round(to(w)),x=ll(v,f.x,b.w,0,180),c=ll(v,f.y,b.h,90,270);Xg(n,e,w,x,c)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=Jg(t,i,s)}function Xg(t,e,n,i,s){const r=Math.abs(Math.sin(n)),a=Math.abs(Math.cos(n));let l=0,o=0;i.start<e.l?(l=(e.l-i.start)/r,t.l=Math.min(t.l,e.l-l)):i.end>e.r&&(l=(i.end-e.r)/r,t.r=Math.max(t.r,e.r+l)),s.start<e.t?(o=(e.t-s.start)/a,t.t=Math.min(t.t,e.t-o)):s.end>e.b&&(o=(s.end-e.b)/a,t.b=Math.max(t.b,e.b+o))}function Gg(t,e,n){const i=t.drawingArea,{extra:s,additionalAngle:r,padding:a,size:l}=n,o=t.getPointPosition(e,i+s+a,r),d=Math.round(to(at(o.angle+Ue))),f=nm(o.y,l.h,d),y=em(d),b=tm(o.x,l.w,y);return{visible:!0,x:o.x,y:f,textAlign:y,left:b,top:f,right:b+l.w,bottom:f+l.h}}function Qg(t,e){if(!e)return!0;const{left:n,top:i,right:s,bottom:r}=t;return!(Ot({x:n,y:i},e)||Ot({x:n,y:r},e)||Ot({x:s,y:i},e)||Ot({x:s,y:r},e))}function Jg(t,e,n){const i=[],s=t._pointLabels.length,r=t.options,{centerPointLabels:a,display:l}=r.pointLabels,o={extra:Nr(r)/2,additionalAngle:a?He/s:0};let d;for(let f=0;f<s;f++){o.padding=n[f],o.size=e[f];const y=Gg(t,f,o);i.push(y),l==="auto"&&(y.visible=Qg(y,d),y.visible&&(d=y))}return i}function em(t){return t===0||t===180?"center":t<180?"left":"right"}function tm(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function nm(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function im(t,e,n){const{left:i,top:s,right:r,bottom:a}=n,{backdropColor:l}=e;if(!Te(l)){const o=hn(e.borderRadius),d=Je(e.backdropPadding);t.fillStyle=l;const f=i-d.left,y=s-d.top,b=r-i+d.width,w=a-s+d.height;Object.values(o).some(v=>v!==0)?(t.beginPath(),yi(t,{x:f,y,w:b,h:w,radius:o}),t.fill()):t.fillRect(f,y,b,w)}}function sm(t,e){const{ctx:n,options:{pointLabels:i}}=t;for(let s=e-1;s>=0;s--){const r=t._pointLabelItems[s];if(!r.visible)continue;const a=i.setContext(t.getPointLabelContext(s));im(n,a,r);const l=Ye(a.font),{x:o,y:d,textAlign:f}=r;yn(n,t._pointLabels[s],o,d+l.lineHeight/2,l,{color:a.color,textAlign:f,textBaseline:"middle"})}}function eu(t,e,n,i){const{ctx:s}=t;if(n)s.arc(t.xCenter,t.yCenter,e,0,Ie);else{let r=t.getPointPosition(0,e);s.moveTo(r.x,r.y);for(let a=1;a<i;a++)r=t.getPointPosition(a,e),s.lineTo(r.x,r.y)}}function rm(t,e,n,i,s){const r=t.ctx,a=e.circular,{color:l,lineWidth:o}=e;!a&&!i||!l||!o||n<0||(r.save(),r.strokeStyle=l,r.lineWidth=o,r.setLineDash(s.dash),r.lineDashOffset=s.dashOffset,r.beginPath(),eu(t,n,a,i),r.closePath(),r.stroke(),r.restore())}function om(t,e,n){return en(t,{label:n,index:e,type:"pointLabel"})}class ei extends _s{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Je(Nr(this.options)/2),n=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=Ve(e)&&!isNaN(e)?e:0,this.max=Ve(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Nr(this.options))}generateTickLabels(e){_s.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,i)=>{const s=De(this.options.pointLabels.callback,[n,i],this);return s||s===0?s:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?Kg(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,i,s){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,i,s))}getIndexAngle(e){const n=Ie/(this._pointLabels.length||1),i=this.options.startAngle||0;return at(e*n+pt(i))}getDistanceFromCenterForValue(e){if(Te(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(Te(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const i=n[e];return om(this.getContext(),e,i)}}getPointPosition(e,n,i=0){const s=this.getIndexAngle(e)-Ue+i;return{x:Math.cos(s)*n+this.xCenter,y:Math.sin(s)*n+this.yCenter,angle:s}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:i,right:s,bottom:r}=this._pointLabelItems[e];return{left:n,top:i,right:s,bottom:r}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),eu(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:i,grid:s,border:r}=n,a=this._pointLabels.length;let l,o,d;if(n.pointLabels.display&&sm(this,a),s.display&&this.ticks.forEach((f,y)=>{if(y!==0){o=this.getDistanceFromCenterForValue(f.value);const b=this.getContext(y),w=s.setContext(b),v=r.setContext(b);rm(this,w,o,a,v)}}),i.display){for(e.save(),l=a-1;l>=0;l--){const f=i.setContext(this.getPointLabelContext(l)),{color:y,lineWidth:b}=f;!b||!y||(e.lineWidth=b,e.strokeStyle=y,e.setLineDash(f.borderDash),e.lineDashOffset=f.borderDashOffset,o=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),d=this.getPointPosition(l,o),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(d.x,d.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let r,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(s),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((l,o)=>{if(o===0&&!n.reverse)return;const d=i.setContext(this.getContext(o)),f=Ye(d.font);if(r=this.getDistanceFromCenterForValue(this.ticks[o].value),d.showLabelBackdrop){e.font=f.string,a=e.measureText(l.label).width,e.fillStyle=d.backdropColor;const y=Je(d.backdropPadding);e.fillRect(-a/2-y.left,-r-f.size/2-y.top,a+y.width,f.size+y.height)}yn(e,l.label,0,-r,f,{color:d.color})}),e.restore()}drawTitle(){}}ae(ei,"id","radialLinear"),ae(ei,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ns.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),ae(ei,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),ae(ei,"descriptors",{angleLines:{_fallback:"grid"}});const js={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},it=Object.keys(js);function am(t,e){return t-e}function cl(t,e){if(Te(e))return null;const n=t._adapter,{parser:i,round:s,isoWeekday:r}=t._parseOpts;let a=e;return typeof i=="function"&&(a=i(a)),Ve(a)||(a=typeof i=="string"?n.parse(a,i):n.parse(a)),a===null?null:(s&&(a=s==="week"&&(Nn(r)||r===!0)?n.startOf(a,"isoWeek",r):n.startOf(a,s)),+a)}function ul(t,e,n,i){const s=it.length;for(let r=it.indexOf(t);r<s-1;++r){const a=js[it[r]],l=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-e)/(l*a.size))<=i)return it[r]}return it[s-1]}function lm(t,e,n,i,s){for(let r=it.length-1;r>=it.indexOf(n);r--){const a=it[r];if(js[a].common&&t._adapter.diff(s,i,a)>=e-1)return a}return it[n?it.indexOf(n):0]}function cm(t){for(let e=it.indexOf(t)+1,n=it.length;e<n;++e)if(js[it[e]].common)return it[e]}function fl(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:s}=no(n,e),r=n[i]>=e?n[i]:n[s];t[r]=!0}}function um(t,e,n,i){const s=t._adapter,r=+s.startOf(e[0].value,i),a=e[e.length-1].value;let l,o;for(l=r;l<=a;l=+s.add(l,1,i))o=n[l],o>=0&&(e[o].major=!0);return e}function dl(t,e,n){const i=[],s={},r=e.length;let a,l;for(a=0;a<r;++a)l=e[a],s[l]=a,i.push({value:l,major:!1});return r===0||!n?i:um(t,i,s,n)}class _i extends Sn{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),s=this._adapter=new bp._date(e.adapters.date);s.init(n),ni(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:cl(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:s,max:r,minDefined:a,maxDefined:l}=this.getUserBounds();function o(d){!a&&!isNaN(d.min)&&(s=Math.min(s,d.min)),!l&&!isNaN(d.max)&&(r=Math.max(r,d.max))}(!a||!l)&&(o(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&o(this.getMinMax(!1))),s=Ve(s)&&!isNaN(s)?s:+n.startOf(Date.now(),i),r=Ve(r)&&!isNaN(r)?r:+n.endOf(Date.now(),i)+1,this.min=Math.min(s,r-1),this.max=Math.max(s+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const r=this.min,a=this.max,l=Ud(s,r,a);return this._unit=n.unit||(i.autoSkip?ul(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):lm(this,l.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:cm(this._unit),this.initOffsets(s),e.reverse&&l.reverse(),dl(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,s,r;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?i=r:i=(r-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;n=Ke(n,0,a),i=Ke(i,0,a),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,s=this.options,r=s.time,a=r.unit||ul(r.minUnit,n,i,this._getLabelCapacity(n)),l=xe(s.ticks.stepSize,1),o=a==="week"?r.isoWeekday:!1,d=Nn(o)||o===!0,f={};let y=n,b,w;if(d&&(y=+e.startOf(y,"isoWeek",o)),y=+e.startOf(y,d?"day":a),e.diff(i,n,a)>1e5*l)throw new Error(n+" and "+i+" are too far apart with stepSize of "+l+" "+a);const v=s.ticks.source==="data"&&this.getDataTimestamps();for(b=y,w=0;b<i;b=+e.add(b,l,a),w++)fl(f,b,v);return(b===i||s.bounds==="ticks"||w===1)&&fl(f,b,v),Object.keys(f).sort((x,c)=>x-c).map(x=>+x)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,r=this._unit,a=n||s[r];return this._adapter.format(e,a)}_tickFormatFunction(e,n,i,s){const r=this.options,a=r.ticks.callback;if(a)return De(a,[e,n,i],this);const l=r.time.displayFormats,o=this._unit,d=this._majorUnit,f=o&&l[o],y=d&&l[d],b=i[n],w=d&&y&&b&&b.major;return this._adapter.format(e,s||(w?y:f))}generateTickLabels(e){let n,i,s;for(n=0,i=e.length;n<i;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,s=pt(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(s),a=Math.sin(s),l=this._resolveTickFontOptions(0).size;return{w:i*r+l*a,h:i*a+l*r}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,s=i[n.unit]||i.millisecond,r=this._tickFormatFunction(e,0,dl(this,[e],this._majorUnit),s),a=this._getLabelSize(r),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,i=s.length;n<i;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const s=this.getLabels();for(n=0,i=s.length;n<i;++n)e.push(cl(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return dc(e.sort(am))}}ae(_i,"id","time"),ae(_i,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function qi(t,e,n){let i=0,s=t.length-1,r,a,l,o;n?(e>=t[i].pos&&e<=t[s].pos&&({lo:i,hi:s}=Nt(t,"pos",e)),{pos:r,time:l}=t[i],{pos:a,time:o}=t[s]):(e>=t[i].time&&e<=t[s].time&&({lo:i,hi:s}=Nt(t,"time",e)),{time:r,pos:l}=t[i],{time:a,pos:o}=t[s]);const d=a-r;return d?l+(o-l)*(e-r)/d:l}class Or extends _i{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=qi(n,this.min),this._tableRange=qi(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,s=[],r=[];let a,l,o,d,f;for(a=0,l=e.length;a<l;++a)d=e[a],d>=n&&d<=i&&s.push(d);if(s.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(a=0,l=s.length;a<l;++a)f=s[a+1],o=s[a-1],d=s[a],Math.round((f+o)/2)!==d&&r.push({time:d,pos:a/(l-1)});return r}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(qi(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return qi(this._table,i*this._tableRange+this._minPos,!0)}}ae(Or,"id","timeseries"),ae(Or,"defaults",_i.defaults);var fm=Object.freeze({__proto__:null,CategoryScale:Lr,LinearScale:Ar,LogarithmicScale:Mr,RadialLinearScale:ei,TimeScale:_i,TimeSeriesScale:Or});const dm=[yp,Z0,Hg,fm];Ps.register(...dm);function Li(t){return S.jsx("div",{className:"close-icon flex",...t,children:S.jsx("i",{className:"close-icon-i fas fa-times"})})}function hm(t){return Ci.createPortal(S.jsx("div",{className:"modal flex",onClick:e=>e.stopPropagation(),...t,children:t.children}),document.getElementById("modals-elements"))}function pm({modal_style:t={},...e}){return S.jsx(jt,{...e,modal_style:{...t,maxHeight:"100vh",minHeight:"100vh",maxWidth:"100vw",minWidth:"100vw"}})}function jt({curtain_style:t,modal_style:e,style:n,show:i,closer:s,children:r,foot_children:a,title:l="Modal Title"}){return i?S.jsx(hm,{style:t,children:S.jsxs("div",{style:e,className:"modal-container anim_view_scale flex",children:[S.jsxs("div",{className:"modal-header flex",style:{gap:"2rem"},children:[S.jsx("h3",{style:{width:"100%",overflow:"hidden"},children:l}),S.jsx(Li,{onClick:s})]}),S.jsx("div",{className:"modal-body scroll",style:n,children:r}),S.jsx("div",{className:"modal-foot",children:a})]})}):S.jsx(S.Fragment,{})}var gm={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function mm(t){if(typeof t=="number")return{value:t,unit:"px"};var e,n=(t.match(/^[0-9.]*/)||"").toString();n.includes(".")?e=parseFloat(n):e=parseInt(n,10);var i=(t.match(/[^0-9]*$/)||"").toString();return gm[i]?{value:e,unit:i}:(console.warn("React Spinners: ".concat(t," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}var Tn=function(t,e,n){var i="react-spinners-".concat(t,"-").concat(n);if(typeof window>"u"||!window.document)return i;var s=document.createElement("style");document.head.appendChild(s);var r=s.sheet,a=`
    @keyframes `.concat(i,` {
      `).concat(e,`
    }
  `);return r&&r.insertRule(a,0),i},xs=globalThis&&globalThis.__assign||function(){return xs=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},xs.apply(this,arguments)},ym=globalThis&&globalThis.__rest||function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n},Xe=[1,3,5],bm=[Tn("PropagateLoader","25% {transform: translateX(-".concat(Xe[0],`rem) scale(0.75)}
    50% {transform: translateX(-`).concat(Xe[1],`rem) scale(0.6)}
    75% {transform: translateX(-`).concat(Xe[2],`rem) scale(0.5)}
    95% {transform: translateX(0rem) scale(1)}`),"propogate-0"),Tn("PropagateLoader","25% {transform: translateX(-".concat(Xe[0],`rem) scale(0.75)}
    50% {transform: translateX(-`).concat(Xe[1],`rem) scale(0.6)}
    75% {transform: translateX(-`).concat(Xe[1],`rem) scale(0.6)}
    95% {transform: translateX(0rem) scale(1)}`),"propogate-1"),Tn("PropagateLoader","25% {transform: translateX(-".concat(Xe[0],`rem) scale(0.75)}
    75% {transform: translateX(-`).concat(Xe[0],`rem) scale(0.75)}
    95% {transform: translateX(0rem) scale(1)}`),"propogate-2"),Tn("PropagateLoader","25% {transform: translateX(".concat(Xe[0],`rem) scale(0.75)}
    75% {transform: translateX(`).concat(Xe[0],`rem) scale(0.75)}
    95% {transform: translateX(0rem) scale(1)}`),"propogate-3"),Tn("PropagateLoader","25% {transform: translateX(".concat(Xe[0],`rem) scale(0.75)}
    50% {transform: translateX(`).concat(Xe[1],`rem) scale(0.6)}
    75% {transform: translateX(`).concat(Xe[1],`rem) scale(0.6)}
    95% {transform: translateX(0rem) scale(1)}`),"propogate-4"),Tn("PropagateLoader","25% {transform: translateX(".concat(Xe[0],`rem) scale(0.75)}
    50% {transform: translateX(`).concat(Xe[1],`rem) scale(0.6)}
    75% {transform: translateX(`).concat(Xe[2],`rem) scale(0.5)}
    95% {transform: translateX(0rem) scale(1)}`),"propogate-5")];function po(t){var e=t.loading,n=e===void 0?!0:e,i=t.color,s=i===void 0?"#000000":i,r=t.speedMultiplier,a=r===void 0?1:r,l=t.cssOverride,o=l===void 0?{}:l,d=t.size,f=d===void 0?15:d,y=ym(t,["loading","color","speedMultiplier","cssOverride","size"]),b=mm(f),w=b.value,v=b.unit,x=xs({display:"inherit",position:"relative"},o),c=function(u){return{position:"absolute",fontSize:"".concat(w/3).concat(v),width:"".concat(w).concat(v),height:"".concat(w).concat(v),background:s,borderRadius:"50%",animation:"".concat(bm[u]," ").concat(1.5/a,"s infinite"),animationFillMode:"forwards"}};return n?le.createElement("span",xs({style:x},y),le.createElement("span",{style:c(0)}),le.createElement("span",{style:c(1)}),le.createElement("span",{style:c(2)}),le.createElement("span",{style:c(3)}),le.createElement("span",{style:c(4)}),le.createElement("span",{style:c(5)})):null}class qe extends oe.Component{constructor(e){super(e),this.state={...e}}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e,n){}render(){return this.state.error?S.jsx("div",{className:"flex",style:this.props.style,children:S.jsx("div",{style:{width:"50%"},children:S.jsx(vt,{type:"danger",text:this.props.default_message||`${this.state.error.name}: ${this.state.error.message||"No Message Error"}`,children:!this.props.default_message&&JSON.stringify(this.state.error)})})}):this.props.children}}const vm="/assets/accessdenied-29c25889.svg";function Se({title:t,type:e,value:n,style:i,disabled:s}){return S.jsxs("div",{className:`tiny-info ${s&&"disabled"} ${e} flex`,style:i,children:[S.jsx("p",{children:t}),S.jsx("h4",{children:n})]})}const _m="/assets/pdf-logo-aa3b5749.png";function xm({children:t,icon:e,type:n}){return S.jsxs("div",{className:"flex page-message",children:[e,t&&t]})}const tu={Fun:()=>new Error};function wm({}){var s;const[t,e]=le.useState(),[n,i]=le.useState({});return oe.useEffect(()=>{tu.Fun=r=>{r.preventDefault();const{clientY:a,clientX:l}=r;return i({clientY:a,clientX:l}),{Open:o=>{i(d=>({...d,options:o})),e(!0)},Close:()=>e(!1)}}},[]),S.jsx("div",{className:`context_menu anim_view_scale ${t&&"visible"}`,style:{top:`${n.clientY}px`,left:`${n.clientX}px`},children:(s=n.options)==null?void 0:s.map(r=>S.jsxs("div",{className:"context_menu_item flex",...r,onClick:a=>{a.stopPropagation(),r.onClick&&r.onClick()},children:[r.icon&&S.jsx("div",{style:{width:"1rem"},children:S.jsx("i",{className:r.icon})}),S.jsx("p",{children:r.label})]},r.label))})}const nu=(...t)=>tu.Fun(...t);function Fs({style:t,title:e="💭 ...",show:n,children:i}){return n?Ci.createPortal(S.jsx("div",{className:"popup flex",onClick:s=>s.stopPropagation(),children:S.jsxs("div",{style:t,className:"popup-container anim_view_scale",children:[S.jsx("h3",{style:{marginBottom:"1rem"},children:e}),S.jsx("div",{children:i})]})}),document.getElementById("modals-elements")):S.jsx(S.Fragment,{})}function go({style:t,title:e="💭 ...",show:n,children:i}){return n?Ci.createPortal(S.jsx("div",{className:"popup side_popup flex",onClick:s=>s.stopPropagation(),children:S.jsxs("div",{style:t,className:"side_popup_container anim_view_run_rigth flex",children:[S.jsx("div",{style:{padding:"0.5rem 1rem",borderBottom:"0.1rem solid var(--primaryColor)"},children:e}),S.jsx(yo,{children:i})]})}),document.getElementById("modals-elements")):S.jsx(S.Fragment,{})}var iu=async()=>new Error;function Cm(){const{Data:t}=ge(),e=le.useRef({}),[n,i]=le.useState({}),[s,r]=Ze();return iu=async(a={})=>new Promise((l,o)=>{r(),i(a),e.current={resolve:l,reject:async d=>o(new Error(d))}}),S.jsxs(Fs,{show:s,style:n.stylePopUp,title:n.textPopUp,children:[n.headerChildren,S.jsx("div",{className:"flex",style:{gap:"1rem",marginBottom:"0.5rem"},children:[{value:!0,label:t.confirm,onClick:e.current.resolve,style:{width:"100%",backgroundColor:"var(--greenColor)"}},{value:!1,label:t.cancel,onClick:e.current.reject,style:{width:"100%",backgroundColor:"var(--redColor)"}}].map(a=>le.createElement("button",{...a,key:a.label,className:"button button-popup",onClick:l=>{l.stopPropagation(),a.onClick(a.value),r()}},a.label))}),n.helperChildren]})}const Bs=async t=>iu(t),Sm="/assets/workingonit-a835d9b3.svg",Em="/assets/search-user-icon-53a4fb9d.svg";function mo(t,e){return new Promise((n,i)=>{const{value:s,error:r}=t.validate(e,{stripUnknown:!0});return r?i(r.details.map(a=>({field:a.path[0],msg:a.message}))):n(s)})}const km=t=>{const e=new URL(t);return{origin:e.origin,protocol:e.origin.split(":")[0],name:e.pathname.split("/").reverse()[0]}};function Rr(t=0){const e=["Ko","Mo","Go"];for(var n=-1;t>1024;)t=t/1024,n++;return`${Math.floor(t*100)/100} ${e[n]??e[0]}`}function Bn({message:t="Select An Option To Continue.",src:e=Em}){return S.jsx(xm,{icon:S.jsx(_t,{style:{height:"30vh"},src:e}),children:S.jsx("h1",{style:{fontSize:"2rem"},children:t})})}function Dt({message:t}){const{Data:e}=ge({fr:{this_feature_is_not_yet_available:"Cette fonctionnalité n'est pas encore disponible"}});return S.jsx(Bn,{message:t||e.this_feature_is_not_yet_available,src:Sm})}function Tm({letter:t="A",color:e="var(--greenColor)"}){return S.jsx("div",{style:{position:"relative",backgroundColor:e,color:"var(--white)",width:"fit-content",padding:"1.5rem",borderRadius:"50%"},children:S.jsx("div",{className:"flex",style:{position:"absolute",left:"0",right:"0",bottom:"0",top:"0"},children:S.jsx("h3",{style:{fontSize:"1.3rem"},children:t.toUpperCase()})})})}function dn({parentClass:t,parentStyle:e,className:n,style:i,type:s,...r}){return S.jsx("div",{className:`flex circle-icon cursor ${t} ${s}`,style:e,...r,children:S.jsx("i",{className:n,style:i})})}function Lm(t){const e=le.useRef(),[n,i]=le.useState(!1),[s,r]=le.useState(!1),a=(l,o,d=400)=>f=>{l==="+"?e.current[o]+=d:e.current[o]-=d};return le.useEffect(()=>{i(e.current.scrollWidth>e.current.clientWidth),r(e.current.scrollHeight>e.current.clientHeight)}),S.jsxs("div",{className:"scroll_area",style:t.style,children:[n&&S.jsx(dn,{parentClass:"scroll_area_director left",className:"fas fa-arrow-left",onClick:a("-","scrollLeft")}),n&&S.jsx(dn,{parentClass:"scroll_area_director right",className:"fas fa-arrow-right",onClick:a("+","scrollLeft")}),s&&S.jsx(dn,{parentClass:"scroll_area_director top",className:"fas fa-arrow-up",onClick:a("-","scrollTop")}),s&&S.jsx(dn,{parentClass:"scroll_area_director bottom",className:"fa-solid fa-arrow-down-long",onClick:a("+","scrollTop")}),S.jsx("div",{className:"scroll_area_children flex",style:t.children_style,ref:e,children:t.children})]})}function ht({children:t,style:e={},...n}){return S.jsx("div",{className:"scroll",style:{...e,height:"100%"},...n,children:t})}function Am({filename:t,size:e,created_at:n}){const{Data:i}=ge({fr:{are_you_sure_you_want_to_download_this_file:"Êtes-vous sûr de vouloir télécharger ce fichier"}}),[s,r]=Ze(),{name:a}=km(t),l=async()=>Bs({stylePopUp:{width:"30vw"},textPopUp:S.jsxs("div",{className:"flex",style:{borderBottom:"0.1rem solid var(--primaryColor)",paddingBottom:"0.5rem",gap:"1rem",justifyContent:"flex-start",alignItems:"flex-start"},children:[S.jsx("i",{className:"fas fa-download",style:{fontSize:"1.2rem"}}),i.are_you_sure_you_want_to_download_this_file," ?"]}),helperChildren:S.jsxs("div",{className:"flex",style:{gap:"1rem",flexDirection:"column",alignItems:"stretch"},children:[S.jsxs("h3",{children:[i.name," : ",a]}),S.jsx(Se,{title:i.file_size,value:S.jsx("p",{className:"number-ship",children:Rr(e)})}),S.jsx(Se,{title:i.last_modification,value:new Date(n).toLocaleString()})]})}).then(async()=>(r(),fetch(t).then(async o=>{const d=await o.blob(),f=document.createElement("a");f.href=window.URL.createObjectURL(d),f.download=a,document.body.appendChild(f),f.click(),f.remove()}).finally(r)));return S.jsxs("div",{style:{width:"13vw",borderRadius:"0.5rem",backgroundColor:"var(--primaryColor)",border:"0.1rem solid var(--bg)"},children:[S.jsxs("div",{className:"flex",style:{position:"relative",padding:"3rem",borderBottom:"0.1rem solid var(--bg)"},children:[S.jsx("i",{className:"fas fa-file",style:{fontSize:"5rem"}}),S.jsxs("div",{style:{position:"absolute"},children:[S.jsx("p",{style:{color:"var(--bg)",fontSize:"0.7rem",fontWeight:"bold"},children:Rr(e)}),s&&S.jsx(Ne,{})]})]}),S.jsxs("div",{className:"flex",style:{justifyContent:"space-between",padding:"0.5rem"},children:[S.jsxs("div",{className:"flex",style:{gap:"0.5rem"},children:[S.jsx(_t,{src:_m,style:{width:"1.3rem"}}),S.jsx("p",{children:a.slice(-15)})]}),S.jsx("div",{className:"flex",style:{padding:"0.5rem",cursor:"pointer",width:"2rem",height:"2rem",borderRadius:"50%"},onClick:o=>{const{Close:d,Open:f}=nu(o);f([{label:i.download,icon:"fas fa-download",onClick:async()=>l().finally(d)},{label:i.delete,icon:"fas fa-trash",style:{color:"var(--gridColor)"}},{label:i.share,icon:"fas fa-share",style:{color:"var(--gridColor)"}},{label:i.view_more,icon:"fa-solid fa-circle-info",style:{color:"var(--gridColor)"}},{label:i.close,icon:"fas fa-times",style:{color:"var(--redErrorColor)"},onClick:d}])},children:S.jsx("i",{className:"fa-solid fa-ellipsis-vertical"})})]})]})}function yo({children:t,...e}){return S.jsx("div",{className:"compact_area_column",...e,children:t})}function $e({levels:t=[],children:e,showMessage:n,showNotification:i,showModal:s}){const r=Ft(l=>l.User),{Data:a}=ge();return t!=null&&t.includes(r.level)?e:n?S.jsx("div",{style:{padding:"3rem"},children:S.jsx(Bn,{src:vm,message:a.access_denied})}):S.jsx(S.Fragment,{})}function su(t){return t.isLoading?S.jsx(Ne,{}):S.jsxs("label",{class:"switch",children:[S.jsx("input",{type:"checkbox",...t}),S.jsx("span",{class:"slider loading round"})]})}function ru(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=ru(t[e]))&&(i&&(i+=" "),i+=n);else for(e in t)t[e]&&(i&&(i+=" "),i+=e);return i}function qt(){for(var t,e,n=0,i="";n<arguments.length;)(t=arguments[n++])&&(e=ru(t))&&(i&&(i+=" "),i+=e);return i}const li=t=>typeof t=="number"&&!isNaN(t),bn=t=>typeof t=="string",st=t=>typeof t=="function",cs=t=>bn(t)||st(t)?t:null,rr=t=>le.isValidElement(t)||bn(t)||st(t)||li(t);function Mm(t,e,n){n===void 0&&(n=300);const{scrollHeight:i,style:s}=t;requestAnimationFrame(()=>{s.minHeight="initial",s.height=i+"px",s.transition=`all ${n}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,n)})})}function Is(t){let{enter:e,exit:n,appendPosition:i=!1,collapse:s=!0,collapseDuration:r=300}=t;return function(a){let{children:l,position:o,preventExitTransition:d,done:f,nodeRef:y,isIn:b}=a;const w=i?`${e}--${o}`:e,v=i?`${n}--${o}`:n,x=le.useRef(0);return le.useLayoutEffect(()=>{const c=y.current,u=w.split(" "),h=p=>{p.target===y.current&&(c.dispatchEvent(new Event("d")),c.removeEventListener("animationend",h),c.removeEventListener("animationcancel",h),x.current===0&&p.type!=="animationcancel"&&c.classList.remove(...u))};c.classList.add(...u),c.addEventListener("animationend",h),c.addEventListener("animationcancel",h)},[]),le.useEffect(()=>{const c=y.current,u=()=>{c.removeEventListener("animationend",u),s?Mm(c,f,r):f()};b||(d?u():(x.current=1,c.className+=` ${v}`,c.addEventListener("animationend",u)))},[b]),oe.createElement(oe.Fragment,null,l)}}function hl(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const ft={list:new Map,emitQueue:new Map,on(t,e){return this.list.has(t)||this.list.set(t,[]),this.list.get(t).push(e),this},off(t,e){if(e){const n=this.list.get(t).filter(i=>i!==e);return this.list.set(t,n),this}return this.list.delete(t),this},cancelEmit(t){const e=this.emitQueue.get(t);return e&&(e.forEach(clearTimeout),this.emitQueue.delete(t)),this},emit(t){this.list.has(t)&&this.list.get(t).forEach(e=>{const n=setTimeout(()=>{e(...[].slice.call(arguments,1))},0);this.emitQueue.has(t)||this.emitQueue.set(t,[]),this.emitQueue.get(t).push(n)})}},$i=t=>{let{theme:e,type:n,...i}=t;return oe.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...i})},or={info:function(t){return oe.createElement($i,{...t},oe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return oe.createElement($i,{...t},oe.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return oe.createElement($i,{...t},oe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return oe.createElement($i,{...t},oe.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return oe.createElement("div",{className:"Toastify__spinner"})}};function Nm(t){const[,e]=le.useReducer(w=>w+1,0),[n,i]=le.useState([]),s=le.useRef(null),r=le.useRef(new Map).current,a=w=>n.indexOf(w)!==-1,l=le.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:t,containerId:null,isToastActive:a,getToast:w=>r.get(w)}).current;function o(w){let{containerId:v}=w;const{limit:x}=l.props;!x||v&&l.containerId!==v||(l.count-=l.queue.length,l.queue=[])}function d(w){i(v=>w==null?[]:v.filter(x=>x!==w))}function f(){const{toastContent:w,toastProps:v,staleId:x}=l.queue.shift();b(w,v,x)}function y(w,v){let{delay:x,staleId:c,...u}=v;if(!rr(w)||function(M){return!s.current||l.props.enableMultiContainer&&M.containerId!==l.props.containerId||r.has(M.toastId)&&M.updateId==null}(u))return;const{toastId:h,updateId:p,data:m}=u,{props:g}=l,_=()=>d(h),C=p==null;C&&l.count++;const E={...g,style:g.toastStyle,key:l.toastKey++,...Object.fromEntries(Object.entries(u).filter(M=>{let[F,N]=M;return N!=null})),toastId:h,updateId:p,data:m,closeToast:_,isIn:!1,className:cs(u.className||g.toastClassName),bodyClassName:cs(u.bodyClassName||g.bodyClassName),progressClassName:cs(u.progressClassName||g.progressClassName),autoClose:!u.isLoading&&(k=u.autoClose,T=g.autoClose,k===!1||li(k)&&k>0?k:T),deleteToast(){const M=hl(r.get(h),"removed");r.delete(h),ft.emit(4,M);const F=l.queue.length;if(l.count=h==null?l.count-l.displayedToast:l.count-1,l.count<0&&(l.count=0),F>0){const N=h==null?l.props.limit:1;if(F===1||N===1)l.displayedToast++,f();else{const P=N>F?F:N;l.displayedToast=P;for(let B=0;B<P;B++)f()}}else e()}};var k,T;E.iconOut=function(M){let{theme:F,type:N,isLoading:P,icon:B}=M,z=null;const D={theme:F,type:N};return B===!1||(st(B)?z=B(D):le.isValidElement(B)?z=le.cloneElement(B,D):bn(B)||li(B)?z=B:P?z=or.spinner():($=>$ in or)(N)&&(z=or[N](D))),z}(E),st(u.onOpen)&&(E.onOpen=u.onOpen),st(u.onClose)&&(E.onClose=u.onClose),E.closeButton=g.closeButton,u.closeButton===!1||rr(u.closeButton)?E.closeButton=u.closeButton:u.closeButton===!0&&(E.closeButton=!rr(g.closeButton)||g.closeButton);let O=w;le.isValidElement(w)&&!bn(w.type)?O=le.cloneElement(w,{closeToast:_,toastProps:E,data:m}):st(w)&&(O=w({closeToast:_,toastProps:E,data:m})),g.limit&&g.limit>0&&l.count>g.limit&&C?l.queue.push({toastContent:O,toastProps:E,staleId:c}):li(x)?setTimeout(()=>{b(O,E,c)},x):b(O,E,c)}function b(w,v,x){const{toastId:c}=v;x&&r.delete(x);const u={content:w,props:v};r.set(c,u),i(h=>[...h,c].filter(p=>p!==x)),ft.emit(4,hl(u,u.props.updateId==null?"added":"updated"))}return le.useEffect(()=>(l.containerId=t.containerId,ft.cancelEmit(3).on(0,y).on(1,w=>s.current&&d(w)).on(5,o).emit(2,l),()=>{r.clear(),ft.emit(3,l)}),[]),le.useEffect(()=>{l.props=t,l.isToastActive=a,l.displayedToast=n.length}),{getToastToRender:function(w){const v=new Map,x=Array.from(r.values());return t.newestOnTop&&x.reverse(),x.forEach(c=>{const{position:u}=c.props;v.has(u)||v.set(u,[]),v.get(u).push(c)}),Array.from(v,c=>w(c[0],c[1]))},containerRef:s,isToastActive:a}}function pl(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}function gl(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientY:t.clientY}function Om(t){const[e,n]=le.useState(!1),[i,s]=le.useState(!1),r=le.useRef(null),a=le.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,l=le.useRef(t),{autoClose:o,pauseOnHover:d,closeToast:f,onClick:y,closeOnClick:b}=t;function w(m){if(t.draggable){m.nativeEvent.type==="touchstart"&&m.nativeEvent.preventDefault(),a.didMove=!1,document.addEventListener("mousemove",u),document.addEventListener("mouseup",h),document.addEventListener("touchmove",u),document.addEventListener("touchend",h);const g=r.current;a.canCloseOnClick=!0,a.canDrag=!0,a.boundingRect=g.getBoundingClientRect(),g.style.transition="",a.x=pl(m.nativeEvent),a.y=gl(m.nativeEvent),t.draggableDirection==="x"?(a.start=a.x,a.removalDistance=g.offsetWidth*(t.draggablePercent/100)):(a.start=a.y,a.removalDistance=g.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent/100))}}function v(m){if(a.boundingRect){const{top:g,bottom:_,left:C,right:E}=a.boundingRect;m.nativeEvent.type!=="touchend"&&t.pauseOnHover&&a.x>=C&&a.x<=E&&a.y>=g&&a.y<=_?c():x()}}function x(){n(!0)}function c(){n(!1)}function u(m){const g=r.current;a.canDrag&&g&&(a.didMove=!0,e&&c(),a.x=pl(m),a.y=gl(m),a.delta=t.draggableDirection==="x"?a.x-a.start:a.y-a.start,a.start!==a.x&&(a.canCloseOnClick=!1),g.style.transform=`translate${t.draggableDirection}(${a.delta}px)`,g.style.opacity=""+(1-Math.abs(a.delta/a.removalDistance)))}function h(){document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",h),document.removeEventListener("touchmove",u),document.removeEventListener("touchend",h);const m=r.current;if(a.canDrag&&a.didMove&&m){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance)return s(!0),void t.closeToast();m.style.transition="transform 0.2s, opacity 0.2s",m.style.transform=`translate${t.draggableDirection}(0)`,m.style.opacity="1"}}le.useEffect(()=>{l.current=t}),le.useEffect(()=>(r.current&&r.current.addEventListener("d",x,{once:!0}),st(t.onOpen)&&t.onOpen(le.isValidElement(t.children)&&t.children.props),()=>{const m=l.current;st(m.onClose)&&m.onClose(le.isValidElement(m.children)&&m.children.props)}),[]),le.useEffect(()=>(t.pauseOnFocusLoss&&(document.hasFocus()||c(),window.addEventListener("focus",x),window.addEventListener("blur",c)),()=>{t.pauseOnFocusLoss&&(window.removeEventListener("focus",x),window.removeEventListener("blur",c))}),[t.pauseOnFocusLoss]);const p={onMouseDown:w,onTouchStart:w,onMouseUp:v,onTouchEnd:v};return o&&d&&(p.onMouseEnter=c,p.onMouseLeave=x),b&&(p.onClick=m=>{y&&y(m),a.canCloseOnClick&&f()}),{playToast:x,pauseToast:c,isRunning:e,preventExitTransition:i,toastRef:r,eventHandlers:p}}function ou(t){let{closeToast:e,theme:n,ariaLabel:i="close"}=t;return oe.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:s=>{s.stopPropagation(),e(s)},"aria-label":i},oe.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},oe.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Rm(t){let{delay:e,isRunning:n,closeToast:i,type:s="default",hide:r,className:a,style:l,controlledProgress:o,progress:d,rtl:f,isIn:y,theme:b}=t;const w=r||o&&d===0,v={...l,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused",opacity:w?0:1};o&&(v.transform=`scaleX(${d})`);const x=qt("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${b}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":f}),c=st(a)?a({rtl:f,type:s,defaultClassName:x}):qt(x,a);return oe.createElement("div",{role:"progressbar","aria-hidden":w?"true":"false","aria-label":"notification timer",className:c,style:v,[o&&d>=1?"onTransitionEnd":"onAnimationEnd"]:o&&d<1?null:()=>{y&&i()}})}const Dm=t=>{const{isRunning:e,preventExitTransition:n,toastRef:i,eventHandlers:s}=Om(t),{closeButton:r,children:a,autoClose:l,onClick:o,type:d,hideProgressBar:f,closeToast:y,transition:b,position:w,className:v,style:x,bodyClassName:c,bodyStyle:u,progressClassName:h,progressStyle:p,updateId:m,role:g,progress:_,rtl:C,toastId:E,deleteToast:k,isIn:T,isLoading:O,iconOut:M,closeOnClick:F,theme:N}=t,P=qt("Toastify__toast",`Toastify__toast-theme--${N}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":C},{"Toastify__toast--close-on-click":F}),B=st(v)?v({rtl:C,position:w,type:d,defaultClassName:P}):qt(P,v),z=!!_||!l,D={closeToast:y,type:d,theme:N};let $=null;return r===!1||($=st(r)?r(D):le.isValidElement(r)?le.cloneElement(r,D):ou(D)),oe.createElement(b,{isIn:T,done:k,position:w,preventExitTransition:n,nodeRef:i},oe.createElement("div",{id:E,onClick:o,className:B,...s,style:x,ref:i},oe.createElement("div",{...T&&{role:g},className:st(c)?c({type:d}):qt("Toastify__toast-body",c),style:u},M!=null&&oe.createElement("div",{className:qt("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!O})},M),oe.createElement("div",null,a)),$,oe.createElement(Rm,{...m&&!z?{key:`pb-${m}`}:{},rtl:C,theme:N,delay:l,isRunning:e,isIn:T,closeToast:y,hide:f,type:d,style:p,className:h,controlledProgress:z,progress:_||0})))},zs=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},Pm=Is(zs("bounce",!0));Is(zs("slide",!0));Is(zs("zoom"));Is(zs("flip"));const Dr=le.forwardRef((t,e)=>{const{getToastToRender:n,containerRef:i,isToastActive:s}=Nm(t),{className:r,style:a,rtl:l,containerId:o}=t;function d(f){const y=qt("Toastify__toast-container",`Toastify__toast-container--${f}`,{"Toastify__toast-container--rtl":l});return st(r)?r({position:f,rtl:l,defaultClassName:y}):qt(y,cs(r))}return le.useEffect(()=>{e&&(e.current=i.current)},[]),oe.createElement("div",{ref:i,className:"Toastify",id:o},n((f,y)=>{const b=y.length?{...a}:{...a,pointerEvents:"none"};return oe.createElement("div",{className:d(f),style:b,key:`container-${f}`},y.map((w,v)=>{let{content:x,props:c}=w;return oe.createElement(Dm,{...c,isIn:s(c.toastId),style:{...c.style,"--nth":v+1,"--len":y.length},key:`toast-${c.key}`},x)}))}))});Dr.displayName="ToastContainer",Dr.defaultProps={position:"top-right",transition:Pm,autoClose:5e3,closeButton:ou,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let ar,cn=new Map,ti=[],jm=1;function au(){return""+jm++}function Fm(t){return t&&(bn(t.toastId)||li(t.toastId))?t.toastId:au()}function ci(t,e){return cn.size>0?ft.emit(0,t,e):ti.push({content:t,options:e}),e.toastId}function ws(t,e){return{...e,type:e&&e.type||t,toastId:Fm(e)}}function Zi(t){return(e,n)=>ci(e,ws(t,n))}function Ce(t,e){return ci(t,ws("default",e))}Ce.loading=(t,e)=>ci(t,ws("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),Ce.promise=function(t,e,n){let i,{pending:s,error:r,success:a}=e;s&&(i=bn(s)?Ce.loading(s,n):Ce.loading(s.render,{...n,...s}));const l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},o=(f,y,b)=>{if(y==null)return void Ce.dismiss(i);const w={type:f,...l,...n,data:b},v=bn(y)?{render:y}:y;return i?Ce.update(i,{...w,...v}):Ce(v.render,{...w,...v}),b},d=st(t)?t():t;return d.then(f=>o("success",a,f)).catch(f=>o("error",r,f)),d},Ce.success=Zi("success"),Ce.info=Zi("info"),Ce.error=Zi("error"),Ce.warning=Zi("warning"),Ce.warn=Ce.warning,Ce.dark=(t,e)=>ci(t,ws("default",{theme:"dark",...e})),Ce.dismiss=t=>{cn.size>0?ft.emit(1,t):ti=ti.filter(e=>t!=null&&e.options.toastId!==t)},Ce.clearWaitingQueue=function(t){return t===void 0&&(t={}),ft.emit(5,t)},Ce.isActive=t=>{let e=!1;return cn.forEach(n=>{n.isToastActive&&n.isToastActive(t)&&(e=!0)}),e},Ce.update=function(t,e){e===void 0&&(e={}),setTimeout(()=>{const n=function(i,s){let{containerId:r}=s;const a=cn.get(r||ar);return a&&a.getToast(i)}(t,e);if(n){const{props:i,content:s}=n,r={delay:100,...i,...e,toastId:e.toastId||t,updateId:au()};r.toastId!==t&&(r.staleId=t);const a=r.render||s;delete r.render,ci(a,r)}},0)},Ce.done=t=>{Ce.update(t,{progress:1})},Ce.onChange=t=>(ft.on(4,t),()=>{ft.off(4,t)}),Ce.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Ce.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},ft.on(2,t=>{ar=t.containerId||t,cn.set(ar,t),ti.forEach(e=>{ft.emit(0,e.content,e.options)}),ti=[]}).on(3,t=>{cn.delete(t.containerId||t),cn.size===0&&ft.off(0).off(1).off(5)});function Bm({textButton:t="button",PropsButton:e={},textPopUp:n="Ask A Question 💭",buttons:i,helperChildren:s}){const[r,a]=Ze();return S.jsxs("div",{children:[S.jsx("button",{...e,className:"button",onClick:a,children:t}),S.jsxs(Fs,{show:r,title:n,children:[S.jsx("div",{className:"flex",style:{gap:"1rem",marginBottom:"0.5rem"},children:i.map(l=>le.createElement("button",{...l,key:l.label,className:"button button-popup",onClick:o=>{o.stopPropagation(),l.onClick(l),a()}},l.label))}),s]})]})}function bt({buttonText:t="",buttonType:e="primary",iconClass:n="",visible:i=!0,...s}){return i?S.jsxs("button",{className:`button ${e}`,...s,children:[S.jsx("i",{className:n,style:{marginRight:"1rem"}}),t]}):S.jsx(S.Fragment,{})}function bo(t){return S.jsx(Rl,{className:({isActive:e})=>`link-router ${e&&"actif-link"}`,...t,children:t.children})}function vn(t){var e;return S.jsx("div",{className:"flex",style:{width:"100%",gap:"1rem"},children:(e=t.children)==null?void 0:e.map(n=>S.jsx("div",{style:{width:`${100/t.children.length}%`},children:n}))})}const Im=async({file:t,folder:e})=>{const{utils:{s3:n}}=Ft.getState();n.bucket_region;const i=n.bucket_name,s=n.default_folder_name||"Unspecified",r=new FormData;return r.append("key",`${e||s}/${t.name}`),r.append("acl","public-read"),r.append("file",t),await fetch(`https://s3.us-east-1.amazonaws.com/${i}`,{body:r,method:"POST"}).then(async a=>{if(!a.ok)throw new Error("File Not Uploaded !");return a.headers.get("Location")})};function zm(t){const{Data:e}=ge({fr:{search_and_filter:"Rechercher et filtrer"}});return S.jsxs("div",{className:"input-search",children:[S.jsx("i",{className:"fas fa-search"}),S.jsx("input",{type:"search",placeholder:e.search_and_filter,onChange:t.onChange})]})}function Hm({style:t}){const e=Ft(s=>s.setUser),n=wi(),{Data:i}=ge();return S.jsxs("div",{className:"input-logout-button flex",style:t,onClick:s=>{s.stopPropagation(),e(),localStorage.removeItem("session-token"),n.clear()},children:[S.jsx("i",{className:"fa-solid fa-right-from-bracket"}),S.jsx("p",{children:i.logout})]})}const vo=oe.forwardRef((t,e)=>{var o,d;const{Data:n}=ge(),[i,s]=oe.useState({id:Math.random(),link:t.defaultValue||""}),r=()=>s(f=>({...f,isLoading:!f.isLoading})),a=({target:f})=>s(y=>({...y,file:f.files[0]})),l={width:"3rem",height:"3rem",borderRadius:"50%"};return oe.useEffect(()=>{i.file&&(r(),Im({file:i.file,folder:t.folder}).then(f=>{t.onChange({target:{value:f,name:t.name}}),s(y=>({...y,link:f,error:null}))}).catch(f=>s(y=>({...y,error:f}))).finally(r))},[i.file]),S.jsxs("div",{...t,ref:e,className:`input-image-upload ${i.error&&"error"}`,children:[S.jsxs("label",{htmlFor:i.id,className:"flex",children:[S.jsxs("div",{className:"flex",style:{justifyContent:"flex-start",gap:"1rem"},children:[i.link?S.jsx(_t,{src:i.link,style:l}):S.jsx("div",{className:"flex",style:{...l,backgroundColor:"var(--primaryColor2)"},children:S.jsx("i",{className:"fas fa-file"})}),S.jsxs("div",{children:[S.jsx("h4",{children:((o=i.file)==null?void 0:o.name)||i.link.split("/")[i.link.split("/").length-1]||n.no_file_selected}),S.jsxs("p",{className:"input-image-upload-size",children:[n.file_size,": ",Rr((d=i.file)==null?void 0:d.size)]})]})]}),i.isLoading&&S.jsx(Ne,{})]}),S.jsx("input",{id:i.id,type:"file",onChange:a})]})}),Ai=oe.forwardRef(({placeholder:t,footer:e,onFilter:n,onChange:i,name:s,...r},a)=>{const[l,o]=oe.useState([]),[d,f]=oe.useState(""),[y,b]=Ze();function w(){b(),n(d).then(o).finally(b)}oe.useEffect(w,[]);const v=x=>{o(l.map(c=>({...c,selected:c.id==x.target.value}))),i(x)};return S.jsxs("div",{className:"input-server-filter",ref:a,children:[S.jsxs("div",{className:"input-server-filter-seacher flex",children:[S.jsx("input",{value:d,onChange:x=>f(x.target.value),placeholder:t}),S.jsx("i",{className:"fas fa-search",onClick:function(x){x.stopPropagation(),w()}})]}),S.jsxs("div",{className:"input-server-filter-body scroll",children:[y&&S.jsx("div",{className:"flex",style:{padding:"0.5rem"},children:S.jsx(Ne,{})}),l==null?void 0:l.map(x=>S.jsx("div",{className:`input-server-filter-item cursor ${x.selected&&"actif"} flex`,name:x.label,value:x.id,...r,onClick:()=>v({target:{name:s,value:x.id}}),children:S.jsx("p",{children:x.label})},x.id))]}),S.jsx("div",{children:e})]})});function nt({title:t,placeholder:e,isLoading:n,options:i=[],error:s,...r}){const{Data:a}=ge();return S.jsxs("div",{style:{width:"100%"},children:[S.jsxs("h3",{className:"uppercase",children:[t," ",S.jsx("span",{className:"text danger",style:{marginLeft:"1rem"},children:s==null?void 0:s.message})]}),S.jsxs("div",{className:"flex",style:{gap:"1rem"},children:[S.jsxs("select",{className:`input select_input ${s&&"danger"}`,...r,children:[S.jsx("option",{disabled:!0,selected:!0,children:e||a.select_an_option}),i==null?void 0:i.map(l=>S.jsx("option",{value:l.value||l.label,children:l.label},l.value||l.label))]}),n&&S.jsx(Ne,{})]})]})}function Vm(t){const{Data:e}=ge();return S.jsx(nt,{...t,title:e.year,options:[2023,2024,2025].map(n=>({label:n}))})}function Um(t){var n;const{Data:e}=ge();return S.jsx(nt,{...t,title:e.month,options:(n=e.month_list)==null?void 0:n.map((i,s)=>({label:i,value:s+1}))})}function lu({name:t,defaultValue:e,onChange:n}){const i=Vr(),{Data:s}=ge();return S.jsx(Ai,{name:t,onChange:n,placeholder:s.air_of_responsibility,onFilter:async(r="")=>i.filter(r).map(({code:a,name:l})=>({id:a,label:l,selected:a===e}))})}function Wm(t){const{Data:e}=ge(),{data:n,isFetching:i}=je({initialData:[],queryKey:["register-list"],queryFn:async()=>he.get("/caneva/register/")});return S.jsx(nt,{...t,title:e.register,isLoading:i,options:n.map(s=>({label:s}))})}const qm=t=>{var e=t.reduce((s,r)=>[...s,...r.rows],[]);const n=[];(function s(r){if(typeof r=="object"&&r.dataElement&&r.categoryOptionCombo&&r.value)return n.push(r);Array.isArray(r)&&r.forEach(s)})(e);const i=[];return n.forEach(s=>{const r=i.find(a=>a.dataElement==s.dataElement&&a.categoryOptionCombo==s.categoryOptionCombo);r?r.value+=s.value:i.push(JSON.parse(JSON.stringify(s)))}),i.filter(s=>s.value)};function cu({data:t=[],params:e}){const{Data:n}=ge({fr:{no_data_to_sync_with_dhs2:"Aucune donnée à synchroniser avec dhs2",ask_dhs2_async_confirm:"Vous êtes sur le point de synchroniser avec DHS2... Etes-vous sûr de vouloir continuer"},en:{ask_dhs2_async_confirm:"You are about to sync with DHS2... Are you sure you want to continue"}}),[i,s]=Ze();return i?S.jsx(Ne,{}):S.jsx(dn,{className:"fa-solid fa-paper-plane",parentStyle:{backgroundColor:"var(--greenColor)"},onClick:async r=>{if(r.stopPropagation(),!t.length)return Ce.error(n.no_data_to_sync_with_dhs2);Bs({textPopUp:`⚠️ ${n.warning}`.toUpperCase(),headerChildren:S.jsxs("p",{style:{marginBottom:"1rem"},children:[n.ask_dhs2_async_confirm," ❓"]}),stylePopUp:{width:"25vw"}}).then(async()=>{const a=t.map(l=>({dataSet:l.data.dataSet,completeDate:new Date().toISOString().split("T")[0],period:`${e.year}${e.month.padStart(2,0)}`,orgUnit:"jCX8k9B8XPN",dataValues:qm(l.data.data)})).reduce((l,o)=>{const d=l.find(f=>f.dataSet===o.dataSet);return d?d.dataValues=[...d.dataValues,...o.dataValues]:l.push({...o}),l},[]);console.log(a)})}})}var uu={exports:{}};(function(t,e){(function(i,s){t.exports=s()})(Pe,function(){return function(n){var i={};function s(r){if(i[r])return i[r].exports;var a=i[r]={i:r,l:!1,exports:{}};return n[r].call(a.exports,a,a.exports,s),a.l=!0,a.exports}return s.m=n,s.c=i,s.i=function(r){return r},s.d=function(r,a,l){s.o(r,a)||Object.defineProperty(r,a,{configurable:!1,enumerable:!0,get:l})},s.n=function(r){var a=r&&r.__esModule?function(){return r.default}:function(){return r};return s.d(a,"a",a),a},s.o=function(r,a){return Object.prototype.hasOwnProperty.call(r,a)},s.p="",s(s.s=32)}([function(n,i,s){(function(r,a){var l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},o=s(17),d=s(15),f=s(37),y=s(16),b=s(18),w={};i.clone=function(v,x){if((typeof v>"u"?"undefined":l(v))!=="object"||v===null)return v;x=x||new Map;var c=x.get(v);if(c)return c;var u=void 0,h=!1;if(Array.isArray(v))u=[],h=!0;else if(r.isBuffer(v))u=r.from(v);else if(v instanceof Date)u=new Date(v.getTime());else if(v instanceof RegExp)u=new RegExp(v);else{var p=Object.getPrototypeOf(v);p&&p.isImmutable?u=v:(u=Object.create(p),h=!0)}if(x.set(v,u),h)for(var m=Object.getOwnPropertyNames(v),g=0;g<m.length;++g){var _=m[g],C=Object.getOwnPropertyDescriptor(v,_);C&&(C.get||C.set)?Object.defineProperty(u,_,C):u[_]=i.clone(v[_],x)}return u},i.merge=function(v,x,c,u){if(i.assert(v&&(typeof v>"u"?"undefined":l(v))==="object","Invalid target value: must be an object"),i.assert(x==null||(typeof x>"u"?"undefined":l(x))==="object","Invalid source value: must be null, undefined, or an object"),!x)return v;if(Array.isArray(x)){i.assert(Array.isArray(v),"Cannot merge array onto an object"),u===!1&&(v.length=0);for(var h=0;h<x.length;++h)v.push(i.clone(x[h]));return v}for(var p=Object.keys(x),m=0;m<p.length;++m){var g=p[m];if(g!=="__proto__"){var _=x[g];_&&(typeof _>"u"?"undefined":l(_))==="object"?!v[g]||l(v[g])!=="object"||Array.isArray(v[g])!==Array.isArray(_)||_ instanceof Date||r.isBuffer(_)||_ instanceof RegExp?v[g]=i.clone(_):i.merge(v[g],_,c,u):(_!=null||c!==!1)&&(v[g]=_)}}return v},i.applyToDefaults=function(v,x,c){if(i.assert(v&&(typeof v>"u"?"undefined":l(v))==="object","Invalid defaults value: must be an object"),i.assert(!x||x===!0||(typeof x>"u"?"undefined":l(x))==="object","Invalid options value: must be true, falsy or an object"),!x)return null;var u=i.clone(v);return x===!0?u:i.merge(u,x,c===!0,!1)},i.cloneWithShallow=function(v,x){if(!v||(typeof v>"u"?"undefined":l(v))!=="object")return v;var c=w.store(v,x),u=i.clone(v);return w.restore(u,v,c),u},w.store=function(v,x){for(var c={},u=0;u<x.length;++u){var h=x[u],p=i.reach(v,h);p!==void 0&&(c[h]=p,w.reachSet(v,h,void 0))}return c},w.restore=function(v,x,c){for(var u=Object.keys(c),h=0;h<u.length;++h){var p=u[h];w.reachSet(v,p,c[p]),w.reachSet(x,p,c[p])}},w.reachSet=function(v,x,c){for(var u=x.split("."),h=v,p=0;p<u.length;++p){var m=u[p];p+1===u.length&&(h[m]=c),h=h[m]}},i.applyToDefaultsWithShallow=function(v,x,c){if(i.assert(v&&(typeof v>"u"?"undefined":l(v))==="object","Invalid defaults value: must be an object"),i.assert(!x||x===!0||(typeof x>"u"?"undefined":l(x))==="object","Invalid options value: must be true, falsy or an object"),i.assert(c&&Array.isArray(c),"Invalid keys"),!x)return null;var u=i.cloneWithShallow(v,c);if(x===!0)return u;var h=w.store(x,c);return i.merge(u,x,!1,!1),w.restore(u,x,h),u},i.deepEqual=function(v,x,c,u){c=c||{prototype:!0};var h=typeof v>"u"?"undefined":l(v);if(h!==(typeof x>"u"?"undefined":l(x)))return!1;if(h!=="object"||v===null||x===null)return v===x?v!==0||1/v===1/x:v!==v&&x!==x;if(u=u||[],u.indexOf(v)!==-1)return!0;if(u.push(v),Array.isArray(v)){if(!Array.isArray(x)||!c.part&&v.length!==x.length)return!1;for(var p=0;p<v.length;++p){if(c.part){for(var m=!1,g=0;g<x.length;++g)if(i.deepEqual(v[p],x[g],c)){m=!0;break}return m}if(!i.deepEqual(v[p],x[p],c))return!1}return!0}if(r.isBuffer(v)){if(!r.isBuffer(x)||v.length!==x.length)return!1;for(var _=0;_<v.length;++_)if(v[_]!==x[_])return!1;return!0}if(v instanceof Date)return x instanceof Date&&v.getTime()===x.getTime();if(v instanceof RegExp)return x instanceof RegExp&&v.toString()===x.toString();if(c.prototype&&Object.getPrototypeOf(v)!==Object.getPrototypeOf(x))return!1;var C=Object.getOwnPropertyNames(v);if(!c.part&&C.length!==Object.getOwnPropertyNames(x).length)return!1;for(var E=0;E<C.length;++E){var k=C[E],T=Object.getOwnPropertyDescriptor(v,k);if(T.get){if(!i.deepEqual(T,Object.getOwnPropertyDescriptor(x,k),c,u))return!1}else if(!i.deepEqual(v[k],x[k],c,u))return!1}return!0},i.unique=function(v,x){var c=void 0;if(x){c=[];var u=new Set;v.forEach(function(h){var p=h[x];u.has(p)||(u.add(p),c.push(h))})}else c=Array.from(new Set(v));return c},i.mapToObject=function(v,x){if(!v)return null;for(var c={},u=0;u<v.length;++u)x?v[u][x]&&(c[v[u][x]]=!0):c[v[u]]=!0;return c},i.intersect=function(v,x,c){if(!v||!x)return[];for(var u=[],h=Array.isArray(v)?i.mapToObject(v):v,p={},m=0;m<x.length;++m)if(h[x[m]]&&!p[x[m]]){if(c)return x[m];u.push(x[m]),p[x[m]]=!0}return c?null:u},i.contain=function(v,x,c){var u=null;(typeof v>"u"?"undefined":l(v))==="object"&&(typeof x>"u"?"undefined":l(x))==="object"&&!Array.isArray(v)&&!Array.isArray(x)?(u=x,x=Object.keys(x)):x=[].concat(x),c=c||{},i.assert(typeof v=="string"||(typeof v>"u"?"undefined":l(v))==="object","Reference must be string or an object"),i.assert(x.length,"Values array cannot be empty");var h=void 0,p=void 0;if(c.deep){h=i.deepEqual;var m=c.hasOwnProperty("only"),g=c.hasOwnProperty("part");p={prototype:m?c.only:g?!c.part:!1,part:m?!c.only:g?c.part:!0}}else h=function(j,I){return j===I};for(var _=!1,C=new Array(x.length),E=0;E<C.length;++E)C[E]=0;if(typeof v=="string"){for(var k="(",T=0;T<x.length;++T){var O=x[T];i.assert(typeof O=="string","Cannot compare string reference to non-string value"),k+=(T?"|":"")+i.escapeRegex(O)}var M=new RegExp(k+")","g"),F=v.replace(M,function(R,j){var I=x.indexOf(j);return++C[I],""});_=!!F}else if(Array.isArray(v))for(var N=0;N<v.length;++N){for(var P=!1,B=0;B<x.length&&P===!1;++B)P=h(x[B],v[N],p)&&B;P!==!1?++C[P]:_=!0}else for(var z=Object.getOwnPropertyNames(v),D=0;D<z.length;++D){var $=z[D],q=x.indexOf($);if(q!==-1){if(u&&!h(u[$],v[$],p))return!1;++C[q]}else _=!0}for(var V=!1,K=0;K<C.length;++K)if(V=V||!!C[K],c.once&&C[K]>1||!c.part&&!C[K])return!1;return c.only&&_?!1:V},i.flatten=function(v,x){for(var c=x||[],u=0;u<v.length;++u)Array.isArray(v[u])?i.flatten(v[u],c):c.push(v[u]);return c},i.reach=function(v,x,c){if(x===!1||x===null||typeof x>"u")return v;c=c||{},typeof c=="string"&&(c={separator:c});for(var u=x.split(c.separator||"."),h=v,p=0;p<u.length;++p){var m=u[p];if(m[0]==="-"&&Array.isArray(h)&&(m=m.slice(1,m.length),m=h.length-m),!h||!(((typeof h>"u"?"undefined":l(h))==="object"||typeof h=="function")&&m in h)||(typeof h>"u"?"undefined":l(h))!=="object"&&c.functions===!1){i.assert(!c.strict||p+1===u.length,"Missing segment",m,"in reach path ",x),i.assert((typeof h>"u"?"undefined":l(h))==="object"||c.functions===!0||typeof h!="function","Invalid segment",m,"in reach path ",x),h=c.default;break}h=h[m]}return h},i.reachTemplate=function(v,x,c){return x.replace(/{([^}]+)}/g,function(u,h){var p=i.reach(v,h,c);return p??""})},i.formatStack=function(v){for(var x=[],c=0;c<v.length;++c){var u=v[c];x.push([u.getFileName(),u.getLineNumber(),u.getColumnNumber(),u.getFunctionName(),u.isConstructor()])}return x},i.formatTrace=function(v){for(var x=[],c=0;c<v.length;++c){var u=v[c];x.push((u[4]?"new ":"")+u[3]+" ("+u[0]+":"+u[1]+":"+u[2]+")")}return x},i.callStack=function(v){var x=Error.prepareStackTrace;Error.prepareStackTrace=function(p,m){return m};var c={};Error.captureStackTrace(c,this);var u=c.stack;Error.prepareStackTrace=x;var h=i.formatStack(u);return h.slice(1+v)},i.displayStack=function(v){var x=i.callStack(v===void 0?1:v+1);return i.formatTrace(x)},i.abortThrow=!1,i.abort=function(v,x){if(i.abortThrow===!0)throw new Error(v||"Unknown error");var c="";x||(c=i.displayStack(1).join(`
	`)),console.log("ABORT: "+v+`
	`+c),a.exit(1)},i.assert=function(v){if(!v){for(var x=arguments.length,c=Array(x>1?x-1:0),u=1;u<x;u++)c[u-1]=arguments[u];if(c.length===1&&c[0]instanceof Error)throw c[0];var h=c.filter(function(p){return p!==""}).map(function(p){return typeof p=="string"?p:p instanceof Error?p.message:i.stringify(p)});throw new o.AssertionError({message:h.join(" ")||"Unknown error",actual:!1,expected:!0,operator:"==",stackStartFunction:i.assert})}},i.Bench=function(){this.ts=0,this.reset()},i.Bench.prototype.reset=function(){this.ts=i.Bench.now()},i.Bench.prototype.elapsed=function(){return i.Bench.now()-this.ts},i.Bench.now=function(){var v=a.hrtime();return v[0]*1e3+v[1]/1e6},i.escapeRegex=function(v){return v.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")},i.base64urlEncode=function(v,x){i.assert(typeof v=="string"||r.isBuffer(v),"value must be string or buffer");var c=r.isBuffer(v)?v:r.from(v,x||"binary");return c.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")},i.base64urlDecode=function(v,x){if(typeof v!="string")throw new Error("Value not a string");if(!/^[\w\-]*$/.test(v))throw new Error("Invalid character");var c=r.from(v,"base64");return x==="buffer"?c:c.toString(x||"binary")},i.escapeHeaderAttribute=function(v){return i.assert(/^[ \w\!#\$%&'\(\)\*\+,\-\.\/\:;<\=>\?@\[\]\^`\{\|\}~\"\\]*$/.test(v),"Bad attribute value ("+v+")"),v.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')},i.escapeHtml=function(v){return b.escapeHtml(v)},i.escapeJavaScript=function(v){return b.escapeJavaScript(v)},i.escapeJson=function(v){return b.escapeJson(v)},i.once=function(v){if(v._hoekOnce)return v;var x=!1,c=function(){if(!x){x=!0;for(var h=arguments.length,p=Array(h),m=0;m<h;m++)p[m]=arguments[m];v.apply(null,p)}};return c._hoekOnce=!0,c},i.isInteger=Number.isSafeInteger,i.ignore=function(){},i.inherits=y.inherits,i.format=y.format,i.transform=function(v,x,c){i.assert(v==null||(typeof v>"u"?"undefined":l(v))==="object"||Array.isArray(v),"Invalid source object: must be null, undefined, an object, or an array");var u=(typeof c>"u"?"undefined":l(c))==="object"&&c!==null&&c.separator||".";if(Array.isArray(v)){for(var h=[],p=0;p<v.length;++p)h.push(i.transform(v[p],x,c));return h}for(var m={},g=Object.keys(x),_=0;_<g.length;++_){var C=g[_],E=C.split(u),k=x[C];i.assert(typeof k=="string",'All mappings must be "." delineated strings');for(var T=void 0,O=m;E.length>1;)T=E.shift(),O[T]||(O[T]={}),O=O[T];T=E.shift(),O[T]=i.reach(v,k,c)}return m},i.uniqueFilename=function(v,x){x?x=x[0]!=="."?"."+x:x:x="",v=f.resolve(v);var c=[Date.now(),a.pid,d.randomBytes(8).toString("hex")].join("-")+x;return f.join(v,c)},i.stringify=function(){try{for(var v=arguments.length,x=Array(v),c=0;c<v;c++)x[c]=arguments[c];return JSON.stringify.apply(null,x)}catch(u){return"[Cannot display object: "+u.message+"]"}},i.shallow=function(v){for(var x={},c=Object.keys(v),u=0;u<c.length;++u){var h=c[u];x[h]=v[h]}return x},i.wait=function(v){return new Promise(function(x){return setTimeout(x,v)})},i.block=function(){return new Promise(i.ignore)}}).call(i,s(3).Buffer,s(7))},function(n,i,s){var r=s(0);i.create=function(a,l){r.assert(typeof a=="string","Invalid reference key:",a);var o=r.clone(l),d=function f(y,b){return r.reach(f.isContext?b.context:y,f.key,o)};return d.isContext=a[0]===(o&&o.contextPrefix||"$"),d.key=d.isContext?a.slice(1):a,d.path=d.key.split(o&&o.separator||"."),d.depth=d.path.length,d.root=d.path[0],d.isJoi=!0,d.toString=function(){return(d.isContext?"context:":"ref:")+d.key},d},i.isRef=function(a){return typeof a=="function"&&a.isJoi},i.push=function(a,l){i.isRef(l)&&!l.isContext&&a.push(l.root)}},function(n,i,s){var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},a=function(){function x(c,u){for(var h=0;h<u.length;h++){var p=u[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(c,p.key,p)}}return function(c,u,h){return u&&x(c.prototype,u),h&&x(c,h),c}}();function l(x,c){if(!(x instanceof c))throw new TypeError("Cannot call a class as a function")}var o=s(0),d=s(11),f=s(1),y=s(6),b=null,w=null,v={Set:s(9)};v.defaults={abortEarly:!0,convert:!0,allowUnknown:!1,skipFunctions:!1,stripUnknown:!1,language:{},presence:"optional",strip:!1,noDefaults:!1,escapeHtml:!1},n.exports=v.Any=function(){function x(){l(this,x),w=w||s(4),this.isJoi=!0,this._type="any",this._settings=null,this._valids=new v.Set,this._invalids=new v.Set,this._tests=[],this._refs=[],this._flags={},this._description=null,this._unit=null,this._notes=[],this._tags=[],this._examples=[],this._meta=[],this._inner={}}return x.prototype._init=function(){return this},x.prototype.createError=function(u,h,p,m){var g=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this._flags;return y.create(u,h,p,m,g)},x.prototype.createOverrideError=function(u,h,p,m,g,_){return y.create(u,h,p,m,this._flags,g,_)},x.prototype.checkOptions=function(u){var h=s(21),p=h.options.validate(u);if(p.error)throw new Error(p.error.details[0].message)},x.prototype.clone=function(){var u=Object.create(Object.getPrototypeOf(this));u.isJoi=!0,u._currentJoi=this._currentJoi,u._type=this._type,u._settings=this._settings,u._baseType=this._baseType,u._valids=this._valids.slice(),u._invalids=this._invalids.slice(),u._tests=this._tests.slice(),u._refs=this._refs.slice(),u._flags=o.clone(this._flags),u._description=this._description,u._unit=this._unit,u._notes=this._notes.slice(),u._tags=this._tags.slice(),u._examples=this._examples.slice(),u._meta=this._meta.slice(),u._inner={};for(var h=Object.keys(this._inner),p=0;p<h.length;++p){var m=h[p];u._inner[m]=this._inner[m]?this._inner[m].slice():null}return u},x.prototype.concat=function(u){o.assert(u instanceof v.Any,"Invalid schema object"),o.assert(this._type==="any"||u._type==="any"||u._type===this._type,"Cannot merge type",this._type,"with another type:",u._type);var h=this.clone();if(this._type==="any"&&u._type!=="any"){for(var p=u.clone(),m=["_settings","_valids","_invalids","_tests","_refs","_flags","_description","_unit","_notes","_tags","_examples","_meta","_inner"],g=0;g<m.length;++g)p[m[g]]=h[m[g]];h=p}h._settings=h._settings?d.concat(h._settings,u._settings):u._settings,h._valids.merge(u._valids,u._invalids),h._invalids.merge(u._invalids,u._valids),h._tests=h._tests.concat(u._tests),h._refs=h._refs.concat(u._refs),o.merge(h._flags,u._flags),h._description=u._description||h._description,h._unit=u._unit||h._unit,h._notes=h._notes.concat(u._notes),h._tags=h._tags.concat(u._tags),h._examples=h._examples.concat(u._examples),h._meta=h._meta.concat(u._meta);for(var _=Object.keys(u._inner),C=h._type==="object",E=0;E<_.length;++E){var k=_[E],T=u._inner[k];if(T){var O=h._inner[k];if(O)if(C&&k==="children"){for(var M={},F=0;F<O.length;++F)M[O[F].key]=F;for(var N=0;N<T.length;++N){var P=T[N].key;M[P]>=0?O[M[P]]={key:P,schema:O[M[P]].schema.concat(T[N].schema)}:O.push(T[N])}}else h._inner[k]=h._inner[k].concat(T);else h._inner[k]=T.slice()}}return h},x.prototype._test=function(u,h,p,m){var g=this.clone();return g._tests.push({func:p,name:u,arg:h,options:m}),g},x.prototype.options=function(u){o.assert(!u.context,"Cannot override context"),this.checkOptions(u);var h=this.clone();return h._settings=d.concat(h._settings,u),h},x.prototype.strict=function(u){var h=this.clone(),p=u===void 0?!1:!u;return h._settings=d.concat(h._settings,{convert:p}),h},x.prototype.raw=function(u){var h=u===void 0?!0:u;if(this._flags.raw===h)return this;var p=this.clone();return p._flags.raw=h,p},x.prototype.error=function(u){o.assert(u&&(u instanceof Error||typeof u=="function"),"Must provide a valid Error object or a function");var h=this.clone();return h._flags.error=u,h},x.prototype.allow=function(){for(var u=arguments.length,h=Array(u),p=0;p<u;p++)h[p]=arguments[p];var m=this.clone();h=o.flatten(h);for(var g=0;g<h.length;++g){var _=h[g];o.assert(_!==void 0,"Cannot call allow/valid/invalid with undefined"),m._invalids.remove(_),m._valids.add(_,m._refs)}return m},x.prototype.valid=function(){var u=this.allow.apply(this,arguments);return u._flags.allowOnly=!0,u},x.prototype.invalid=function(){for(var u=arguments.length,h=Array(u),p=0;p<u;p++)h[p]=arguments[p];var m=this.clone();h=o.flatten(h);for(var g=0;g<h.length;++g){var _=h[g];o.assert(_!==void 0,"Cannot call allow/valid/invalid with undefined"),m._valids.remove(_),m._invalids.add(_,m._refs)}return m},x.prototype.required=function(){if(this._flags.presence==="required")return this;var u=this.clone();return u._flags.presence="required",u},x.prototype.optional=function(){if(this._flags.presence==="optional")return this;var u=this.clone();return u._flags.presence="optional",u},x.prototype.forbidden=function(){if(this._flags.presence==="forbidden")return this;var u=this.clone();return u._flags.presence="forbidden",u},x.prototype.strip=function(){if(this._flags.strip)return this;var u=this.clone();return u._flags.strip=!0,u},x.prototype.applyFunctionToChildren=function(u,h,p,m){if(u=[].concat(u),u.length!==1||u[0]!==""){m=m?m+".":"";var g=(u[0]===""?u.slice(1):u).map(function(_){return m+_});throw new Error("unknown key(s) "+g.join(", "))}return this[h].apply(this,p)},x.prototype.default=function(u,h){typeof u=="function"&&!f.isRef(u)&&(!u.description&&h&&(u.description=h),this._flags.func||o.assert(typeof u.description=="string"&&u.description.length>0,"description must be provided when default value is a function"));var p=this.clone();return p._flags.default=u,f.push(p._refs,u),p},x.prototype.empty=function(u){var h=this.clone();return u===void 0?delete h._flags.empty:h._flags.empty=w.schema(this._currentJoi,u),h},x.prototype.when=function(u,h){o.assert(h&&(typeof h>"u"?"undefined":r(h))==="object","Invalid options"),o.assert(h.then!==void 0||h.otherwise!==void 0,'options must have at least one of "then" or "otherwise"');var p=h.hasOwnProperty("then")?this.concat(w.schema(this._currentJoi,h.then)):void 0,m=h.hasOwnProperty("otherwise")?this.concat(w.schema(this._currentJoi,h.otherwise)):void 0;b=b||s(10);var g={then:p,otherwise:m};Object.prototype.hasOwnProperty.call(h,"is")&&(g.is=h.is);var _=b.when(u,g);return _._flags.presence="ignore",_._baseType=this,_},x.prototype.description=function(u){o.assert(u&&typeof u=="string","Description must be a non-empty string");var h=this.clone();return h._description=u,h},x.prototype.notes=function(u){o.assert(u&&(typeof u=="string"||Array.isArray(u)),"Notes must be a non-empty string or array");var h=this.clone();return h._notes=h._notes.concat(u),h},x.prototype.tags=function(u){o.assert(u&&(typeof u=="string"||Array.isArray(u)),"Tags must be a non-empty string or array");var h=this.clone();return h._tags=h._tags.concat(u),h},x.prototype.meta=function(u){o.assert(u!==void 0,"Meta cannot be undefined");var h=this.clone();return h._meta=h._meta.concat(u),h},x.prototype.example=function(){o.assert(arguments.length===1,"Missing example");var u=arguments.length<=0?void 0:arguments[0],h=this.clone();return h._examples.push(u),h},x.prototype.unit=function(u){o.assert(u&&typeof u=="string","Unit name must be a non-empty string");var h=this.clone();return h._unit=u,h},x.prototype._prepareEmptyValue=function(u){return typeof u=="string"&&this._flags.trim?u.trim():u},x.prototype._validate=function(u,h,p,m){var g=this,_=u;h=h||{key:"",path:[],parent:null,reference:m},this._settings&&(p=d.concat(p,this._settings));var C=[],E=function(){var z=void 0;if(u!==void 0)z=g._flags.raw?_:u;else if(p.noDefaults)z=u;else if(f.isRef(g._flags.default))z=g._flags.default(h.parent,p);else if(typeof g._flags.default=="function"&&!(g._flags.func&&!g._flags.default.description)){var D=void 0;h.parent!==null&&g._flags.default.length>0&&(D=[o.clone(h.parent),p]);var $=v._try(g._flags.default,D);z=$.value,$.error&&C.push(g.createError("any.default",{error:$.error},h,p))}else z=o.clone(g._flags.default);if(C.length&&typeof g._flags.error=="function"){var q=g._flags.error.call(g,C);typeof q=="string"?C=[g.createOverrideError("override",{reason:C},h,p,q)]:C=[].concat(q).map(function(V){return V instanceof Error?V:g.createOverrideError(V.type||"override",V.context,h,p,V.message,V.template)})}return{value:g._flags.strip?void 0:z,finalValue:z,errors:C.length?C:null}};if(this._coerce){var k=this._coerce.call(this,u,h,p);if(k.errors)return u=k.value,C=C.concat(k.errors),E();u=k.value}this._flags.empty&&!this._flags.empty._validate(this._prepareEmptyValue(u),null,v.defaults).errors&&(u=void 0);var T=this._flags.presence||p.presence;if(T==="optional"){if(u===void 0){var O=this._flags.hasOwnProperty("default")&&this._flags.default===void 0;if(O&&this._type==="object")u={};else return E()}}else{if(T==="required"&&u===void 0)return C.push(this.createError("any.required",null,h,p)),E();if(T==="forbidden")return u===void 0||C.push(this.createError("any.unknown",null,h,p)),E()}if(this._valids.has(u,h,p,this._flags.insensitive)||this._invalids.has(u,h,p,this._flags.insensitive)&&(C.push(this.createError(u===""?"any.empty":"any.invalid",{value:u,invalids:this._invalids.values({stripUndefined:!0})},h,p)),p.abortEarly||u===void 0))return E();if(this._base){var M=this._base.call(this,u,h,p);if(M.errors)return u=M.value,C=C.concat(M.errors),E();if(M.value!==u&&(u=M.value,this._valids.has(u,h,p,this._flags.insensitive)||this._invalids.has(u,h,p,this._flags.insensitive)&&(C.push(this.createError(u===""?"any.empty":"any.invalid",{value:u,invalids:this._invalids.values({stripUndefined:!0})},h,p)),p.abortEarly)))return E()}if(this._flags.allowOnly&&(C.push(this.createError("any.allowOnly",{value:u,valids:this._valids.values({stripUndefined:!0})},h,p)),p.abortEarly))return E();for(var F=0;F<this._tests.length;++F){var N=this._tests[F],P=N.func.call(this,u,h,p);if(P instanceof y.Err){if(C.push(P),p.abortEarly)return E()}else u=P}return E()},x.prototype._validateWithOptions=function(u,h,p){h&&this.checkOptions(h);var m=d.concat(v.defaults,h),g=this._validate(u,null,m),_=y.process(g.errors,u);return p?p(_,g.value):{error:_,value:g.value,then:function(E,k){return _?Promise.reject(_).catch(k):Promise.resolve(g.value).then(E)},catch:function(E){return _?Promise.reject(_).catch(E):Promise.resolve(g.value)}}},x.prototype.validate=function(u,h,p){return typeof h=="function"?this._validateWithOptions(u,null,h):this._validateWithOptions(u,h,p)},x.prototype.describe=function(){var u=this,h={type:this._type},p=Object.keys(this._flags);if(p.length)if(["empty","default","lazy","label"].some(function(z){return u._flags.hasOwnProperty(z)})){h.flags={};for(var m=0;m<p.length;++m){var g=p[m];g==="empty"?h.flags[g]=this._flags[g].describe():g==="default"?f.isRef(this._flags[g])?h.flags[g]=this._flags[g].toString():typeof this._flags[g]=="function"?h.flags[g]={description:this._flags[g].description,function:this._flags[g]}:h.flags[g]=this._flags[g]:g==="lazy"||g==="label"||(h.flags[g]=this._flags[g])}}else h.flags=this._flags;this._settings&&(h.options=o.clone(this._settings)),this._baseType&&(h.base=this._baseType.describe()),this._description&&(h.description=this._description),this._notes.length&&(h.notes=this._notes),this._tags.length&&(h.tags=this._tags),this._meta.length&&(h.meta=this._meta),this._examples.length&&(h.examples=this._examples),this._unit&&(h.unit=this._unit);var _=this._valids.values();_.length&&(h.valids=_.map(function(z){return f.isRef(z)?z.toString():z}));var C=this._invalids.values();C.length&&(h.invalids=C.map(function(z){return f.isRef(z)?z.toString():z})),h.rules=[];for(var E=0;E<this._tests.length;++E){var k=this._tests[E],T={name:k.name};k.arg!==void 0&&(T.arg=f.isRef(k.arg)?k.arg.toString():k.arg);var O=k.options;if(O){if(O.hasRef){T.arg={};for(var M=Object.keys(k.arg),F=0;F<M.length;++F){var N=M[F],P=k.arg[N];T.arg[N]=f.isRef(P)?P.toString():P}}typeof O.description=="string"?T.description=O.description:typeof O.description=="function"&&(T.description=O.description(T.arg))}h.rules.push(T)}h.rules.length||delete h.rules;var B=this._getLabel();return B&&(h.label=B),h},x.prototype.label=function(u){o.assert(u&&typeof u=="string","Label name must be a non-empty string");var h=this.clone();return h._flags.label=u,h},x.prototype._getLabel=function(u){return this._flags.label||u},a(x,[{key:"schemaType",get:function(){return this._type}}]),x}(),v.Any.prototype.isImmutable=!0,v.Any.prototype.only=v.Any.prototype.equal=v.Any.prototype.valid,v.Any.prototype.disallow=v.Any.prototype.not=v.Any.prototype.invalid,v.Any.prototype.exist=v.Any.prototype.required,v._try=function(x,c){var u=void 0,h=void 0;try{h=x.apply(null,c)}catch(p){u=p}return{value:h,error:u}}},function(n,i,s){(function(r){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
* @license  MIT
*/var a=s(33),l=s(34),o=s(35);i.Buffer=b,i.SlowBuffer=_,i.INSPECT_MAX_BYTES=50,b.TYPED_ARRAY_SUPPORT=r.TYPED_ARRAY_SUPPORT!==void 0?r.TYPED_ARRAY_SUPPORT:d(),i.kMaxLength=f();function d(){try{var W=new Uint8Array(1);return W.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},W.foo()===42&&typeof W.subarray=="function"&&W.subarray(1,1).byteLength===0}catch{return!1}}function f(){return b.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function y(W,A){if(f()<A)throw new RangeError("Invalid typed array length");return b.TYPED_ARRAY_SUPPORT?(W=new Uint8Array(A),W.__proto__=b.prototype):(W===null&&(W=new b(A)),W.length=A),W}function b(W,A,L){if(!b.TYPED_ARRAY_SUPPORT&&!(this instanceof b))return new b(W,A,L);if(typeof W=="number"){if(typeof A=="string")throw new Error("If encoding is specified then the first argument must be a string");return c(this,W)}return w(this,W,A,L)}b.poolSize=8192,b._augment=function(W){return W.__proto__=b.prototype,W};function w(W,A,L,Y){if(typeof A=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&A instanceof ArrayBuffer?p(W,A,L,Y):typeof A=="string"?u(W,A,L):m(W,A)}b.from=function(W,A,L){return w(null,W,A,L)},b.TYPED_ARRAY_SUPPORT&&(b.prototype.__proto__=Uint8Array.prototype,b.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&b[Symbol.species]===b&&Object.defineProperty(b,Symbol.species,{value:null,configurable:!0}));function v(W){if(typeof W!="number")throw new TypeError('"size" argument must be a number');if(W<0)throw new RangeError('"size" argument must not be negative')}function x(W,A,L,Y){return v(A),A<=0?y(W,A):L!==void 0?typeof Y=="string"?y(W,A).fill(L,Y):y(W,A).fill(L):y(W,A)}b.alloc=function(W,A,L){return x(null,W,A,L)};function c(W,A){if(v(A),W=y(W,A<0?0:g(A)|0),!b.TYPED_ARRAY_SUPPORT)for(var L=0;L<A;++L)W[L]=0;return W}b.allocUnsafe=function(W){return c(null,W)},b.allocUnsafeSlow=function(W){return c(null,W)};function u(W,A,L){if((typeof L!="string"||L==="")&&(L="utf8"),!b.isEncoding(L))throw new TypeError('"encoding" must be a valid string encoding');var Y=C(A,L)|0;W=y(W,Y);var Q=W.write(A,L);return Q!==Y&&(W=W.slice(0,Q)),W}function h(W,A){var L=A.length<0?0:g(A.length)|0;W=y(W,L);for(var Y=0;Y<L;Y+=1)W[Y]=A[Y]&255;return W}function p(W,A,L,Y){if(A.byteLength,L<0||A.byteLength<L)throw new RangeError("'offset' is out of bounds");if(A.byteLength<L+(Y||0))throw new RangeError("'length' is out of bounds");return L===void 0&&Y===void 0?A=new Uint8Array(A):Y===void 0?A=new Uint8Array(A,L):A=new Uint8Array(A,L,Y),b.TYPED_ARRAY_SUPPORT?(W=A,W.__proto__=b.prototype):W=h(W,A),W}function m(W,A){if(b.isBuffer(A)){var L=g(A.length)|0;return W=y(W,L),W.length===0||A.copy(W,0,0,L),W}if(A){if(typeof ArrayBuffer<"u"&&A.buffer instanceof ArrayBuffer||"length"in A)return typeof A.length!="number"||Me(A.length)?y(W,0):h(W,A);if(A.type==="Buffer"&&o(A.data))return h(W,A.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function g(W){if(W>=f())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+f().toString(16)+" bytes");return W|0}function _(W){return+W!=W&&(W=0),b.alloc(+W)}b.isBuffer=function(A){return!!(A!=null&&A._isBuffer)},b.compare=function(A,L){if(!b.isBuffer(A)||!b.isBuffer(L))throw new TypeError("Arguments must be Buffers");if(A===L)return 0;for(var Y=A.length,Q=L.length,J=0,ee=Math.min(Y,Q);J<ee;++J)if(A[J]!==L[J]){Y=A[J],Q=L[J];break}return Y<Q?-1:Q<Y?1:0},b.isEncoding=function(A){switch(String(A).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},b.concat=function(A,L){if(!o(A))throw new TypeError('"list" argument must be an Array of Buffers');if(A.length===0)return b.alloc(0);var Y;if(L===void 0)for(L=0,Y=0;Y<A.length;++Y)L+=A[Y].length;var Q=b.allocUnsafe(L),J=0;for(Y=0;Y<A.length;++Y){var ee=A[Y];if(!b.isBuffer(ee))throw new TypeError('"list" argument must be an Array of Buffers');ee.copy(Q,J),J+=ee.length}return Q};function C(W,A){if(b.isBuffer(W))return W.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(W)||W instanceof ArrayBuffer))return W.byteLength;typeof W!="string"&&(W=""+W);var L=W.length;if(L===0)return 0;for(var Y=!1;;)switch(A){case"ascii":case"latin1":case"binary":return L;case"utf8":case"utf-8":case void 0:return de(W).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L*2;case"hex":return L>>>1;case"base64":return _e(W).length;default:if(Y)return de(W).length;A=(""+A).toLowerCase(),Y=!0}}b.byteLength=C;function E(W,A,L){var Y=!1;if((A===void 0||A<0)&&(A=0),A>this.length||((L===void 0||L>this.length)&&(L=this.length),L<=0)||(L>>>=0,A>>>=0,L<=A))return"";for(W||(W="utf8");;)switch(W){case"hex":return j(this,A,L);case"utf8":case"utf-8":return $(this,A,L);case"ascii":return K(this,A,L);case"latin1":case"binary":return R(this,A,L);case"base64":return D(this,A,L);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,A,L);default:if(Y)throw new TypeError("Unknown encoding: "+W);W=(W+"").toLowerCase(),Y=!0}}b.prototype._isBuffer=!0;function k(W,A,L){var Y=W[A];W[A]=W[L],W[L]=Y}b.prototype.swap16=function(){var A=this.length;if(A%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var L=0;L<A;L+=2)k(this,L,L+1);return this},b.prototype.swap32=function(){var A=this.length;if(A%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var L=0;L<A;L+=4)k(this,L,L+3),k(this,L+1,L+2);return this},b.prototype.swap64=function(){var A=this.length;if(A%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var L=0;L<A;L+=8)k(this,L,L+7),k(this,L+1,L+6),k(this,L+2,L+5),k(this,L+3,L+4);return this},b.prototype.toString=function(){var A=this.length|0;return A===0?"":arguments.length===0?$(this,0,A):E.apply(this,arguments)},b.prototype.equals=function(A){if(!b.isBuffer(A))throw new TypeError("Argument must be a Buffer");return this===A?!0:b.compare(this,A)===0},b.prototype.inspect=function(){var A="",L=i.INSPECT_MAX_BYTES;return this.length>0&&(A=this.toString("hex",0,L).match(/.{2}/g).join(" "),this.length>L&&(A+=" ... ")),"<Buffer "+A+">"},b.prototype.compare=function(A,L,Y,Q,J){if(!b.isBuffer(A))throw new TypeError("Argument must be a Buffer");if(L===void 0&&(L=0),Y===void 0&&(Y=A?A.length:0),Q===void 0&&(Q=0),J===void 0&&(J=this.length),L<0||Y>A.length||Q<0||J>this.length)throw new RangeError("out of range index");if(Q>=J&&L>=Y)return 0;if(Q>=J)return-1;if(L>=Y)return 1;if(L>>>=0,Y>>>=0,Q>>>=0,J>>>=0,this===A)return 0;for(var ee=J-Q,ue=Y-L,pe=Math.min(ee,ue),Ee=this.slice(Q,J),Le=A.slice(L,Y),me=0;me<pe;++me)if(Ee[me]!==Le[me]){ee=Ee[me],ue=Le[me];break}return ee<ue?-1:ue<ee?1:0};function T(W,A,L,Y,Q){if(W.length===0)return-1;if(typeof L=="string"?(Y=L,L=0):L>2147483647?L=2147483647:L<-2147483648&&(L=-2147483648),L=+L,isNaN(L)&&(L=Q?0:W.length-1),L<0&&(L=W.length+L),L>=W.length){if(Q)return-1;L=W.length-1}else if(L<0)if(Q)L=0;else return-1;if(typeof A=="string"&&(A=b.from(A,Y)),b.isBuffer(A))return A.length===0?-1:O(W,A,L,Y,Q);if(typeof A=="number")return A=A&255,b.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?Q?Uint8Array.prototype.indexOf.call(W,A,L):Uint8Array.prototype.lastIndexOf.call(W,A,L):O(W,[A],L,Y,Q);throw new TypeError("val must be string, number or Buffer")}function O(W,A,L,Y,Q){var J=1,ee=W.length,ue=A.length;if(Y!==void 0&&(Y=String(Y).toLowerCase(),Y==="ucs2"||Y==="ucs-2"||Y==="utf16le"||Y==="utf-16le")){if(W.length<2||A.length<2)return-1;J=2,ee/=2,ue/=2,L/=2}function pe(et,Et){return J===1?et[Et]:et.readUInt16BE(Et*J)}var Ee;if(Q){var Le=-1;for(Ee=L;Ee<ee;Ee++)if(pe(W,Ee)===pe(A,Le===-1?0:Ee-Le)){if(Le===-1&&(Le=Ee),Ee-Le+1===ue)return Le*J}else Le!==-1&&(Ee-=Ee-Le),Le=-1}else for(L+ue>ee&&(L=ee-ue),Ee=L;Ee>=0;Ee--){for(var me=!0,Re=0;Re<ue;Re++)if(pe(W,Ee+Re)!==pe(A,Re)){me=!1;break}if(me)return Ee}return-1}b.prototype.includes=function(A,L,Y){return this.indexOf(A,L,Y)!==-1},b.prototype.indexOf=function(A,L,Y){return T(this,A,L,Y,!0)},b.prototype.lastIndexOf=function(A,L,Y){return T(this,A,L,Y,!1)};function M(W,A,L,Y){L=Number(L)||0;var Q=W.length-L;Y?(Y=Number(Y),Y>Q&&(Y=Q)):Y=Q;var J=A.length;if(J%2!==0)throw new TypeError("Invalid hex string");Y>J/2&&(Y=J/2);for(var ee=0;ee<Y;++ee){var ue=parseInt(A.substr(ee*2,2),16);if(isNaN(ue))return ee;W[L+ee]=ue}return ee}function F(W,A,L,Y){return Oe(de(A,W.length-L),W,L,Y)}function N(W,A,L,Y){return Oe(fe(A),W,L,Y)}function P(W,A,L,Y){return N(W,A,L,Y)}function B(W,A,L,Y){return Oe(_e(A),W,L,Y)}function z(W,A,L,Y){return Oe(we(A,W.length-L),W,L,Y)}b.prototype.write=function(A,L,Y,Q){if(L===void 0)Q="utf8",Y=this.length,L=0;else if(Y===void 0&&typeof L=="string")Q=L,Y=this.length,L=0;else if(isFinite(L))L=L|0,isFinite(Y)?(Y=Y|0,Q===void 0&&(Q="utf8")):(Q=Y,Y=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var J=this.length-L;if((Y===void 0||Y>J)&&(Y=J),A.length>0&&(Y<0||L<0)||L>this.length)throw new RangeError("Attempt to write outside buffer bounds");Q||(Q="utf8");for(var ee=!1;;)switch(Q){case"hex":return M(this,A,L,Y);case"utf8":case"utf-8":return F(this,A,L,Y);case"ascii":return N(this,A,L,Y);case"latin1":case"binary":return P(this,A,L,Y);case"base64":return B(this,A,L,Y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,A,L,Y);default:if(ee)throw new TypeError("Unknown encoding: "+Q);Q=(""+Q).toLowerCase(),ee=!0}},b.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function D(W,A,L){return A===0&&L===W.length?a.fromByteArray(W):a.fromByteArray(W.slice(A,L))}function $(W,A,L){L=Math.min(W.length,L);for(var Y=[],Q=A;Q<L;){var J=W[Q],ee=null,ue=J>239?4:J>223?3:J>191?2:1;if(Q+ue<=L){var pe,Ee,Le,me;switch(ue){case 1:J<128&&(ee=J);break;case 2:pe=W[Q+1],(pe&192)===128&&(me=(J&31)<<6|pe&63,me>127&&(ee=me));break;case 3:pe=W[Q+1],Ee=W[Q+2],(pe&192)===128&&(Ee&192)===128&&(me=(J&15)<<12|(pe&63)<<6|Ee&63,me>2047&&(me<55296||me>57343)&&(ee=me));break;case 4:pe=W[Q+1],Ee=W[Q+2],Le=W[Q+3],(pe&192)===128&&(Ee&192)===128&&(Le&192)===128&&(me=(J&15)<<18|(pe&63)<<12|(Ee&63)<<6|Le&63,me>65535&&me<1114112&&(ee=me))}}ee===null?(ee=65533,ue=1):ee>65535&&(ee-=65536,Y.push(ee>>>10&1023|55296),ee=56320|ee&1023),Y.push(ee),Q+=ue}return V(Y)}var q=4096;function V(W){var A=W.length;if(A<=q)return String.fromCharCode.apply(String,W);for(var L="",Y=0;Y<A;)L+=String.fromCharCode.apply(String,W.slice(Y,Y+=q));return L}function K(W,A,L){var Y="";L=Math.min(W.length,L);for(var Q=A;Q<L;++Q)Y+=String.fromCharCode(W[Q]&127);return Y}function R(W,A,L){var Y="";L=Math.min(W.length,L);for(var Q=A;Q<L;++Q)Y+=String.fromCharCode(W[Q]);return Y}function j(W,A,L){var Y=W.length;(!A||A<0)&&(A=0),(!L||L<0||L>Y)&&(L=Y);for(var Q="",J=A;J<L;++J)Q+=re(W[J]);return Q}function I(W,A,L){for(var Y=W.slice(A,L),Q="",J=0;J<Y.length;J+=2)Q+=String.fromCharCode(Y[J]+Y[J+1]*256);return Q}b.prototype.slice=function(A,L){var Y=this.length;A=~~A,L=L===void 0?Y:~~L,A<0?(A+=Y,A<0&&(A=0)):A>Y&&(A=Y),L<0?(L+=Y,L<0&&(L=0)):L>Y&&(L=Y),L<A&&(L=A);var Q;if(b.TYPED_ARRAY_SUPPORT)Q=this.subarray(A,L),Q.__proto__=b.prototype;else{var J=L-A;Q=new b(J,void 0);for(var ee=0;ee<J;++ee)Q[ee]=this[ee+A]}return Q};function H(W,A,L){if(W%1!==0||W<0)throw new RangeError("offset is not uint");if(W+A>L)throw new RangeError("Trying to access beyond buffer length")}b.prototype.readUIntLE=function(A,L,Y){A=A|0,L=L|0,Y||H(A,L,this.length);for(var Q=this[A],J=1,ee=0;++ee<L&&(J*=256);)Q+=this[A+ee]*J;return Q},b.prototype.readUIntBE=function(A,L,Y){A=A|0,L=L|0,Y||H(A,L,this.length);for(var Q=this[A+--L],J=1;L>0&&(J*=256);)Q+=this[A+--L]*J;return Q},b.prototype.readUInt8=function(A,L){return L||H(A,1,this.length),this[A]},b.prototype.readUInt16LE=function(A,L){return L||H(A,2,this.length),this[A]|this[A+1]<<8},b.prototype.readUInt16BE=function(A,L){return L||H(A,2,this.length),this[A]<<8|this[A+1]},b.prototype.readUInt32LE=function(A,L){return L||H(A,4,this.length),(this[A]|this[A+1]<<8|this[A+2]<<16)+this[A+3]*16777216},b.prototype.readUInt32BE=function(A,L){return L||H(A,4,this.length),this[A]*16777216+(this[A+1]<<16|this[A+2]<<8|this[A+3])},b.prototype.readIntLE=function(A,L,Y){A=A|0,L=L|0,Y||H(A,L,this.length);for(var Q=this[A],J=1,ee=0;++ee<L&&(J*=256);)Q+=this[A+ee]*J;return J*=128,Q>=J&&(Q-=Math.pow(2,8*L)),Q},b.prototype.readIntBE=function(A,L,Y){A=A|0,L=L|0,Y||H(A,L,this.length);for(var Q=L,J=1,ee=this[A+--Q];Q>0&&(J*=256);)ee+=this[A+--Q]*J;return J*=128,ee>=J&&(ee-=Math.pow(2,8*L)),ee},b.prototype.readInt8=function(A,L){return L||H(A,1,this.length),this[A]&128?(255-this[A]+1)*-1:this[A]},b.prototype.readInt16LE=function(A,L){L||H(A,2,this.length);var Y=this[A]|this[A+1]<<8;return Y&32768?Y|4294901760:Y},b.prototype.readInt16BE=function(A,L){L||H(A,2,this.length);var Y=this[A+1]|this[A]<<8;return Y&32768?Y|4294901760:Y},b.prototype.readInt32LE=function(A,L){return L||H(A,4,this.length),this[A]|this[A+1]<<8|this[A+2]<<16|this[A+3]<<24},b.prototype.readInt32BE=function(A,L){return L||H(A,4,this.length),this[A]<<24|this[A+1]<<16|this[A+2]<<8|this[A+3]},b.prototype.readFloatLE=function(A,L){return L||H(A,4,this.length),l.read(this,A,!0,23,4)},b.prototype.readFloatBE=function(A,L){return L||H(A,4,this.length),l.read(this,A,!1,23,4)},b.prototype.readDoubleLE=function(A,L){return L||H(A,8,this.length),l.read(this,A,!0,52,8)},b.prototype.readDoubleBE=function(A,L){return L||H(A,8,this.length),l.read(this,A,!1,52,8)};function U(W,A,L,Y,Q,J){if(!b.isBuffer(W))throw new TypeError('"buffer" argument must be a Buffer instance');if(A>Q||A<J)throw new RangeError('"value" argument is out of bounds');if(L+Y>W.length)throw new RangeError("Index out of range")}b.prototype.writeUIntLE=function(A,L,Y,Q){if(A=+A,L=L|0,Y=Y|0,!Q){var J=Math.pow(2,8*Y)-1;U(this,A,L,Y,J,0)}var ee=1,ue=0;for(this[L]=A&255;++ue<Y&&(ee*=256);)this[L+ue]=A/ee&255;return L+Y},b.prototype.writeUIntBE=function(A,L,Y,Q){if(A=+A,L=L|0,Y=Y|0,!Q){var J=Math.pow(2,8*Y)-1;U(this,A,L,Y,J,0)}var ee=Y-1,ue=1;for(this[L+ee]=A&255;--ee>=0&&(ue*=256);)this[L+ee]=A/ue&255;return L+Y},b.prototype.writeUInt8=function(A,L,Y){return A=+A,L=L|0,Y||U(this,A,L,1,255,0),b.TYPED_ARRAY_SUPPORT||(A=Math.floor(A)),this[L]=A&255,L+1};function G(W,A,L,Y){A<0&&(A=65535+A+1);for(var Q=0,J=Math.min(W.length-L,2);Q<J;++Q)W[L+Q]=(A&255<<8*(Y?Q:1-Q))>>>(Y?Q:1-Q)*8}b.prototype.writeUInt16LE=function(A,L,Y){return A=+A,L=L|0,Y||U(this,A,L,2,65535,0),b.TYPED_ARRAY_SUPPORT?(this[L]=A&255,this[L+1]=A>>>8):G(this,A,L,!0),L+2},b.prototype.writeUInt16BE=function(A,L,Y){return A=+A,L=L|0,Y||U(this,A,L,2,65535,0),b.TYPED_ARRAY_SUPPORT?(this[L]=A>>>8,this[L+1]=A&255):G(this,A,L,!1),L+2};function X(W,A,L,Y){A<0&&(A=4294967295+A+1);for(var Q=0,J=Math.min(W.length-L,4);Q<J;++Q)W[L+Q]=A>>>(Y?Q:3-Q)*8&255}b.prototype.writeUInt32LE=function(A,L,Y){return A=+A,L=L|0,Y||U(this,A,L,4,4294967295,0),b.TYPED_ARRAY_SUPPORT?(this[L+3]=A>>>24,this[L+2]=A>>>16,this[L+1]=A>>>8,this[L]=A&255):X(this,A,L,!0),L+4},b.prototype.writeUInt32BE=function(A,L,Y){return A=+A,L=L|0,Y||U(this,A,L,4,4294967295,0),b.TYPED_ARRAY_SUPPORT?(this[L]=A>>>24,this[L+1]=A>>>16,this[L+2]=A>>>8,this[L+3]=A&255):X(this,A,L,!1),L+4},b.prototype.writeIntLE=function(A,L,Y,Q){if(A=+A,L=L|0,!Q){var J=Math.pow(2,8*Y-1);U(this,A,L,Y,J-1,-J)}var ee=0,ue=1,pe=0;for(this[L]=A&255;++ee<Y&&(ue*=256);)A<0&&pe===0&&this[L+ee-1]!==0&&(pe=1),this[L+ee]=(A/ue>>0)-pe&255;return L+Y},b.prototype.writeIntBE=function(A,L,Y,Q){if(A=+A,L=L|0,!Q){var J=Math.pow(2,8*Y-1);U(this,A,L,Y,J-1,-J)}var ee=Y-1,ue=1,pe=0;for(this[L+ee]=A&255;--ee>=0&&(ue*=256);)A<0&&pe===0&&this[L+ee+1]!==0&&(pe=1),this[L+ee]=(A/ue>>0)-pe&255;return L+Y},b.prototype.writeInt8=function(A,L,Y){return A=+A,L=L|0,Y||U(this,A,L,1,127,-128),b.TYPED_ARRAY_SUPPORT||(A=Math.floor(A)),A<0&&(A=255+A+1),this[L]=A&255,L+1},b.prototype.writeInt16LE=function(A,L,Y){return A=+A,L=L|0,Y||U(this,A,L,2,32767,-32768),b.TYPED_ARRAY_SUPPORT?(this[L]=A&255,this[L+1]=A>>>8):G(this,A,L,!0),L+2},b.prototype.writeInt16BE=function(A,L,Y){return A=+A,L=L|0,Y||U(this,A,L,2,32767,-32768),b.TYPED_ARRAY_SUPPORT?(this[L]=A>>>8,this[L+1]=A&255):G(this,A,L,!1),L+2},b.prototype.writeInt32LE=function(A,L,Y){return A=+A,L=L|0,Y||U(this,A,L,4,2147483647,-2147483648),b.TYPED_ARRAY_SUPPORT?(this[L]=A&255,this[L+1]=A>>>8,this[L+2]=A>>>16,this[L+3]=A>>>24):X(this,A,L,!0),L+4},b.prototype.writeInt32BE=function(A,L,Y){return A=+A,L=L|0,Y||U(this,A,L,4,2147483647,-2147483648),A<0&&(A=4294967295+A+1),b.TYPED_ARRAY_SUPPORT?(this[L]=A>>>24,this[L+1]=A>>>16,this[L+2]=A>>>8,this[L+3]=A&255):X(this,A,L,!1),L+4};function Z(W,A,L,Y,Q,J){if(L+Y>W.length)throw new RangeError("Index out of range");if(L<0)throw new RangeError("Index out of range")}function te(W,A,L,Y,Q){return Q||Z(W,A,L,4),l.write(W,A,L,Y,23,4),L+4}b.prototype.writeFloatLE=function(A,L,Y){return te(this,A,L,!0,Y)},b.prototype.writeFloatBE=function(A,L,Y){return te(this,A,L,!1,Y)};function ne(W,A,L,Y,Q){return Q||Z(W,A,L,8),l.write(W,A,L,Y,52,8),L+8}b.prototype.writeDoubleLE=function(A,L,Y){return ne(this,A,L,!0,Y)},b.prototype.writeDoubleBE=function(A,L,Y){return ne(this,A,L,!1,Y)},b.prototype.copy=function(A,L,Y,Q){if(Y||(Y=0),!Q&&Q!==0&&(Q=this.length),L>=A.length&&(L=A.length),L||(L=0),Q>0&&Q<Y&&(Q=Y),Q===Y||A.length===0||this.length===0)return 0;if(L<0)throw new RangeError("targetStart out of bounds");if(Y<0||Y>=this.length)throw new RangeError("sourceStart out of bounds");if(Q<0)throw new RangeError("sourceEnd out of bounds");Q>this.length&&(Q=this.length),A.length-L<Q-Y&&(Q=A.length-L+Y);var J=Q-Y,ee;if(this===A&&Y<L&&L<Q)for(ee=J-1;ee>=0;--ee)A[ee+L]=this[ee+Y];else if(J<1e3||!b.TYPED_ARRAY_SUPPORT)for(ee=0;ee<J;++ee)A[ee+L]=this[ee+Y];else Uint8Array.prototype.set.call(A,this.subarray(Y,Y+J),L);return J},b.prototype.fill=function(A,L,Y,Q){if(typeof A=="string"){if(typeof L=="string"?(Q=L,L=0,Y=this.length):typeof Y=="string"&&(Q=Y,Y=this.length),A.length===1){var J=A.charCodeAt(0);J<256&&(A=J)}if(Q!==void 0&&typeof Q!="string")throw new TypeError("encoding must be a string");if(typeof Q=="string"&&!b.isEncoding(Q))throw new TypeError("Unknown encoding: "+Q)}else typeof A=="number"&&(A=A&255);if(L<0||this.length<L||this.length<Y)throw new RangeError("Out of range index");if(Y<=L)return this;L=L>>>0,Y=Y===void 0?this.length:Y>>>0,A||(A=0);var ee;if(typeof A=="number")for(ee=L;ee<Y;++ee)this[ee]=A;else{var ue=b.isBuffer(A)?A:de(new b(A,Q).toString()),pe=ue.length;for(ee=0;ee<Y-L;++ee)this[ee+L]=ue[ee%pe]}return this};var se=/[^+\/0-9A-Za-z-_]/g;function ie(W){if(W=ce(W).replace(se,""),W.length<2)return"";for(;W.length%4!==0;)W=W+"=";return W}function ce(W){return W.trim?W.trim():W.replace(/^\s+|\s+$/g,"")}function re(W){return W<16?"0"+W.toString(16):W.toString(16)}function de(W,A){A=A||1/0;for(var L,Y=W.length,Q=null,J=[],ee=0;ee<Y;++ee){if(L=W.charCodeAt(ee),L>55295&&L<57344){if(!Q){if(L>56319){(A-=3)>-1&&J.push(239,191,189);continue}else if(ee+1===Y){(A-=3)>-1&&J.push(239,191,189);continue}Q=L;continue}if(L<56320){(A-=3)>-1&&J.push(239,191,189),Q=L;continue}L=(Q-55296<<10|L-56320)+65536}else Q&&(A-=3)>-1&&J.push(239,191,189);if(Q=null,L<128){if((A-=1)<0)break;J.push(L)}else if(L<2048){if((A-=2)<0)break;J.push(L>>6|192,L&63|128)}else if(L<65536){if((A-=3)<0)break;J.push(L>>12|224,L>>6&63|128,L&63|128)}else if(L<1114112){if((A-=4)<0)break;J.push(L>>18|240,L>>12&63|128,L>>6&63|128,L&63|128)}else throw new Error("Invalid code point")}return J}function fe(W){for(var A=[],L=0;L<W.length;++L)A.push(W.charCodeAt(L)&255);return A}function we(W,A){for(var L,Y,Q,J=[],ee=0;ee<W.length&&!((A-=2)<0);++ee)L=W.charCodeAt(ee),Y=L>>8,Q=L%256,J.push(Q),J.push(Y);return J}function _e(W){return a.toByteArray(ie(W))}function Oe(W,A,L,Y){for(var Q=0;Q<Y&&!(Q+L>=A.length||Q>=W.length);++Q)A[Q+L]=W[Q];return Q}function Me(W){return W!==W}}).call(i,s(5))},function(n,i,s){var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},a=s(0),l=s(1);i.schema=function(o,d){return d!=null&&(typeof d>"u"?"undefined":r(d))==="object"?d.isJoi?d:Array.isArray(d)?o.alternatives().try(d):d instanceof RegExp?o.string().regex(d):d instanceof Date?o.date().valid(d):o.object().keys(d):typeof d=="string"?o.string().valid(d):typeof d=="number"?o.number().valid(d):typeof d=="boolean"?o.boolean().valid(d):l.isRef(d)?o.valid(d):(a.assert(d===null,"Invalid schema content:",d),o.valid(null))},i.ref=function(o){return l.isRef(o)?o:l.create(o)}},function(n,i){var s;s=function(){return this}();try{s=s||Function("return this")()||(0,eval)("this")}catch{typeof window=="object"&&(s=window)}n.exports=s},function(n,i,s){var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f};function a(f,y){if(!(f instanceof y))throw new TypeError("Cannot call a class as a function")}var l=s(0),o=s(20),d={annotations:Symbol("joi-annotations")};d.stringify=function(f,y){var b=typeof f>"u"?"undefined":r(f);if(f===null)return"null";if(b==="string")return f;if(f instanceof i.Err||b==="function"||b==="symbol")return f.toString();if(b==="object"){if(Array.isArray(f)){for(var w="",v=0;v<f.length;++v)w=w+(w.length?", ":"")+d.stringify(f[v],y);return y?"["+w+"]":w}return f.toString()}return JSON.stringify(f)},i.Err=function(){function f(y,b,w,v,x,c,u){a(this,f),this.isJoi=!0,this.type=y,this.context=b||{},this.context.key=w.path[w.path.length-1],this.context.label=w.key,this.path=w.path,this.options=v,this.flags=x,this.message=c,this.template=u;var h=this.options.language;this.flags.label?this.context.label=this.flags.label:h&&(this.context.label===""||this.context.label===null)&&(this.context.label=h.root||o.errors.root)}return f.prototype.toString=function(){var b=this;if(this.message)return this.message;var w=void 0;this.template&&(w=this.template);var v=this.options.language;if(w=w||l.reach(v,this.type)||l.reach(o.errors,this.type),w===void 0)return'Error code "'+this.type+'" is not defined, your custom type is missing the correct language definition';var x=l.reach(v,"messages.wrapArrays");if(typeof x!="boolean"&&(x=o.errors.messages.wrapArrays),w===null){var c=d.stringify(this.context.reason,x);return x?c.slice(1,-1):c}var u=/\{\{\!?label\}\}/.test(w),h=w.length>2&&w[0]==="!"&&w[1]==="!";if(h&&(w=w.slice(2)),!u&&!h){var p=l.reach(v,"key");typeof p=="string"?w=p+w:w=l.reach(o.errors,"key")+w}return w.replace(/\{\{(\!?)([^}]+)\}\}/g,function(m,g,_){var C=l.reach(b.context,_),E=d.stringify(C,x);return g&&b.options.escapeHtml?l.escapeHtml(E):E})},f}(),i.create=function(f,y,b,w,v,x,c){return new i.Err(f,y,b,w,v,x,c)},i.process=function(f,y){if(!f||!f.length)return null;var b="",w=[],v=function u(h,p){for(var m=0;m<h.length;++m){var g=h[m];if(g instanceof Error)return g;if(g.flags.error&&typeof g.flags.error!="function")return g.flags.error;var _=void 0;if(p===void 0&&(_=g.toString(),b=b+(b?". ":"")+_),g.context.reason&&g.context.reason.length){var C=u(g.context.reason,g.path);if(C)return C}else w.push({message:_||g.toString(),path:g.path,type:g.type,context:g.context})}},x=v(f);if(x)return x;var c=new Error(b);return c.isJoi=!0,c.name="ValidationError",c.details=w,c._object=y,c.annotate=d.annotate,c},d.safeStringify=function(f,y){return JSON.stringify(f,d.serializer(),y)},d.serializer=function(){var f=[],y=[],b=function(v,x){return y[0]===x?"[Circular ~]":"[Circular ~."+f.slice(0,y.indexOf(x)).join(".")+"]"};return function(w,v){if(y.length>0){var x=y.indexOf(this);~x?(y.length=x+1,f.length=x+1,f[x]=w):(y.push(this),f.push(w)),~y.indexOf(v)&&(v=b.call(this,w,v))}else y.push(v);if(v){var c=v[d.annotations];if(c){if(Array.isArray(v)){for(var u=[],h=0;h<v.length;++h)c.errors[h]&&u.push("_$idx$_"+c.errors[h].sort().join(", ")+"_$end$_"),u.push(v[h]);v=u}else{for(var p=Object.keys(c.errors),m=0;m<p.length;++m){var g=p[m];v[g+"_$key$_"+c.errors[g].sort().join(", ")+"_$end$_"]=v[g],v[g]=void 0}for(var _=Object.keys(c.missing),C=0;C<_.length;++C){var E=_[C];v["_$miss$_"+E+"|"+c.missing[E]+"_$end$_"]="__missing__"}}return v}}return v===1/0||v===-1/0||Number.isNaN(v)||typeof v=="function"||(typeof v>"u"?"undefined":r(v))==="symbol"?"["+v.toString()+"]":v}},d.annotate=function(f){var y=f?"":"\x1B[31m",b=f?"":"\x1B[41m",w=f?"":"\x1B[0m";if(r(this._object)!=="object")return this.details[0].message;for(var v=l.clone(this._object||{}),x=this.details.length-1;x>=0;--x)for(var c=x+1,u=this.details[x],h=u.path,p=v,m=0;;++m){var g=h[m];if(p.isImmutable&&(p=p.clone()),m+1<h.length&&p[g]&&typeof p[g]!="string")p=p[g];else{var _=p[d.annotations]=p[d.annotations]||{errors:{},missing:{}},C=p[g],E=g||u.context.label;C!==void 0?(_.errors[E]=_.errors[E]||[],_.errors[E].push(c)):_.missing[E]=c;break}}var k={key:/_\$key\$_([, \d]+)_\$end\$_\"/g,missing:/\"_\$miss\$_([^\|]+)\|(\d+)_\$end\$_\"\: \"__missing__\"/g,arrayIndex:/\s*\"_\$idx\$_([, \d]+)_\$end\$_\",?\n(.*)/g,specials:/"\[(NaN|Symbol.*|-?Infinity|function.*|\(.*)\]"/g},T=d.safeStringify(v,2).replace(k.key,function(F,N){return'" '+y+"["+N+"]"+w}).replace(k.missing,function(F,N,P){return b+'"'+N+'"'+w+y+" ["+P+"]: -- missing --"+w}).replace(k.arrayIndex,function(F,N,P){return`
`+P+" "+y+"["+N+"]"+w}).replace(k.specials,function(F,N){return N});T=T+`
`+y;for(var O=0;O<this.details.length;++O){var M=O+1;T=T+`
[`+M+"] "+this.details[O].message}return T=T+w,T}},function(n,i){var s=n.exports={},r,a;function l(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?r=setTimeout:r=l}catch{r=l}try{typeof clearTimeout=="function"?a=clearTimeout:a=o}catch{a=o}})();function d(p){if(r===setTimeout)return setTimeout(p,0);if((r===l||!r)&&setTimeout)return r=setTimeout,setTimeout(p,0);try{return r(p,0)}catch{try{return r.call(null,p,0)}catch{return r.call(this,p,0)}}}function f(p){if(a===clearTimeout)return clearTimeout(p);if((a===o||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(p);try{return a(p)}catch{try{return a.call(null,p)}catch{return a.call(this,p)}}}var y=[],b=!1,w,v=-1;function x(){!b||!w||(b=!1,w.length?y=w.concat(y):v=-1,y.length&&c())}function c(){if(!b){var p=d(x);b=!0;for(var m=y.length;m;){for(w=y,y=[];++v<m;)w&&w[v].run();v=-1,m=y.length}w=null,b=!1,f(p)}}s.nextTick=function(p){var m=new Array(arguments.length-1);if(arguments.length>1)for(var g=1;g<arguments.length;g++)m[g-1]=arguments[g];y.push(new u(p,m)),y.length===1&&!b&&d(c)};function u(p,m){this.fun=p,this.array=m}u.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={};function h(){}s.on=h,s.addListener=h,s.once=h,s.off=h,s.removeListener=h,s.removeAllListeners=h,s.emit=h,s.prependListener=h,s.prependOnceListener=h,s.listeners=function(p){return[]},s.binding=function(p){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(p){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(n,i,s){var r=Object.assign||function(m){for(var g=1;g<arguments.length;g++){var _=arguments[g];for(var C in _)Object.prototype.hasOwnProperty.call(_,C)&&(m[C]=_[C])}return m};function a(m,g){for(var _=Object.getOwnPropertyNames(g),C=0;C<_.length;C++){var E=_[C],k=Object.getOwnPropertyDescriptor(g,E);k&&k.configurable&&m[E]===void 0&&Object.defineProperty(m,E,k)}return m}function l(m,g,_){return g in m?Object.defineProperty(m,g,{value:_,enumerable:!0,configurable:!0,writable:!0}):m[g]=_,m}function o(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function d(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:m}function f(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):a(m,g))}function y(m){if(Array.isArray(m)){for(var g=0,_=Array(m.length);g<m.length;g++)_[g]=m[g];return _}else return Array.from(m)}var b=s(0),w=s(2),v=s(4),x=s(6),c=s(26),u=s(1),h=s(11),p={alternatives:s(10),array:s(22),boolean:s(24),binary:s(23),date:s(12),func:s(25),number:s(27),object:s(13),string:s(28)};p.callWithDefaults=function(m,g){var _;return b.assert(this,"Must be invoked on a Joi instance."),this._defaults&&(m=this._defaults(m)),m._currentJoi=this,(_=m)._init.apply(_,y(g))},p.root=function(){var m=new w,g=m.clone();return w.prototype._currentJoi=g,g._currentJoi=g,g.any=function(){for(var _=arguments.length,C=Array(_),E=0;E<_;E++)C[E]=arguments[E];return b.assert(C.length===0,"Joi.any() does not allow arguments."),p.callWithDefaults.call(this,m,C)},g.alternatives=g.alt=function(){for(var _=arguments.length,C=Array(_),E=0;E<_;E++)C[E]=arguments[E];return p.callWithDefaults.call(this,p.alternatives,C)},g.array=function(){for(var _=arguments.length,C=Array(_),E=0;E<_;E++)C[E]=arguments[E];return b.assert(C.length===0,"Joi.array() does not allow arguments."),p.callWithDefaults.call(this,p.array,C)},g.boolean=g.bool=function(){for(var _=arguments.length,C=Array(_),E=0;E<_;E++)C[E]=arguments[E];return b.assert(C.length===0,"Joi.boolean() does not allow arguments."),p.callWithDefaults.call(this,p.boolean,C)},g.binary=function(){for(var _=arguments.length,C=Array(_),E=0;E<_;E++)C[E]=arguments[E];return b.assert(C.length===0,"Joi.binary() does not allow arguments."),p.callWithDefaults.call(this,p.binary,C)},g.date=function(){for(var _=arguments.length,C=Array(_),E=0;E<_;E++)C[E]=arguments[E];return b.assert(C.length===0,"Joi.date() does not allow arguments."),p.callWithDefaults.call(this,p.date,C)},g.func=function(){for(var _=arguments.length,C=Array(_),E=0;E<_;E++)C[E]=arguments[E];return b.assert(C.length===0,"Joi.func() does not allow arguments."),p.callWithDefaults.call(this,p.func,C)},g.number=function(){for(var _=arguments.length,C=Array(_),E=0;E<_;E++)C[E]=arguments[E];return b.assert(C.length===0,"Joi.number() does not allow arguments."),p.callWithDefaults.call(this,p.number,C)},g.object=function(){for(var _=arguments.length,C=Array(_),E=0;E<_;E++)C[E]=arguments[E];return p.callWithDefaults.call(this,p.object,C)},g.string=function(){for(var _=arguments.length,C=Array(_),E=0;E<_;E++)C[E]=arguments[E];return b.assert(C.length===0,"Joi.string() does not allow arguments."),p.callWithDefaults.call(this,p.string,C)},g.ref=function(){return u.create.apply(u,arguments)},g.isRef=function(_){return u.isRef(_)},g.validate=function(_){var C,E=(C=(arguments.length<=1?0:arguments.length-1)-1+1,arguments.length<=C?void 0:arguments[C]),k=typeof E=="function"?E:null,T=(arguments.length<=1?0:arguments.length-1)-(k?1:0);if(T===0)return m.validate(_,k);var O=T===2?arguments.length<=2?void 0:arguments[2]:{},M=g.compile(arguments.length<=1?void 0:arguments[1]);return M._validateWithOptions(_,O,k)},g.describe=function(){var _=arguments.length?g.compile(arguments.length<=0?void 0:arguments[0]):m;return _.describe()},g.compile=function(_){try{return v.schema(this,_)}catch(C){throw C.hasOwnProperty("path")&&(C.message=C.message+"("+C.path+")"),C}},g.assert=function(_,C,E){g.attempt(_,C,E)},g.attempt=function(_,C,E){var k=g.validate(_,C),T=k.error;if(T)throw E?E instanceof Error?E:(typeof T.annotate=="function"&&(T.message=E+" "+T.annotate()),T):(typeof T.annotate=="function"&&(T.message=T.annotate()),T);return k.value},g.reach=function(_,C){b.assert(_&&_ instanceof w,"you must provide a joi schema"),b.assert(Array.isArray(C)||typeof C=="string","path must be a string or an array of strings");var E=function T(O,M){if(!M.length)return O;var F=O._inner.children;if(F)for(var N=M.shift(),P=0;P<F.length;++P){var B=F[P];if(B.key===N)return T(B.schema,M)}},k=typeof C=="string"?C?C.split("."):[]:C.slice();return E(_,k)},g.lazy=function(_){return c.set(_)},g.defaults=function(_){var C=this;b.assert(typeof _=="function","Defaults must be a function");var E=Object.create(this.any());return E=_(E),b.assert(E&&E instanceof this.constructor,"defaults() must return a schema"),r(E,this,E.clone()),E._defaults=function(k){return C._defaults&&(k=C._defaults(k),b.assert(k instanceof C.constructor,"defaults() must return a schema")),k=_(k),b.assert(k instanceof C.constructor,"defaults() must return a schema"),k},E},g.extend=function(){for(var _=this,C=arguments.length,E=Array(C),k=0;k<C;k++)E[k]=arguments[k];var T=b.flatten(E);b.assert(T.length>0,"You need to provide at least one extension"),this.assert(T,g.extensionsSchema);var O=Object.create(this.any());r(O,this);for(var M=function(P){var B=T[P];typeof B=="function"&&(B=B(O)),_.assert(B,g.extensionSchema);var z=(B.base||_.any()).clone(),D=z.constructor,$=function(R){f(j,R);function j(){o(this,j);var I=d(this,R.call(this));return B.base&&r(I,z),I._type=B.name,B.language&&(I._settings=h.concat(I._settings,{language:l({},B.name,B.language)})),I}return j}(D);if(B.coerce&&($.prototype._coerce=function(R,j,I){if(D.prototype._coerce){var H=D.prototype._coerce.call(this,R,j,I);if(H.errors)return H;R=H.value}var U=B.coerce.call(this,R,j,I);return U instanceof x.Err?{value:R,errors:U}:{value:U}}),B.pre&&($.prototype._base=function(R,j,I){if(D.prototype._base){var H=D.prototype._base.call(this,R,j,I);if(H.errors)return H;R=H.value}var U=B.pre.call(this,R,j,I);return U instanceof x.Err?{value:R,errors:U}:{value:U}}),B.rules)for(var q=function(j){var I=B.rules[j],H=I.params?I.params instanceof w?I.params._inner.children.map(function(G){return G.key}):Object.keys(I.params):[],U=I.params?v.schema(_,I.params):null;$.prototype[I.name]=function(){for(var G=arguments.length,X=Array(G),Z=0;Z<G;Z++)X[Z]=arguments[Z];if(X.length>H.length)throw new Error("Unexpected number of arguments");for(var te=!1,ne={},se=0;se<H.length;++se)ne[H[se]]=X[se],!te&&u.isRef(X[se])&&(te=!0);U&&(ne=O.attempt(ne,U));var ie=void 0;if(I.validate){var ce=function(fe,we,_e){return I.validate.call(this,ne,fe,we,_e)};ie=this._test(I.name,ne,ce,{description:I.description,hasRef:te})}else ie=this.clone();if(I.setup){var re=I.setup.call(ie,ne);re!==void 0&&(b.assert(re instanceof w,"Setup of extension Joi."+this._type+"()."+I.name+"() must return undefined or a Joi object"),ie=re)}return ie}},V=0;V<B.rules.length;++V)q(V);B.describe&&($.prototype.describe=function(){var R=D.prototype.describe.call(this);return B.describe.call(this,R)});var K=new $;O[B.name]=function(){for(var R=arguments.length,j=Array(R),I=0;I<R;I++)j[I]=arguments[I];return p.callWithDefaults.call(this,K,j)}},F=0;F<T.length;++F)M(F);return O},g.extensionSchema=p.object.keys({base:p.object.type(w,"Joi object"),name:p.string.required(),coerce:p.func.arity(3),pre:p.func.arity(3),language:p.object,describe:p.func.arity(1),rules:p.array.items(p.object.keys({name:p.string.required(),setup:p.func.arity(1),validate:p.func.arity(4),params:[p.object.pattern(/.*/,p.object.type(w,"Joi object")),p.object.type(p.object.constructor,"Joi object")],description:[p.string,p.func.arity(1)]}).or("setup","validate"))}).strict(),g.extensionsSchema=p.array.items([p.object,p.func.arity(1)]).strict(),g.version=s(36).version,g},n.exports=p.root()},function(n,i,s){(function(r){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y};function l(y){if(Array.isArray(y)){for(var b=0,w=Array(y.length);b<y.length;b++)w[b]=y[b];return w}else return Array.from(y)}function o(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}var d=s(1),f={};f.extendedCheckForValue=function(y,b){var w=typeof y>"u"?"undefined":a(y);if(w==="object"){if(y instanceof Date)return function(x){return x instanceof Date&&y.getTime()===x.getTime()};if(r.isBuffer(y))return function(x){return r.isBuffer(x)&&y.length===x.length&&y.toString("binary")===x.toString("binary")}}else if(b&&w==="string"){var v=y.toLowerCase();return function(x){return typeof x=="string"&&v===x.toLowerCase()}}return null},n.exports=function(){function y(b){o(this,y),this._set=new Set(b),this._hasRef=!1}return y.prototype.add=function(w,v){var x=d.isRef(w);return!x&&this.has(w,null,null,!1)?this:(v!==void 0&&d.push(v,w),this._set.add(w),this._hasRef|=x,this)},y.prototype.merge=function(w,v){var x=!0,c=!1,u=void 0;try{for(var h=w._set[Symbol.iterator](),p;!(x=(p=h.next()).done);x=!0){var m=p.value;this.add(m)}}catch(O){c=!0,u=O}finally{try{!x&&h.return&&h.return()}finally{if(c)throw u}}var g=!0,_=!1,C=void 0;try{for(var E=v._set[Symbol.iterator](),k;!(g=(k=E.next()).done);g=!0){var T=k.value;this.remove(T)}}catch(O){_=!0,C=O}finally{try{!g&&E.return&&E.return()}finally{if(_)throw C}}return this},y.prototype.remove=function(w){return this._set.delete(w),this},y.prototype.has=function(w,v,x,c){if(!this._set.size)return!1;var u=this._set.has(w);if(u)return u;var h=f.extendedCheckForValue(w,c);if(!h){if(v&&this._hasRef){var p=!0,m=!1,g=void 0;try{for(var _=this._set[Symbol.iterator](),C;!(p=(C=_.next()).done);p=!0){var E=C.value;if(d.isRef(E)&&(E=E(v.reference||v.parent,x),w===E||Array.isArray(E)&&E.includes(w)))return!0}}catch(k){m=!0,g=k}finally{try{!p&&_.return&&_.return()}finally{if(m)throw g}}}return!1}return this._has(w,v,x,h)},y.prototype._has=function(w,v,x,c){var u=!!(v&&this._hasRef),h=function(T){return w===T?!0:c(T)},p=!0,m=!1,g=void 0;try{for(var _=this._set[Symbol.iterator](),C;!(p=(C=_.next()).done);p=!0){var E=C.value;if(u&&d.isRef(E)&&(E=E(v.reference||v.parent,x),Array.isArray(E))){if(E.find(h))return!0;continue}if(h(E))return!0}}catch(k){m=!0,g=k}finally{try{!p&&_.return&&_.return()}finally{if(m)throw g}}return!1},y.prototype.values=function(w){if(w&&w.stripUndefined){var v=[],x=!0,c=!1,u=void 0;try{for(var h=this._set[Symbol.iterator](),p;!(x=(p=h.next()).done);x=!0){var m=p.value;m!==void 0&&v.push(m)}}catch(g){c=!0,u=g}finally{try{!x&&h.return&&h.return()}finally{if(c)throw u}}return v}return Array.from(this._set)},y.prototype.slice=function(){var w=new y(this._set);return w._hasRef=this._hasRef,w},y.prototype.concat=function(w){var v=new y([].concat(l(this._set),l(w._set)));return v._hasRef=!!(this._hasRef|w._hasRef),v},y}()}).call(i,s(3).Buffer)},function(n,i,s){var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x};function a(x,c){for(var u=Object.getOwnPropertyNames(c),h=0;h<u.length;h++){var p=u[h],m=Object.getOwnPropertyDescriptor(c,p);m&&m.configurable&&x[p]===void 0&&Object.defineProperty(x,p,m)}return x}function l(x,c){if(!(x instanceof c))throw new TypeError("Cannot call a class as a function")}function o(x,c){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:x}function d(x,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);x.prototype=Object.create(c&&c.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(x,c):a(x,c))}var f=s(0),y=s(2),b=s(4),w=s(1),v={};v.Alternatives=function(x){d(c,x);function c(){l(this,c);var u=o(this,x.call(this));return u._type="alternatives",u._invalids.remove(null),u._inner.matches=[],u}return c.prototype._init=function(){return arguments.length?this.try.apply(this,arguments):this},c.prototype._base=function(h,p,m){for(var g=[],_=this._inner.matches.length,C=this._baseType,E=0;E<_;++E){var k=this._inner.matches[E];if(!k.schema){var T=k.peek||k.is,O=k.is?k.ref(p.reference||p.parent,m):h,M=T._validate(O,null,m,p.parent).errors;if(M){if(k.otherwise)return k.otherwise._validate(h,p,m)}else if(k.then)return k.then._validate(h,p,m);if(E===_-1&&C)return C._validate(h,p,m);continue}var F=k.schema._validate(h,p,m);if(!F.errors)return F;g=g.concat(F.errors)}return g.length?{errors:this.createError("alternatives.child",{reason:g},p,m)}:{errors:this.createError("alternatives.base",null,p,m)}},c.prototype.try=function(){for(var h=arguments.length,p=Array(h),m=0;m<h;m++)p[m]=arguments[m];p=f.flatten(p),f.assert(p.length,"Cannot add other alternatives without at least one schema");for(var g=this.clone(),_=0;_<p.length;++_){var C=b.schema(this._currentJoi,p[_]);C._refs.length&&(g._refs=g._refs.concat(C._refs)),g._inner.matches.push({schema:C})}return g},c.prototype.when=function(h,p){var m=!1;f.assert(w.isRef(h)||typeof h=="string"||(m=h instanceof y),"Invalid condition:",h),f.assert(p,"Missing options"),f.assert((typeof p>"u"?"undefined":r(p))==="object","Invalid options"),m?f.assert(!p.hasOwnProperty("is"),'"is" can not be used with a schema condition'):f.assert(p.hasOwnProperty("is"),'Missing "is" directive'),f.assert(p.then!==void 0||p.otherwise!==void 0,'options must have at least one of "then" or "otherwise"');var g=this.clone(),_=void 0;m||(_=b.schema(this._currentJoi,p.is),(p.is===null||!(w.isRef(p.is)||p.is instanceof y))&&(_=_.required()));var C={ref:m?null:b.ref(h),peek:m?h:null,is:_,then:p.then!==void 0?b.schema(this._currentJoi,p.then):void 0,otherwise:p.otherwise!==void 0?b.schema(this._currentJoi,p.otherwise):void 0};return g._baseType&&(C.then=C.then&&g._baseType.concat(C.then),C.otherwise=C.otherwise&&g._baseType.concat(C.otherwise)),m||(w.push(g._refs,C.ref),g._refs=g._refs.concat(C.is._refs)),C.then&&C.then._refs&&(g._refs=g._refs.concat(C.then._refs)),C.otherwise&&C.otherwise._refs&&(g._refs=g._refs.concat(C.otherwise._refs)),g._inner.matches.push(C),g},c.prototype.describe=function(){for(var h=y.prototype.describe.call(this),p=[],m=0;m<this._inner.matches.length;++m){var g=this._inner.matches[m];if(g.schema)p.push(g.schema.describe());else{var _=g.is?{ref:g.ref.toString(),is:g.is.describe()}:{peek:g.peek.describe()};g.then&&(_.then=g.then.describe()),g.otherwise&&(_.otherwise=g.otherwise.describe()),p.push(_)}}return h.alternatives=p,h},c}(y),n.exports=new v.Alternatives},function(n,i,s){var r=Object.assign||function(l){for(var o=1;o<arguments.length;o++){var d=arguments[o];for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(l[f]=d[f])}return l},a=s(0);i.concat=function(l,o){if(!o)return l;for(var d=r({},l),f=Object.keys(o),y=0;y<f.length;++y){var b=f[y];b!=="language"||!d.hasOwnProperty(b)?d[b]=o[b]:d[b]=a.applyToDefaults(d[b],o[b])}return d}},function(n,i,s){function r(w,v){for(var x=Object.getOwnPropertyNames(v),c=0;c<x.length;c++){var u=x[c],h=Object.getOwnPropertyDescriptor(v,u);h&&h.configurable&&w[u]===void 0&&Object.defineProperty(w,u,h)}return w}function a(w,v){if(!(w instanceof v))throw new TypeError("Cannot call a class as a function")}function l(w,v){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:w}function o(w,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);w.prototype=Object.create(v&&v.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(w,v):r(w,v))}var d=s(2),f=s(1),y=s(0),b={};b.isoDate=/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/,b.invalidDate=new Date(""),b.isIsoDate=function(){var w=b.isoDate.toString();return function(v){return v&&v.toString()===w}}(),b.Date=function(w){o(v,w);function v(){a(this,v);var x=l(this,w.call(this));return x._type="date",x}return v.prototype._base=function(c,u,h){var p={value:h.convert&&b.Date.toDate(c,this._flags.format,this._flags.timestamp,this._flags.multiplier)||c};if(p.value instanceof Date&&!isNaN(p.value.getTime()))p.errors=null;else if(!h.convert)p.errors=this.createError("date.strict",null,u,h);else{var m=void 0;b.isIsoDate(this._flags.format)?m="isoDate":this._flags.timestamp?m="timestamp."+this._flags.timestamp:m="base",p.errors=this.createError("date."+m,null,u,h)}return p},v.toDate=function(c,u,h,p){if(c instanceof Date)return c;if(typeof c=="string"||typeof c=="number"&&!isNaN(c)&&isFinite(c)){typeof c=="string"&&/^[+-]?\d+(\.\d+)?$/.test(c)&&(c=parseFloat(c));var m=void 0;if(u&&b.isIsoDate(u)?m=u.test(c)?new Date(c):b.invalidDate:h&&p?m=/^\s*$/.test(c)?b.invalidDate:new Date(c*p):m=new Date(c),!isNaN(m.getTime()))return m}return null},v.prototype.iso=function(){if(this._flags.format===b.isoDate)return this;var c=this.clone();return c._flags.format=b.isoDate,c},v.prototype.timestamp=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"javascript",u=["javascript","unix"];if(y.assert(u.includes(c),'"type" must be one of "'+u.join('", "')+'"'),this._flags.timestamp===c)return this;var h=this.clone();return h._flags.timestamp=c,h._flags.multiplier=c==="unix"?1e3:1,h},v.prototype._isIsoDate=function(c){return b.isoDate.test(c)},v}(d),b.compare=function(w,v){return function(x){var c=x==="now",u=f.isRef(x);return!c&&!u&&(x=b.Date.toDate(x)),y.assert(x,"Invalid date format"),this._test(w,x,function(h,p,m){var g=void 0;if(c)g=Date.now();else if(u){if(g=b.Date.toDate(x(p.reference||p.parent,m)),!g)return this.createError("date.ref",{ref:x.key},p,m);g=g.getTime()}else g=x.getTime();return v(h.getTime(),g)?h:this.createError("date."+w,{limit:new Date(g)},p,m)})}},b.Date.prototype.min=b.compare("min",function(w,v){return w>=v}),b.Date.prototype.max=b.compare("max",function(w,v){return w<=v}),b.Date.prototype.greater=b.compare("greater",function(w,v){return w>v}),b.Date.prototype.less=b.compare("less",function(w,v){return w<v}),n.exports=new b.Date},function(n,i,s){var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c};function a(c,u){for(var h=Object.getOwnPropertyNames(u),p=0;p<h.length;p++){var m=h[p],g=Object.getOwnPropertyDescriptor(u,m);g&&g.configurable&&c[m]===void 0&&Object.defineProperty(c,m,g)}return c}function l(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")}function o(c,u){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:c}function d(c,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);c.prototype=Object.create(u&&u.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(c,u):a(c,u))}var f=s(0),y=s(31),b=s(2),w=s(6),v=s(4),x={};x.Object=function(c){d(u,c);function u(){l(this,u);var h=o(this,c.call(this));return h._type="object",h._inner.children=null,h._inner.renames=[],h._inner.dependencies=[],h._inner.patterns=[],h}return u.prototype._init=function(){return arguments.length?this.keys.apply(this,arguments):this},u.prototype._base=function(p,m,g){var _=p,C=[],E=function(){return{value:_,errors:C.length?C:null}};typeof p=="string"&&g.convert&&(p=x.safeParse(p));var k=this._flags.func?"function":"object";if(!p||(typeof p>"u"?"undefined":r(p))!==k||Array.isArray(p))return C.push(this.createError(k+".base",null,m,g)),E();if(!this._inner.renames.length&&!this._inner.dependencies.length&&!this._inner.children&&!this._inner.patterns.length)return _=p,E();if(_===p){k==="object"?_=Object.create(Object.getPrototypeOf(p)):(_=function(){for(var Et=arguments.length,Oi=Array(Et),zn=0;zn<Et;zn++)Oi[zn]=arguments[zn];return p.apply(this,Oi)},_.prototype=f.clone(p.prototype));for(var T=Object.keys(p),O=0;O<T.length;++O)_[T[O]]=p[T[O]]}else _=p;for(var M={},F=0;F<this._inner.renames.length;++F){var N=this._inner.renames[F];if(N.isRegExp){for(var P=Object.keys(_),B=[],z=0;z<P.length;++z)N.from.test(P[z])&&B.push(P[z]);var D=B.every(function(et){return _[et]===void 0});if(N.options.ignoreUndefined&&D)continue;if(!N.options.multiple&&M[N.to]&&(C.push(this.createError("object.rename.regex.multiple",{from:B,to:N.to},m,g)),g.abortEarly)||Object.prototype.hasOwnProperty.call(_,N.to)&&!N.options.override&&!M[N.to]&&(C.push(this.createError("object.rename.regex.override",{from:B,to:N.to},m,g)),g.abortEarly))return E();if(D?delete _[N.to]:_[N.to]=_[B[B.length-1]],M[N.to]=!0,!N.options.alias)for(var $=0;$<B.length;++$)delete _[B[$]]}else{if(N.options.ignoreUndefined&&_[N.from]===void 0)continue;if(!N.options.multiple&&M[N.to]&&(C.push(this.createError("object.rename.multiple",{from:N.from,to:N.to},m,g)),g.abortEarly)||Object.prototype.hasOwnProperty.call(_,N.to)&&!N.options.override&&!M[N.to]&&(C.push(this.createError("object.rename.override",{from:N.from,to:N.to},m,g)),g.abortEarly))return E();_[N.from]===void 0?delete _[N.to]:_[N.to]=_[N.from],M[N.to]=!0,N.options.alias||delete _[N.from]}}if(!this._inner.children&&!this._inner.patterns.length&&!this._inner.dependencies.length)return E();var q=new Set(Object.keys(_));if(this._inner.children){for(var V=[],K=0;K<this._inner.children.length;++K){var R=this._inner.children[K],j=R.key,I=_[j];q.delete(j);var H={key:j,path:m.path.concat(j),parent:_,reference:m.reference},U=R.schema._validate(I,H,g);if(U.errors){if(C.push(this.createError("object.child",{key:j,child:R.schema._getLabel(j),reason:U.errors},H,g)),g.abortEarly)return E()}else R.schema._flags.strip||U.value===void 0&&U.value!==I?(V.push(j),_[j]=U.finalValue):U.value!==void 0&&(_[j]=U.value)}for(var G=0;G<V.length;++G)delete _[V[G]]}if(q.size&&this._inner.patterns.length){var X=!0,Z=!1,te=void 0;try{for(var ne=q[Symbol.iterator](),se;!(X=(se=ne.next()).done);X=!0)for(var ie=se.value,ce={key:ie,path:m.path.concat(ie),parent:_,reference:m.reference},re=_[ie],de=0;de<this._inner.patterns.length;++de){var fe=this._inner.patterns[de];if(fe.regex?fe.regex.test(ie):!fe.schema.validate(ie).error){q.delete(ie);var we=fe.rule._validate(re,ce,g);if(we.errors&&(C.push(this.createError("object.child",{key:ie,child:fe.rule._getLabel(ie),reason:we.errors},ce,g)),g.abortEarly))return E();_[ie]=we.value}}}catch(et){Z=!0,te=et}finally{try{!X&&ne.return&&ne.return()}finally{if(Z)throw te}}}if(q.size&&(this._inner.children||this._inner.patterns.length)){if(g.stripUnknown&&this._flags.allowUnknown!==!0||g.skipFunctions){var _e=g.stripUnknown?g.stripUnknown===!0?!0:!!g.stripUnknown.objects:!1,Oe=!0,Me=!1,W=void 0;try{for(var A=q[Symbol.iterator](),L;!(Oe=(L=A.next()).done);Oe=!0){var Y=L.value;_e?(delete _[Y],q.delete(Y)):typeof _[Y]=="function"&&q.delete(Y)}}catch(et){Me=!0,W=et}finally{try{!Oe&&A.return&&A.return()}finally{if(Me)throw W}}}if(this._flags.allowUnknown!==void 0?!this._flags.allowUnknown:!g.allowUnknown){var Q=!0,J=!1,ee=void 0;try{for(var ue=q[Symbol.iterator](),pe;!(Q=(pe=ue.next()).done);Q=!0){var Ee=pe.value;C.push(this.createError("object.allowUnknown",{child:Ee},{key:Ee,path:m.path.concat(Ee)},g,{}))}}catch(et){J=!0,ee=et}finally{try{!Q&&ue.return&&ue.return()}finally{if(J)throw ee}}}}for(var Le=0;Le<this._inner.dependencies.length;++Le){var me=this._inner.dependencies[Le],Re=x[me.type].call(this,me.key!==null&&_[me.key],me.peers,_,{key:me.key,path:me.key===null?m.path:m.path.concat(me.key)},g);if(Re instanceof w.Err&&(C.push(Re),g.abortEarly))return E()}return E()},u.prototype.keys=function(p){f.assert(p==null||(typeof p>"u"?"undefined":r(p))==="object","Object schema must be a valid object"),f.assert(!p||!(p instanceof b),"Object schema cannot be a joi schema");var m=this.clone();if(!p)return m._inner.children=null,m;var g=Object.keys(p);if(!g.length)return m._inner.children=[],m;var _=new y;if(m._inner.children)for(var C=0;C<m._inner.children.length;++C){var E=m._inner.children[C];g.includes(E.key)||_.add(E,{after:E._refs,group:E.key})}for(var k=0;k<g.length;++k){var T=g[k],O=p[T];try{var M=v.schema(this._currentJoi,O);_.add({key:T,schema:M},{after:M._refs,group:T})}catch(F){throw F.hasOwnProperty("path")?F.path=T+"."+F.path:F.path=T,F}}return m._inner.children=_.nodes,m},u.prototype.append=function(p){return p==null||Object.keys(p).length===0?this:this.keys(p)},u.prototype.unknown=function(p){var m=p!==!1;if(this._flags.allowUnknown===m)return this;var g=this.clone();return g._flags.allowUnknown=m,g},u.prototype.length=function(p){return f.assert(Number.isSafeInteger(p)&&p>=0,"limit must be a positive integer"),this._test("length",p,function(m,g,_){return Object.keys(m).length===p?m:this.createError("object.length",{limit:p},g,_)})},u.prototype.min=function(p){return f.assert(Number.isSafeInteger(p)&&p>=0,"limit must be a positive integer"),this._test("min",p,function(m,g,_){return Object.keys(m).length>=p?m:this.createError("object.min",{limit:p},g,_)})},u.prototype.max=function(p){return f.assert(Number.isSafeInteger(p)&&p>=0,"limit must be a positive integer"),this._test("max",p,function(m,g,_){return Object.keys(m).length<=p?m:this.createError("object.max",{limit:p},g,_)})},u.prototype.pattern=function(p,m){var g=p instanceof RegExp;f.assert(g||p instanceof b,"pattern must be a regex or schema"),f.assert(m!==void 0,"Invalid rule"),g&&(p=new RegExp(p.source,p.ignoreCase?"i":void 0));try{m=v.schema(this._currentJoi,m)}catch(C){throw C.hasOwnProperty("path")&&(C.message=C.message+"("+C.path+")"),C}var _=this.clone();return g?_._inner.patterns.push({regex:p,rule:m}):_._inner.patterns.push({schema:p,rule:m}),_},u.prototype.schema=function(){return this._test("schema",null,function(p,m,g){return p instanceof b?p:this.createError("object.schema",null,m,g)})},u.prototype.with=function(p,m){return f.assert(arguments.length===2,"Invalid number of arguments, expected 2."),this._dependency("with",p,m)},u.prototype.without=function(p,m){return f.assert(arguments.length===2,"Invalid number of arguments, expected 2."),this._dependency("without",p,m)},u.prototype.xor=function(){for(var p=arguments.length,m=Array(p),g=0;g<p;g++)m[g]=arguments[g];return m=f.flatten(m),this._dependency("xor",null,m)},u.prototype.or=function(){for(var p=arguments.length,m=Array(p),g=0;g<p;g++)m[g]=arguments[g];return m=f.flatten(m),this._dependency("or",null,m)},u.prototype.and=function(){for(var p=arguments.length,m=Array(p),g=0;g<p;g++)m[g]=arguments[g];return m=f.flatten(m),this._dependency("and",null,m)},u.prototype.nand=function(){for(var p=arguments.length,m=Array(p),g=0;g<p;g++)m[g]=arguments[g];return m=f.flatten(m),this._dependency("nand",null,m)},u.prototype.requiredKeys=function(){for(var p=arguments.length,m=Array(p),g=0;g<p;g++)m[g]=arguments[g];return m=f.flatten(m),this.applyFunctionToChildren(m,"required")},u.prototype.optionalKeys=function(){for(var p=arguments.length,m=Array(p),g=0;g<p;g++)m[g]=arguments[g];return m=f.flatten(m),this.applyFunctionToChildren(m,"optional")},u.prototype.forbiddenKeys=function(){for(var p=arguments.length,m=Array(p),g=0;g<p;g++)m[g]=arguments[g];return m=f.flatten(m),this.applyFunctionToChildren(m,"forbidden")},u.prototype.rename=function(p,m,g){f.assert(typeof p=="string"||p instanceof RegExp,"Rename missing the from argument"),f.assert(typeof m=="string","Rename missing the to argument"),f.assert(m!==p,"Cannot rename key to same name:",p);for(var _=0;_<this._inner.renames.length;++_)f.assert(this._inner.renames[_].from!==p,"Cannot rename the same key multiple times");var C=this.clone();return C._inner.renames.push({from:p,to:m,options:f.applyToDefaults(x.renameDefaults,g||{}),isRegExp:p instanceof RegExp}),C},u.prototype.applyFunctionToChildren=function(p,m,g,_){p=[].concat(p),f.assert(p.length>0,"expected at least one children");var C=x.groupChildren(p),E=void 0;if(""in C?(E=this[m].apply(this,g),delete C[""]):E=this.clone(),E._inner.children){_=_?_+".":"";for(var k=0;k<E._inner.children.length;++k){var T=E._inner.children[k],O=C[T.key];O&&(E._inner.children[k]={key:T.key,_refs:T._refs,schema:T.schema.applyFunctionToChildren(O,m,g,_+T.key)},delete C[T.key])}}var M=Object.keys(C);return f.assert(M.length===0,"unknown key(s)",M.join(", ")),E},u.prototype._dependency=function(p,m,g){g=[].concat(g);for(var _=0;_<g.length;++_)f.assert(typeof g[_]=="string",p,"peers must be a string or array of strings");var C=this.clone();return C._inner.dependencies.push({type:p,key:m,peers:g}),C},u.prototype.describe=function(p){var m=b.prototype.describe.call(this);if(m.rules)for(var g=0;g<m.rules.length;++g){var _=m.rules[g];_.arg&&r(_.arg)==="object"&&_.arg.schema&&_.arg.ref&&(_.arg={schema:_.arg.schema.describe(),ref:_.arg.ref.toString()})}if(this._inner.children&&!p){m.children={};for(var C=0;C<this._inner.children.length;++C){var E=this._inner.children[C];m.children[E.key]=E.schema.describe()}}if(this._inner.dependencies.length&&(m.dependencies=f.clone(this._inner.dependencies)),this._inner.patterns.length){m.patterns=[];for(var k=0;k<this._inner.patterns.length;++k){var T=this._inner.patterns[k];T.regex?m.patterns.push({regex:T.regex.toString(),rule:T.rule.describe()}):m.patterns.push({schema:T.schema.describe(),rule:T.rule.describe()})}}return this._inner.renames.length>0&&(m.renames=f.clone(this._inner.renames)),m},u.prototype.assert=function(p,m,g){p=v.ref(p),f.assert(p.isContext||p.depth>1,"Cannot use assertions for root level references - use direct key rules instead"),g=g||"pass the assertion test";try{m=v.schema(this._currentJoi,m)}catch(E){throw E.hasOwnProperty("path")&&(E.message=E.message+"("+E.path+")"),E}var _=p.path[p.path.length-1],C=p.path.join(".");return this._test("assert",{schema:m,ref:p},function(E,k,T){var O=m._validate(p(E),null,T,E);if(!O.errors)return E;var M=f.merge({},k);return M.key=_,M.path=p.path,this.createError("object.assert",{ref:C,message:g},M,T)})},u.prototype.type=function(p){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.name;f.assert(typeof p=="function","type must be a constructor function");var g={name:m,ctor:p};return this._test("type",g,function(_,C,E){return _ instanceof p?_:this.createError("object.type",{type:g.name},C,E)})},u}(b),x.safeParse=function(c){try{return JSON.parse(c)}catch{}return c},x.renameDefaults={alias:!1,multiple:!1,override:!1},x.groupChildren=function(c){c.sort();for(var u={},h=0;h<c.length;++h){var p=c[h];f.assert(typeof p=="string","children must be strings");var m=p.split(".")[0],g=u[m]=u[m]||[];g.push(p.substring(m.length+1))}return u},x.keysToLabels=function(c,u){var h=c._inner.children;if(!h)return u;var p=function(g){var _=h.find(function(C){return C.key===g});return _?_.schema._getLabel(g):g};return Array.isArray(u)?u.map(p):p(u)},x.with=function(c,u,h,p,m){if(c===void 0)return c;for(var g=0;g<u.length;++g){var _=u[g];if(!Object.prototype.hasOwnProperty.call(h,_)||h[_]===void 0)return this.createError("object.with",{main:p.key,mainWithLabel:x.keysToLabels(this,p.key),peer:_,peerWithLabel:x.keysToLabels(this,_)},p,m)}return c},x.without=function(c,u,h,p,m){if(c===void 0)return c;for(var g=0;g<u.length;++g){var _=u[g];if(Object.prototype.hasOwnProperty.call(h,_)&&h[_]!==void 0)return this.createError("object.without",{main:p.key,mainWithLabel:x.keysToLabels(this,p.key),peer:_,peerWithLabel:x.keysToLabels(this,_)},p,m)}return c},x.xor=function(c,u,h,p,m){for(var g=[],_=0;_<u.length;++_){var C=u[_];Object.prototype.hasOwnProperty.call(h,C)&&h[C]!==void 0&&g.push(C)}if(g.length===1)return c;var E={peers:u,peersWithLabels:x.keysToLabels(this,u)};return g.length===0?this.createError("object.missing",E,p,m):this.createError("object.xor",E,p,m)},x.or=function(c,u,h,p,m){for(var g=0;g<u.length;++g){var _=u[g];if(Object.prototype.hasOwnProperty.call(h,_)&&h[_]!==void 0)return c}return this.createError("object.missing",{peers:u,peersWithLabels:x.keysToLabels(this,u)},p,m)},x.and=function(c,u,h,p,m){for(var g=[],_=[],C=u.length,E=0;E<C;++E){var k=u[E];!Object.prototype.hasOwnProperty.call(h,k)||h[k]===void 0?g.push(k):_.push(k)}var T=g.length===C||_.length===C;if(!T)return this.createError("object.and",{present:_,presentWithLabels:x.keysToLabels(this,_),missing:g,missingWithLabels:x.keysToLabels(this,g)},p,m)},x.nand=function(c,u,h,p,m){for(var g=[],_=0;_<u.length;++_){var C=u[_];Object.prototype.hasOwnProperty.call(h,C)&&h[C]!==void 0&&g.push(C)}var E=f.clone(u),k=E.splice(0,1)[0],T=g.length===u.length;return T?this.createError("object.nand",{main:k,mainWithLabel:x.keysToLabels(this,k),peers:E,peersWithLabels:x.keysToLabels(this,E)},p,m):null},n.exports=new x.Object},function(n,i,s){var r={rfc3986:{}};r.generate=function(){var a="|",l="0?",o="0-9",d="["+o+"]",f="a-zA-Z",y="["+f+"]";r.rfc3986.ipv4Cidr=d+a+"[1-2]"+d+a+"3[0-2]",r.rfc3986.ipv6Cidr="(?:"+l+l+d+a+l+"[1-9]"+d+a+"1[01]"+d+a+"12[0-8])";var b=o+"A-Fa-f",w="["+b+"]",v=f+o+"-\\._~",x="!\\$&'\\(\\)\\*\\+,;=",c="%"+b,u=v+c+x+":@",h="["+u+"]",p="(?:"+l+l+d+a+l+"[1-9]"+d+a+"1"+d+d+a+"2[0-4]"+d+a+"25[0-5])";r.rfc3986.IPv4address="(?:"+p+"\\.){3}"+p;var m=w+"{1,4}",g="(?:"+m+":"+m+"|"+r.rfc3986.IPv4address+")",_="(?:"+m+":){6}"+g,C="::(?:"+m+":){5}"+g,E="(?:"+m+")?::(?:"+m+":){4}"+g,k="(?:(?:"+m+":){0,1}"+m+")?::(?:"+m+":){3}"+g,T="(?:(?:"+m+":){0,2}"+m+")?::(?:"+m+":){2}"+g,O="(?:(?:"+m+":){0,3}"+m+")?::"+m+":"+g,M="(?:(?:"+m+":){0,4}"+m+")?::"+g,F="(?:(?:"+m+":){0,5}"+m+")?::"+m,N="(?:(?:"+m+":){0,6}"+m+")?::";r.rfc3986.IPv6address="(?:"+_+a+C+a+E+a+k+a+T+a+O+a+M+a+F+a+N+")",r.rfc3986.IPvFuture="v"+w+"+\\.["+v+x+":]+",r.rfc3986.scheme=y+"["+f+o+"+-\\.]*";var P="["+v+c+x+":]*",B="\\[(?:"+r.rfc3986.IPv6address+a+r.rfc3986.IPvFuture+")\\]",z="["+v+c+x+"]{0,255}",D="(?:"+B+a+r.rfc3986.IPv4address+a+z+")",$=d+"*",q="(?:"+P+"@)?"+D+"(?::"+$+")?",V=h+"*",K=h+"+",R="["+v+c+x+"@]+",j="",I="(?:\\/"+V+")*",H="\\/(?:"+K+I+")?",U=K+I,G=R+I;r.rfc3986.hierPart="(?:(?:\\/\\/"+q+I+")"+a+H+a+U+")",r.rfc3986.relativeRef="(?:(?:\\/\\/"+q+I+")"+a+H+a+G+a+j+")",r.rfc3986.query="["+u+"\\/\\?]*(?=#|$)",r.rfc3986.fragment="["+u+"\\/\\?]*"},r.generate(),n.exports=r.rfc3986},function(n,i){},function(n,i,s){(function(r,a){var l=/%[sdj%]/g;i.format=function(R){if(!k(R)){for(var j=[],I=0;I<arguments.length;I++)j.push(f(arguments[I]));return j.join(" ")}for(var I=1,H=arguments,U=H.length,G=String(R).replace(l,function(Z){if(Z==="%%")return"%";if(I>=U)return Z;switch(Z){case"%s":return String(H[I++]);case"%d":return Number(H[I++]);case"%j":try{return JSON.stringify(H[I++])}catch{return"[Circular]"}default:return Z}}),X=H[I];I<U;X=H[++I])_(X)||!F(X)?G+=" "+X:G+=" "+f(X);return G},i.deprecate=function(R,j){if(O(r.process))return function(){return i.deprecate(R,j).apply(this,arguments)};if(a.noDeprecation===!0)return R;var I=!1;function H(){if(!I){if(a.throwDeprecation)throw new Error(j);a.traceDeprecation?console.trace(j):console.error(j),I=!0}return R.apply(this,arguments)}return H};var o={},d;i.debuglog=function(R){if(O(d)&&(d={}.NODE_DEBUG||""),R=R.toUpperCase(),!o[R])if(new RegExp("\\b"+R+"\\b","i").test(d)){var j=a.pid;o[R]=function(){var I=i.format.apply(i,arguments);console.error("%s %d: %s",R,j,I)}}else o[R]=function(){};return o[R]};function f(R,j){var I={seen:[],stylize:b};return arguments.length>=3&&(I.depth=arguments[2]),arguments.length>=4&&(I.colors=arguments[3]),g(j)?I.showHidden=j:j&&i._extend(I,j),O(I.showHidden)&&(I.showHidden=!1),O(I.depth)&&(I.depth=2),O(I.colors)&&(I.colors=!1),O(I.customInspect)&&(I.customInspect=!0),I.colors&&(I.stylize=y),v(I,R,I.depth)}i.inspect=f,f.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},f.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function y(R,j){var I=f.styles[j];return I?"\x1B["+f.colors[I][0]+"m"+R+"\x1B["+f.colors[I][1]+"m":R}function b(R,j){return R}function w(R){var j={};return R.forEach(function(I,H){j[I]=!0}),j}function v(R,j,I){if(R.customInspect&&j&&B(j.inspect)&&j.inspect!==i.inspect&&!(j.constructor&&j.constructor.prototype===j)){var H=j.inspect(I,R);return k(H)||(H=v(R,H,I)),H}var U=x(R,j);if(U)return U;var G=Object.keys(j),X=w(G);if(R.showHidden&&(G=Object.getOwnPropertyNames(j)),P(j)&&(G.indexOf("message")>=0||G.indexOf("description")>=0))return c(j);if(G.length===0){if(B(j)){var Z=j.name?": "+j.name:"";return R.stylize("[Function"+Z+"]","special")}if(M(j))return R.stylize(RegExp.prototype.toString.call(j),"regexp");if(N(j))return R.stylize(Date.prototype.toString.call(j),"date");if(P(j))return c(j)}var te="",ne=!1,se=["{","}"];if(m(j)&&(ne=!0,se=["[","]"]),B(j)){var ie=j.name?": "+j.name:"";te=" [Function"+ie+"]"}if(M(j)&&(te=" "+RegExp.prototype.toString.call(j)),N(j)&&(te=" "+Date.prototype.toUTCString.call(j)),P(j)&&(te=" "+c(j)),G.length===0&&(!ne||j.length==0))return se[0]+te+se[1];if(I<0)return M(j)?R.stylize(RegExp.prototype.toString.call(j),"regexp"):R.stylize("[Object]","special");R.seen.push(j);var ce;return ne?ce=u(R,j,I,X,G):ce=G.map(function(re){return h(R,j,I,X,re,ne)}),R.seen.pop(),p(ce,te,se)}function x(R,j){if(O(j))return R.stylize("undefined","undefined");if(k(j)){var I="'"+JSON.stringify(j).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return R.stylize(I,"string")}if(E(j))return R.stylize(""+j,"number");if(g(j))return R.stylize(""+j,"boolean");if(_(j))return R.stylize("null","null")}function c(R){return"["+Error.prototype.toString.call(R)+"]"}function u(R,j,I,H,U){for(var G=[],X=0,Z=j.length;X<Z;++X)K(j,String(X))?G.push(h(R,j,I,H,String(X),!0)):G.push("");return U.forEach(function(te){te.match(/^\d+$/)||G.push(h(R,j,I,H,te,!0))}),G}function h(R,j,I,H,U,G){var X,Z,te;if(te=Object.getOwnPropertyDescriptor(j,U)||{value:j[U]},te.get?te.set?Z=R.stylize("[Getter/Setter]","special"):Z=R.stylize("[Getter]","special"):te.set&&(Z=R.stylize("[Setter]","special")),K(H,U)||(X="["+U+"]"),Z||(R.seen.indexOf(te.value)<0?(_(I)?Z=v(R,te.value,null):Z=v(R,te.value,I-1),Z.indexOf(`
`)>-1&&(G?Z=Z.split(`
`).map(function(ne){return"  "+ne}).join(`
`).substr(2):Z=`
`+Z.split(`
`).map(function(ne){return"   "+ne}).join(`
`))):Z=R.stylize("[Circular]","special")),O(X)){if(G&&U.match(/^\d+$/))return Z;X=JSON.stringify(""+U),X.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(X=X.substr(1,X.length-2),X=R.stylize(X,"name")):(X=X.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),X=R.stylize(X,"string"))}return X+": "+Z}function p(R,j,I){var H=R.reduce(function(U,G){return G.indexOf(`
`)>=0,U+G.replace(/\u001b\[\d\d?m/g,"").length+1},0);return H>60?I[0]+(j===""?"":j+`
 `)+" "+R.join(`,
  `)+" "+I[1]:I[0]+j+" "+R.join(", ")+" "+I[1]}function m(R){return Array.isArray(R)}i.isArray=m;function g(R){return typeof R=="boolean"}i.isBoolean=g;function _(R){return R===null}i.isNull=_;function C(R){return R==null}i.isNullOrUndefined=C;function E(R){return typeof R=="number"}i.isNumber=E;function k(R){return typeof R=="string"}i.isString=k;function T(R){return typeof R=="symbol"}i.isSymbol=T;function O(R){return R===void 0}i.isUndefined=O;function M(R){return F(R)&&D(R)==="[object RegExp]"}i.isRegExp=M;function F(R){return typeof R=="object"&&R!==null}i.isObject=F;function N(R){return F(R)&&D(R)==="[object Date]"}i.isDate=N;function P(R){return F(R)&&(D(R)==="[object Error]"||R instanceof Error)}i.isError=P;function B(R){return typeof R=="function"}i.isFunction=B;function z(R){return R===null||typeof R=="boolean"||typeof R=="number"||typeof R=="string"||typeof R=="symbol"||typeof R>"u"}i.isPrimitive=z,i.isBuffer=s(40);function D(R){return Object.prototype.toString.call(R)}function $(R){return R<10?"0"+R.toString(10):R.toString(10)}var q=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function V(){var R=new Date,j=[$(R.getHours()),$(R.getMinutes()),$(R.getSeconds())].join(":");return[R.getDate(),q[R.getMonth()],j].join(" ")}i.log=function(){console.log("%s - %s",V(),i.format.apply(i,arguments))},i.inherits=s(39),i._extend=function(R,j){if(!j||!F(j))return R;for(var I=Object.keys(j),H=I.length;H--;)R[I[H]]=j[I[H]];return R};function K(R,j){return Object.prototype.hasOwnProperty.call(R,j)}}).call(i,s(5),s(7))},function(n,i,s){(function(r){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function a(N,P){if(N===P)return 0;for(var B=N.length,z=P.length,D=0,$=Math.min(B,z);D<$;++D)if(N[D]!==P[D]){B=N[D],z=P[D];break}return B<z?-1:z<B?1:0}function l(N){return r.Buffer&&typeof r.Buffer.isBuffer=="function"?r.Buffer.isBuffer(N):!!(N!=null&&N._isBuffer)}var o=s(16),d=Object.prototype.hasOwnProperty,f=Array.prototype.slice,y=function(){return function(){}.name==="foo"}();function b(N){return Object.prototype.toString.call(N)}function w(N){return l(N)||typeof r.ArrayBuffer!="function"?!1:typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(N):N?!!(N instanceof DataView||N.buffer&&N.buffer instanceof ArrayBuffer):!1}var v=n.exports=g,x=/\s*function\s+([^\(\s]*)\s*/;function c(N){if(o.isFunction(N)){if(y)return N.name;var P=N.toString(),B=P.match(x);return B&&B[1]}}v.AssertionError=function(P){this.name="AssertionError",this.actual=P.actual,this.expected=P.expected,this.operator=P.operator,P.message?(this.message=P.message,this.generatedMessage=!1):(this.message=p(this),this.generatedMessage=!0);var B=P.stackStartFunction||m;if(Error.captureStackTrace)Error.captureStackTrace(this,B);else{var z=new Error;if(z.stack){var D=z.stack,$=c(B),q=D.indexOf(`
`+$);if(q>=0){var V=D.indexOf(`
`,q+1);D=D.substring(V+1)}this.stack=D}}},o.inherits(v.AssertionError,Error);function u(N,P){return typeof N=="string"?N.length<P?N:N.slice(0,P):N}function h(N){if(y||!o.isFunction(N))return o.inspect(N);var P=c(N),B=P?": "+P:"";return"[Function"+B+"]"}function p(N){return u(h(N.actual),128)+" "+N.operator+" "+u(h(N.expected),128)}function m(N,P,B,z,D){throw new v.AssertionError({message:B,actual:N,expected:P,operator:z,stackStartFunction:D})}v.fail=m;function g(N,P){N||m(N,!0,P,"==",v.ok)}v.ok=g,v.equal=function(P,B,z){P!=B&&m(P,B,z,"==",v.equal)},v.notEqual=function(P,B,z){P==B&&m(P,B,z,"!=",v.notEqual)},v.deepEqual=function(P,B,z){_(P,B,!1)||m(P,B,z,"deepEqual",v.deepEqual)},v.deepStrictEqual=function(P,B,z){_(P,B,!0)||m(P,B,z,"deepStrictEqual",v.deepStrictEqual)};function _(N,P,B,z){if(N===P)return!0;if(l(N)&&l(P))return a(N,P)===0;if(o.isDate(N)&&o.isDate(P))return N.getTime()===P.getTime();if(o.isRegExp(N)&&o.isRegExp(P))return N.source===P.source&&N.global===P.global&&N.multiline===P.multiline&&N.lastIndex===P.lastIndex&&N.ignoreCase===P.ignoreCase;if((N===null||typeof N!="object")&&(P===null||typeof P!="object"))return B?N===P:N==P;if(w(N)&&w(P)&&b(N)===b(P)&&!(N instanceof Float32Array||N instanceof Float64Array))return a(new Uint8Array(N.buffer),new Uint8Array(P.buffer))===0;if(l(N)!==l(P))return!1;z=z||{actual:[],expected:[]};var D=z.actual.indexOf(N);return D!==-1&&D===z.expected.indexOf(P)?!0:(z.actual.push(N),z.expected.push(P),E(N,P,B,z))}function C(N){return Object.prototype.toString.call(N)=="[object Arguments]"}function E(N,P,B,z){if(N==null||P===null||P===void 0)return!1;if(o.isPrimitive(N)||o.isPrimitive(P))return N===P;if(B&&Object.getPrototypeOf(N)!==Object.getPrototypeOf(P))return!1;var D=C(N),$=C(P);if(D&&!$||!D&&$)return!1;if(D)return N=f.call(N),P=f.call(P),_(N,P,B);var q=F(N),V=F(P),K,R;if(q.length!==V.length)return!1;for(q.sort(),V.sort(),R=q.length-1;R>=0;R--)if(q[R]!==V[R])return!1;for(R=q.length-1;R>=0;R--)if(K=q[R],!_(N[K],P[K],B,z))return!1;return!0}v.notDeepEqual=function(P,B,z){_(P,B,!1)&&m(P,B,z,"notDeepEqual",v.notDeepEqual)},v.notDeepStrictEqual=k;function k(N,P,B){_(N,P,!0)&&m(N,P,B,"notDeepStrictEqual",k)}v.strictEqual=function(P,B,z){P!==B&&m(P,B,z,"===",v.strictEqual)},v.notStrictEqual=function(P,B,z){P===B&&m(P,B,z,"!==",v.notStrictEqual)};function T(N,P){if(!N||!P)return!1;if(Object.prototype.toString.call(P)=="[object RegExp]")return P.test(N);try{if(N instanceof P)return!0}catch{}return Error.isPrototypeOf(P)?!1:P.call({},N)===!0}function O(N){var P;try{N()}catch(B){P=B}return P}function M(N,P,B,z){var D;if(typeof P!="function")throw new TypeError('"block" argument must be a function');typeof B=="string"&&(z=B,B=null),D=O(P),z=(B&&B.name?" ("+B.name+").":".")+(z?" "+z:"."),N&&!D&&m(D,B,"Missing expected exception"+z);var $=typeof z=="string",q=!N&&o.isError(D),V=!N&&D&&!B;if((q&&$&&T(D,B)||V)&&m(D,B,"Got unwanted exception"+z),N&&D&&B&&!T(D,B)||!N&&D)throw D}v.throws=function(N,P,B){M(!0,N,P,B)},v.doesNotThrow=function(N,P,B){M(!1,N,P,B)},v.ifError=function(N){if(N)throw N};var F=Object.keys||function(N){var P=[];for(var B in N)d.call(N,B)&&P.push(B);return P}}).call(i,s(5))},function(n,i,s){(function(r){var a={};i.escapeJavaScript=function(l){if(!l)return"";for(var o="",d=0;d<l.length;++d){var f=l.charCodeAt(d);a.isSafe(f)?o+=l[d]:o+=a.escapeJavaScriptChar(f)}return o},i.escapeHtml=function(l){if(!l)return"";for(var o="",d=0;d<l.length;++d){var f=l.charCodeAt(d);a.isSafe(f)?o+=l[d]:o+=a.escapeHtmlChar(f)}return o},i.escapeJson=function(l){if(!l)return"";var o=60,d=62,f=38,y=8232,b=void 0;return l.replace(/[<>&\u2028\u2029]/g,function(w){return b=w.charCodeAt(0),b===o?"\\u003c":b===d?"\\u003e":b===f?"\\u0026":b===y?"\\u2028":"\\u2029"})},a.escapeJavaScriptChar=function(l){if(l>=256)return"\\u"+a.padLeft(""+l,4);var o=r.from(String.fromCharCode(l),"ascii").toString("hex");return"\\x"+a.padLeft(o,2)},a.escapeHtmlChar=function(l){var o=a.namedHtml[l];if(typeof o<"u")return o;if(l>=256)return"&#"+l+";";var d=r.from(String.fromCharCode(l),"ascii").toString("hex");return"&#x"+a.padLeft(d,2)+";"},a.padLeft=function(l,o){for(;l.length<o;)l="0"+l;return l},a.isSafe=function(l){return typeof a.safeCharCodes[l]<"u"},a.namedHtml={38:"&amp;",60:"&lt;",62:"&gt;",34:"&quot;",160:"&nbsp;",162:"&cent;",163:"&pound;",164:"&curren;",169:"&copy;",174:"&reg;"},a.safeCharCodes=function(){for(var l={},o=32;o<123;++o)(o>=97||o>=65&&o<=90||o>=48&&o<=57||o===32||o===46||o===44||o===45||o===58||o===95)&&(l[o]=null);return l}()}).call(i,s(3).Buffer)},function(n,i,s){(function(r){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},l=s(38),o={hasOwn:Object.prototype.hasOwnProperty,indexOf:Array.prototype.indexOf,defaultThreshold:16,maxIPv6Groups:8,categories:{valid:1,dnsWarn:7,rfc5321:15,cfws:31,deprecated:63,rfc5322:127,error:255},diagnoses:{valid:0,rfc5321TLD:9,rfc5321TLDNumeric:10,rfc5321QuotedString:11,rfc5321AddressLiteral:12,cfwsComment:17,cfwsFWS:18,undesiredNonAscii:25,deprecatedLocalPart:33,deprecatedFWS:34,deprecatedQTEXT:35,deprecatedQP:36,deprecatedComment:37,deprecatedCTEXT:38,deprecatedIPv6:39,deprecatedCFWSNearAt:49,rfc5322Domain:65,rfc5322TooLong:66,rfc5322LocalTooLong:67,rfc5322DomainTooLong:68,rfc5322LabelTooLong:69,rfc5322DomainLiteral:70,rfc5322DomainLiteralOBSDText:71,rfc5322IPv6GroupCount:72,rfc5322IPv62x2xColon:73,rfc5322IPv6BadCharacter:74,rfc5322IPv6MaxGroups:75,rfc5322IPv6ColonStart:76,rfc5322IPv6ColonEnd:77,errExpectingDTEXT:129,errNoLocalPart:130,errNoDomain:131,errConsecutiveDots:132,errATEXTAfterCFWS:133,errATEXTAfterQS:134,errATEXTAfterDomainLiteral:135,errExpectingQPair:136,errExpectingATEXT:137,errExpectingQTEXT:138,errExpectingCTEXT:139,errBackslashEnd:140,errDotStart:141,errDotEnd:142,errDomainHyphenStart:143,errDomainHyphenEnd:144,errUnclosedQuotedString:145,errUnclosedComment:146,errUnclosedDomainLiteral:147,errFWSCRLFx2:148,errFWSCRLFEnd:149,errCRNoLF:150,errUnknownTLD:160,errDomainTooShort:161},components:{localpart:0,domain:1,literal:2,contextComment:3,contextFWS:4,contextQuotedString:5,contextQuotedPair:6}};o.specials=function(){var d='()<>[]:;@\\,."',f=new Array(256);f.fill(!1);for(var y=0;y<d.length;++y)f[d.codePointAt(y)]=!0;return function(b){return f[b]}}(),o.c0Controls=function(){var d=new Array(256);d.fill(!1);for(var f=0;f<33;++f)d[f]=!0;return function(y){return d[y]}}(),o.c1Controls=function(){var d=new Array(256);d.fill(!1);for(var f=127;f<160;++f)d[f]=!0;return function(y){return d[y]}}(),o.regex={ipV4:/\b(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipV6:/^[a-fA-F\d]{0,4}$/},o.normalizeSupportsNul="\0".normalize("NFC")==="\0",o.nulNormalize=function(d){return d.split("\0").map(function(f){return f.normalize("NFC")}).join("\0")},o.normalize=function(d){return!o.normalizeSupportsNul&&d.indexOf("\0")>=0?o.nulNormalize(d):d.normalize("NFC")},o.checkIpV6=function(d){return d.every(function(f){return o.regex.ipV6.test(f)})},o.validDomain=function(d,f){return f.tldBlacklist?Array.isArray(f.tldBlacklist)?o.indexOf.call(f.tldBlacklist,d)===-1:!o.hasOwn.call(f.tldBlacklist,d):Array.isArray(f.tldWhitelist)?o.indexOf.call(f.tldWhitelist,d)!==-1:o.hasOwn.call(f.tldWhitelist,d)},i.validate=o.validate=function(d,f,y){f=f||{},d=o.normalize(d),typeof f=="function"&&(y=f,f={}),typeof y!="function"&&(y=null);var b=void 0,w=void 0;if(typeof f.errorLevel=="number"?(b=!0,w=f.errorLevel):(b=!!f.errorLevel,w=o.diagnoses.valid),f.tldWhitelist){if(typeof f.tldWhitelist=="string")f.tldWhitelist=[f.tldWhitelist];else if(a(f.tldWhitelist)!=="object")throw new TypeError("expected array or object tldWhitelist")}if(f.tldBlacklist){if(typeof f.tldBlacklist=="string")f.tldBlacklist=[f.tldBlacklist];else if(a(f.tldBlacklist)!=="object")throw new TypeError("expected array or object tldBlacklist")}if(f.minDomainAtoms&&(f.minDomainAtoms!==(+f.minDomainAtoms|0)||f.minDomainAtoms<0))throw new TypeError("expected positive integer minDomainAtoms");var v=o.diagnoses.valid,x=function(U){U>v&&(v=U)},c=f.allowUnicode===void 0||!!f.allowUnicode;!c&&/[^\x00-\x7f]/.test(d)&&x(o.diagnoses.undesiredNonAscii);for(var u={now:o.components.localpart,prev:o.components.localpart,stack:[o.components.localpart]},h="",p={local:"",domain:""},m={locals:[""],domains:[""]},g=0,_=0,C=0,E=void 0,k=!1,T=!1,O=d.length,M=void 0,F=0;F<O;F+=M.length){switch(M=String.fromCodePoint(d.codePointAt(F)),u.now){case o.components.localpart:switch(M){case"(":_===0?x(g===0?o.diagnoses.cfwsComment:o.diagnoses.deprecatedComment):(x(o.diagnoses.cfwsComment),T=!0),u.stack.push(u.now),u.now=o.components.contextComment;break;case".":_===0?x(g===0?o.diagnoses.errDotStart:o.diagnoses.errConsecutiveDots):(T&&x(o.diagnoses.deprecatedLocalPart),T=!1,_=0,++g,p.local+=M,m.locals[g]="");break;case'"':_===0?(x(g===0?o.diagnoses.rfc5321QuotedString:o.diagnoses.deprecatedLocalPart),p.local+=M,m.locals[g]+=M,_+=r.byteLength(M,"utf8"),T=!0,u.stack.push(u.now),u.now=o.components.contextQuotedString):x(o.diagnoses.errExpectingATEXT);break;case"\r":if(O===++F||d[F]!==`
`){x(o.diagnoses.errCRNoLF);break}case" ":case"	":_===0?x(g===0?o.diagnoses.cfwsFWS:o.diagnoses.deprecatedFWS):T=!0,u.stack.push(u.now),u.now=o.components.contextFWS,h=M;break;case"@":if(u.stack.length!==1)throw new Error("unexpected item on context stack");p.local.length===0?x(o.diagnoses.errNoLocalPart):_===0?x(o.diagnoses.errDotEnd):r.byteLength(p.local,"utf8")>64?x(o.diagnoses.rfc5322LocalTooLong):(u.prev===o.components.contextComment||u.prev===o.components.contextFWS)&&x(o.diagnoses.deprecatedCFWSNearAt),u.now=o.components.domain,u.stack[0]=o.components.domain,g=0,_=0,T=!1;break;default:if(T)switch(u.prev){case o.components.contextComment:case o.components.contextFWS:x(o.diagnoses.errATEXTAfterCFWS);break;case o.components.contextQuotedString:x(o.diagnoses.errATEXTAfterQS);break;default:throw new Error("more atext found where none is allowed, but unrecognized prev context: "+u.prev)}else u.prev=u.now,E=M.codePointAt(0),(o.specials(E)||o.c0Controls(E)||o.c1Controls(E))&&x(o.diagnoses.errExpectingATEXT),p.local+=M,m.locals[g]+=M,_+=r.byteLength(M,"utf8")}break;case o.components.domain:switch(M){case"(":_===0?x(g===0?o.diagnoses.deprecatedCFWSNearAt:o.diagnoses.deprecatedComment):(T=!0,x(o.diagnoses.cfwsComment)),u.stack.push(u.now),u.now=o.components.contextComment;break;case".":var N=l.encode(m.domains[g]).length;_===0?x(g===0?o.diagnoses.errDotStart:o.diagnoses.errConsecutiveDots):k?x(o.diagnoses.errDomainHyphenEnd):N>63&&x(o.diagnoses.rfc5322LabelTooLong),T=!1,_=0,++g,m.domains[g]="",p.domain+=M;break;case"[":p.domain.length===0?(T=!0,_+=r.byteLength(M,"utf8"),u.stack.push(u.now),u.now=o.components.literal,p.domain+=M,m.domains[g]+=M,p.literal=""):x(o.diagnoses.errExpectingATEXT);break;case"\r":if(O===++F||d[F]!==`
`){x(o.diagnoses.errCRNoLF);break}case" ":case"	":_===0?x(g===0?o.diagnoses.deprecatedCFWSNearAt:o.diagnoses.deprecatedFWS):(x(o.diagnoses.cfwsFWS),T=!0),u.stack.push(u.now),u.now=o.components.contextFWS,h=M;break;default:if(T)switch(u.prev){case o.components.contextComment:case o.components.contextFWS:x(o.diagnoses.errATEXTAfterCFWS);break;case o.components.literal:x(o.diagnoses.errATEXTAfterDomainLiteral);break;default:throw new Error("more atext found where none is allowed, but unrecognized prev context: "+u.prev)}E=M.codePointAt(0),k=!1,o.specials(E)||o.c0Controls(E)||o.c1Controls(E)?x(o.diagnoses.errExpectingATEXT):M==="-"?(_===0&&x(o.diagnoses.errDomainHyphenStart),k=!0):(E<48||E>122&&E<192||E>57&&E<65||E>90&&E<97)&&x(o.diagnoses.rfc5322Domain),p.domain+=M,m.domains[g]+=M,_+=r.byteLength(M,"utf8")}break;case o.components.literal:switch(M){case"]":if(v<o.categories.deprecated){var P=-1,B=p.literal,z=o.regex.ipV4.exec(B);if(z&&(P=z.index,P!==0&&(B=B.slice(0,P)+"0:0")),P===0)x(o.diagnoses.rfc5321AddressLiteral);else if(B.slice(0,5).toLowerCase()!=="ipv6:")x(o.diagnoses.rfc5322DomainLiteral);else{var D=B.slice(5),$=o.maxIPv6Groups,q=D.split(":");P=D.indexOf("::"),~P?P!==D.lastIndexOf("::")?x(o.diagnoses.rfc5322IPv62x2xColon):((P===0||P===D.length-2)&&++$,q.length>$?x(o.diagnoses.rfc5322IPv6MaxGroups):q.length===$&&x(o.diagnoses.deprecatedIPv6)):q.length!==$&&x(o.diagnoses.rfc5322IPv6GroupCount),D[0]===":"&&D[1]!==":"?x(o.diagnoses.rfc5322IPv6ColonStart):D[D.length-1]===":"&&D[D.length-2]!==":"?x(o.diagnoses.rfc5322IPv6ColonEnd):o.checkIpV6(q)?x(o.diagnoses.rfc5321AddressLiteral):x(o.diagnoses.rfc5322IPv6BadCharacter)}}else x(o.diagnoses.rfc5322DomainLiteral);p.domain+=M,m.domains[g]+=M,_+=r.byteLength(M,"utf8"),u.prev=u.now,u.now=u.stack.pop();break;case"\\":x(o.diagnoses.rfc5322DomainLiteralOBSDText),u.stack.push(u.now),u.now=o.components.contextQuotedPair;break;case"\r":if(O===++F||d[F]!==`
`){x(o.diagnoses.errCRNoLF);break}case" ":case"	":x(o.diagnoses.cfwsFWS),u.stack.push(u.now),u.now=o.components.contextFWS,h=M;break;default:if(E=M.codePointAt(0),E!==127&&o.c1Controls(E)||E===0||M==="["){x(o.diagnoses.errExpectingDTEXT);break}else(o.c0Controls(E)||E===127)&&x(o.diagnoses.rfc5322DomainLiteralOBSDText);p.literal+=M,p.domain+=M,m.domains[g]+=M,_+=r.byteLength(M,"utf8")}break;case o.components.contextQuotedString:switch(M){case"\\":u.stack.push(u.now),u.now=o.components.contextQuotedPair;break;case"\r":if(O===++F||d[F]!==`
`){x(o.diagnoses.errCRNoLF);break}case"	":p.local+=" ",m.locals[g]+=" ",_+=r.byteLength(M,"utf8"),x(o.diagnoses.cfwsFWS),u.stack.push(u.now),u.now=o.components.contextFWS,h=M;break;case'"':p.local+=M,m.locals[g]+=M,_+=r.byteLength(M,"utf8"),u.prev=u.now,u.now=u.stack.pop();break;default:E=M.codePointAt(0),E!==127&&o.c1Controls(E)||E===0||E===10?x(o.diagnoses.errExpectingQTEXT):(o.c0Controls(E)||E===127)&&x(o.diagnoses.deprecatedQTEXT),p.local+=M,m.locals[g]+=M,_+=r.byteLength(M,"utf8")}break;case o.components.contextQuotedPair:E=M.codePointAt(0),E!==127&&o.c1Controls(E)?x(o.diagnoses.errExpectingQPair):(E<31&&E!==9||E===127)&&x(o.diagnoses.deprecatedQP),u.prev=u.now,u.now=u.stack.pop();var V="\\"+M;switch(u.now){case o.components.contextComment:break;case o.components.contextQuotedString:p.local+=V,m.locals[g]+=V,_+=2;break;case o.components.literal:p.domain+=V,m.domains[g]+=V,_+=2;break;default:throw new Error("quoted pair logic invoked in an invalid context: "+u.now)}break;case o.components.contextComment:switch(M){case"(":u.stack.push(u.now),u.now=o.components.contextComment;break;case")":u.prev=u.now,u.now=u.stack.pop();break;case"\\":u.stack.push(u.now),u.now=o.components.contextQuotedPair;break;case"\r":if(O===++F||d[F]!==`
`){x(o.diagnoses.errCRNoLF);break}case" ":case"	":x(o.diagnoses.cfwsFWS),u.stack.push(u.now),u.now=o.components.contextFWS,h=M;break;default:if(E=M.codePointAt(0),E===0||E===10||E!==127&&o.c1Controls(E)){x(o.diagnoses.errExpectingCTEXT);break}else(o.c0Controls(E)||E===127)&&x(o.diagnoses.deprecatedCTEXT)}break;case o.components.contextFWS:if(h==="\r"){if(M==="\r"){x(o.diagnoses.errFWSCRLFx2);break}++C>1?x(o.diagnoses.deprecatedFWS):C=1}switch(M){case"\r":(O===++F||d[F]!==`
`)&&x(o.diagnoses.errCRNoLF);break;case" ":case"	":break;default:h==="\r"&&x(o.diagnoses.errFWSCRLFEnd),C=0,u.prev=u.now,u.now=u.stack.pop(),--F}h=M;break;default:throw new Error("unknown context: "+u.now)}if(v>o.categories.rfc5322)break}if(v<o.categories.rfc5322){var K=l.encode(p.domain).length;if(u.now===o.components.contextQuotedString)x(o.diagnoses.errUnclosedQuotedString);else if(u.now===o.components.contextQuotedPair)x(o.diagnoses.errBackslashEnd);else if(u.now===o.components.contextComment)x(o.diagnoses.errUnclosedComment);else if(u.now===o.components.literal)x(o.diagnoses.errUnclosedDomainLiteral);else if(M==="\r")x(o.diagnoses.errFWSCRLFEnd);else if(p.domain.length===0)x(o.diagnoses.errNoDomain);else if(_===0)x(o.diagnoses.errDotEnd);else if(k)x(o.diagnoses.errDomainHyphenEnd);else if(K>255)x(o.diagnoses.rfc5322DomainTooLong);else if(r.byteLength(p.local,"utf8")+K+1>254)x(o.diagnoses.rfc5322TooLong);else if(_>63)x(o.diagnoses.rfc5322LabelTooLong);else if(f.minDomainAtoms&&m.domains.length<f.minDomainAtoms)x(o.diagnoses.errDomainTooShort);else if(f.tldWhitelist||f.tldBlacklist){var R=m.domains[g];o.validDomain(R,f)||x(o.diagnoses.errUnknownTLD)}}if(v<o.categories.dnsWarn){var j=m.domains[g].codePointAt(0);j<=57&&x(o.diagnoses.rfc5321TLDNumeric)}v<w&&(v=o.diagnoses.valid);var I=b?v:v<o.defaultThreshold;return y&&y(I),I},i.diagnoses=o.validate.diagnoses=function(){for(var d={},f=Object.keys(o.diagnoses),y=0;y<f.length;++y){var b=f[y];d[b]=o.diagnoses[b]}return d}(),i.normalize=o.normalize}).call(i,s(3).Buffer)},function(n,i,s){i.errors={root:"value",key:'"{{!label}}" ',messages:{wrapArrays:!0},any:{unknown:"is not allowed",invalid:"contains an invalid value",empty:"is not allowed to be empty",required:"is required",allowOnly:"must be one of {{valids}}",default:"threw an error when running default method"},alternatives:{base:"not matching any of the allowed alternatives",child:null},array:{base:"must be an array",includes:"at position {{pos}} does not match any of the allowed types",includesSingle:'single value of "{{!label}}" does not match any of the allowed types',includesOne:"at position {{pos}} fails because {{reason}}",includesOneSingle:'single value of "{{!label}}" fails because {{reason}}',includesRequiredUnknowns:"does not contain {{unknownMisses}} required value(s)",includesRequiredKnowns:"does not contain {{knownMisses}}",includesRequiredBoth:"does not contain {{knownMisses}} and {{unknownMisses}} other required value(s)",excludes:"at position {{pos}} contains an excluded value",excludesSingle:'single value of "{{!label}}" contains an excluded value',min:"must contain at least {{limit}} items",max:"must contain less than or equal to {{limit}} items",length:"must contain {{limit}} items",ordered:"at position {{pos}} fails because {{reason}}",orderedLength:"at position {{pos}} fails because array must contain at most {{limit}} items",ref:'references "{{ref}}" which is not a positive integer',sparse:"must not be a sparse array",unique:"position {{pos}} contains a duplicate value"},boolean:{base:"must be a boolean"},binary:{base:"must be a buffer or a string",min:"must be at least {{limit}} bytes",max:"must be less than or equal to {{limit}} bytes",length:"must be {{limit}} bytes"},date:{base:"must be a number of milliseconds or valid date string",format:"must be a string with one of the following formats {{format}}",strict:"must be a valid date",min:'must be larger than or equal to "{{limit}}"',max:'must be less than or equal to "{{limit}}"',less:'must be less than "{{limit}}"',greater:'must be greater than "{{limit}}"',isoDate:"must be a valid ISO 8601 date",timestamp:{javascript:"must be a valid timestamp or number of milliseconds",unix:"must be a valid timestamp or number of seconds"},ref:'references "{{ref}}" which is not a date'},function:{base:"must be a Function",arity:"must have an arity of {{n}}",minArity:"must have an arity greater or equal to {{n}}",maxArity:"must have an arity lesser or equal to {{n}}",ref:"must be a Joi reference",class:"must be a class"},lazy:{base:"!!schema error: lazy schema must be set",schema:"!!schema error: lazy schema function must return a schema"},object:{base:"must be an object",child:'!!child "{{!child}}" fails because {{reason}}',min:"must have at least {{limit}} children",max:"must have less than or equal to {{limit}} children",length:"must have {{limit}} children",allowUnknown:'!!"{{!child}}" is not allowed',with:'!!"{{mainWithLabel}}" missing required peer "{{peerWithLabel}}"',without:'!!"{{mainWithLabel}}" conflict with forbidden peer "{{peerWithLabel}}"',missing:"must contain at least one of {{peersWithLabels}}",xor:"contains a conflict between exclusive peers {{peersWithLabels}}",or:"must contain at least one of {{peersWithLabels}}",and:"contains {{presentWithLabels}} without its required peers {{missingWithLabels}}",nand:'!!"{{mainWithLabel}}" must not exist simultaneously with {{peersWithLabels}}',assert:'!!"{{ref}}" validation failed because "{{ref}}" failed to {{message}}',rename:{multiple:'cannot rename child "{{from}}" because multiple renames are disabled and another key was already renamed to "{{to}}"',override:'cannot rename child "{{from}}" because override is disabled and target "{{to}}" exists',regex:{multiple:'cannot rename children {{from}} because multiple renames are disabled and another key was already renamed to "{{to}}"',override:'cannot rename children {{from}} because override is disabled and target "{{to}}" exists'}},type:'must be an instance of "{{type}}"',schema:"must be a Joi instance"},number:{base:"must be a number",min:"must be larger than or equal to {{limit}}",max:"must be less than or equal to {{limit}}",less:"must be less than {{limit}}",greater:"must be greater than {{limit}}",float:"must be a float or double",integer:"must be an integer",negative:"must be a negative number",positive:"must be a positive number",precision:"must have no more than {{limit}} decimal places",ref:'references "{{ref}}" which is not a number',multiple:"must be a multiple of {{multiple}}",port:"must be a valid port"},string:{base:"must be a string",min:"length must be at least {{limit}} characters long",max:"length must be less than or equal to {{limit}} characters long",length:"length must be {{limit}} characters long",alphanum:"must only contain alpha-numeric characters",token:"must only contain alpha-numeric and underscore characters",regex:{base:'with value "{{!value}}" fails to match the required pattern: {{pattern}}',name:'with value "{{!value}}" fails to match the {{name}} pattern',invert:{base:'with value "{{!value}}" matches the inverted pattern: {{pattern}}',name:'with value "{{!value}}" matches the inverted {{name}} pattern'}},email:"must be a valid email",uri:"must be a valid uri",uriRelativeOnly:"must be a valid relative uri",uriCustomScheme:"must be a valid uri with a scheme matching the {{scheme}} pattern",isoDate:"must be a valid ISO 8601 date",guid:"must be a valid GUID",hex:"must only contain hexadecimal characters",hexAlign:"hex decoded representation must be byte aligned",base64:"must be a valid base64 string",hostname:"must be a valid hostname",normalize:"must be unicode normalized in the {{form}} form",lowercase:"must only contain lowercase characters",uppercase:"must only contain uppercase characters",trim:"must not have leading or trailing whitespace",creditCard:"must be a credit card",ref:'references "{{ref}}" which is not a number',ip:"must be a valid ip address with a {{cidr}} CIDR",ipVersion:"must be a valid ip address of one of the following versions {{version}} with a {{cidr}} CIDR"}}},function(n,i,s){var r=s(8);i.options=r.object({abortEarly:r.boolean(),convert:r.boolean(),allowUnknown:r.boolean(),skipFunctions:r.boolean(),stripUnknown:[r.boolean(),r.object({arrays:r.boolean(),objects:r.boolean()}).or("arrays","objects")],language:r.object(),presence:r.string().only("required","optional","forbidden","ignore"),raw:r.boolean(),context:r.object(),strip:r.boolean(),noDefaults:r.boolean(),escapeHtml:r.boolean()}).strict()},function(n,i,s){var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x};function a(x,c){for(var u=Object.getOwnPropertyNames(c),h=0;h<u.length;h++){var p=u[h],m=Object.getOwnPropertyDescriptor(c,p);m&&m.configurable&&x[p]===void 0&&Object.defineProperty(x,p,m)}return x}function l(x,c){if(!(x instanceof c))throw new TypeError("Cannot call a class as a function")}function o(x,c){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:x}function d(x,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);x.prototype=Object.create(c&&c.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(x,c):a(x,c))}var f=s(2),y=s(4),b=s(1),w=s(0),v={};v.fastSplice=function(x,c){for(var u=c;u<x.length;)x[u++]=x[u];--x.length},v.Array=function(x){d(c,x);function c(){l(this,c);var u=o(this,x.call(this));return u._type="array",u._inner.items=[],u._inner.ordereds=[],u._inner.inclusions=[],u._inner.exclusions=[],u._inner.requireds=[],u._flags.sparse=!1,u}return c.prototype._base=function(h,p,m){var g={value:h};typeof h=="string"&&m.convert&&v.safeParse(h,g);var _=Array.isArray(g.value),C=_;if(m.convert&&this._flags.single&&!_&&(g.value=[g.value],_=!0),!_)return g.errors=this.createError("array.base",null,p,m),g;if((this._inner.inclusions.length||this._inner.exclusions.length||this._inner.requireds.length||this._inner.ordereds.length||!this._flags.sparse)&&(C&&(g.value=g.value.slice(0)),g.errors=this._checkItems.call(this,g.value,C,p,m),g.errors&&C&&m.convert&&this._flags.single)){var E=g.errors;g.value=[g.value],g.errors=this._checkItems.call(this,g.value,C,p,m),g.errors&&(g.errors=E,g.value=g.value[0])}return g},c.prototype._checkItems=function(h,p,m,g){for(var _=[],C=void 0,E=this._inner.requireds.slice(),k=this._inner.ordereds.slice(),T=this._inner.inclusions.concat(E),O=h.length,M=0;M<O;++M){C=!1;var F=h[M],N=!1,P=p?M:m.key,B=p?m.path.concat(M):m.path,z={key:P,path:B,parent:m.parent,reference:m.reference},D=void 0;if(!this._flags.sparse&&F===void 0){if(_.push(this.createError("array.sparse",null,{key:m.key,path:z.path,pos:M},g)),g.abortEarly)return _;k.shift();continue}for(var $=0;$<this._inner.exclusions.length;++$)if(D=this._inner.exclusions[$]._validate(F,z,{}),!D.errors){if(_.push(this.createError(p?"array.excludes":"array.excludesSingle",{pos:M,value:F},{key:m.key,path:z.path},g)),C=!0,g.abortEarly)return _;k.shift();break}if(!C){if(this._inner.ordereds.length){if(k.length>0){var q=k.shift();if(D=q._validate(F,z,g),D.errors){if(_.push(this.createError("array.ordered",{pos:M,reason:D.errors,value:F},{key:m.key,path:z.path},g)),g.abortEarly)return _}else if(q._flags.strip)v.fastSplice(h,M),--M,--O;else if(!this._flags.sparse&&D.value===void 0){if(_.push(this.createError("array.sparse",null,{key:m.key,path:z.path,pos:M},g)),g.abortEarly)return _;continue}else h[M]=D.value;continue}else if(!this._inner.items.length){if(_.push(this.createError("array.orderedLength",{pos:M,limit:this._inner.ordereds.length},{key:m.key,path:z.path},g)),g.abortEarly)return _;continue}}for(var V=[],K=E.length,R=0;R<K;++R)if(D=V[R]=E[R]._validate(F,z,g),!D.errors){if(h[M]=D.value,N=!0,v.fastSplice(E,R),--R,--K,!this._flags.sparse&&D.value===void 0&&(_.push(this.createError("array.sparse",null,{key:m.key,path:z.path,pos:M},g)),g.abortEarly))return _;break}if(!N){var j=g.stripUnknown?g.stripUnknown===!0?!0:!!g.stripUnknown.arrays:!1;K=T.length;for(var I=0;I<K;++I){var H=T[I],U=E.indexOf(H);if(U!==-1)D=V[U];else if(D=H._validate(F,z,g),!D.errors){H._flags.strip?(v.fastSplice(h,M),--M,--O):!this._flags.sparse&&D.value===void 0?(_.push(this.createError("array.sparse",null,{key:m.key,path:z.path,pos:M},g)),C=!0):h[M]=D.value,N=!0;break}if(K===1){if(j){v.fastSplice(h,M),--M,--O,N=!0;break}if(_.push(this.createError(p?"array.includesOne":"array.includesOneSingle",{pos:M,reason:D.errors,value:F},{key:m.key,path:z.path},g)),C=!0,g.abortEarly)return _;break}}if(!C&&this._inner.inclusions.length&&!N){if(j){v.fastSplice(h,M),--M,--O;continue}if(_.push(this.createError(p?"array.includes":"array.includesSingle",{pos:M,value:F},{key:m.key,path:z.path},g)),g.abortEarly)return _}}}}return E.length&&this._fillMissedErrors.call(this,_,E,m,g),k.length&&this._fillOrderedErrors.call(this,_,k,m,g),_.length?_:null},c.prototype.describe=function(){var h=f.prototype.describe.call(this);if(this._inner.ordereds.length){h.orderedItems=[];for(var p=0;p<this._inner.ordereds.length;++p)h.orderedItems.push(this._inner.ordereds[p].describe())}if(this._inner.items.length){h.items=[];for(var m=0;m<this._inner.items.length;++m)h.items.push(this._inner.items[m].describe())}return h},c.prototype.items=function(){for(var h=this,p=this.clone(),m=arguments.length,g=Array(m),_=0;_<m;_++)g[_]=arguments[_];return w.flatten(g).forEach(function(C,E){try{C=y.schema(h._currentJoi,C)}catch(k){throw k.hasOwnProperty("path")?k.path=E+"."+k.path:k.path=E,k.message=k.message+"("+k.path+")",k}p._inner.items.push(C),C._flags.presence==="required"?p._inner.requireds.push(C):C._flags.presence==="forbidden"?p._inner.exclusions.push(C.optional()):p._inner.inclusions.push(C)}),p},c.prototype.ordered=function(){for(var h=this,p=this.clone(),m=arguments.length,g=Array(m),_=0;_<m;_++)g[_]=arguments[_];return w.flatten(g).forEach(function(C,E){try{C=y.schema(h._currentJoi,C)}catch(k){throw k.hasOwnProperty("path")?k.path=E+"."+k.path:k.path=E,k.message=k.message+"("+k.path+")",k}p._inner.ordereds.push(C)}),p},c.prototype.min=function(h){var p=b.isRef(h);return w.assert(Number.isSafeInteger(h)&&h>=0||p,"limit must be a positive integer or reference"),this._test("min",h,function(m,g,_){var C=void 0;if(p){if(C=h(g.reference||g.parent,_),!(Number.isSafeInteger(C)&&C>=0))return this.createError("array.ref",{ref:h.key},g,_)}else C=h;return m.length>=C?m:this.createError("array.min",{limit:h,value:m},g,_)})},c.prototype.max=function(h){var p=b.isRef(h);return w.assert(Number.isSafeInteger(h)&&h>=0||p,"limit must be a positive integer or reference"),this._test("max",h,function(m,g,_){var C=void 0;if(p){if(C=h(g.reference||g.parent,_),!(Number.isSafeInteger(C)&&C>=0))return this.createError("array.ref",{ref:h.key},g,_)}else C=h;return m.length<=C?m:this.createError("array.max",{limit:h,value:m},g,_)})},c.prototype.length=function(h){var p=b.isRef(h);return w.assert(Number.isSafeInteger(h)&&h>=0||p,"limit must be a positive integer or reference"),this._test("length",h,function(m,g,_){var C=void 0;if(p){if(C=h(g.reference||g.parent,_),!(Number.isSafeInteger(C)&&C>=0))return this.createError("array.ref",{ref:h.key},g,_)}else C=h;return m.length===C?m:this.createError("array.length",{limit:h,value:m},g,_)})},c.prototype.unique=function(h){w.assert(h===void 0||typeof h=="function"||typeof h=="string","comparator must be a function or a string");var p={};return typeof h=="string"?p.path=h:typeof h=="function"&&(p.comparator=h),this._test("unique",p,function(m,g,_){for(var C={string:Object.create(null),number:Object.create(null),undefined:Object.create(null),boolean:Object.create(null),object:new Map,function:new Map,custom:new Map},E=p.comparator||w.deepEqual,k=0;k<m.length;++k){var T=p.path?w.reach(m[k],p.path):m[k],O=p.comparator?C.custom:C[typeof T>"u"?"undefined":r(T)];if(O)if(O instanceof Map){for(var M=O.entries(),F=void 0;!(F=M.next()).done;)if(E(F.value[0],T)){var N={key:g.key,path:g.path.concat(k),parent:g.parent,reference:g.reference},P={pos:k,value:m[k],dupePos:F.value[1],dupeValue:m[F.value[1]]};return p.path&&(P.path=p.path),this.createError("array.unique",P,N,_)}O.set(T,k)}else{if(O[T]!==void 0){var B={key:g.key,path:g.path.concat(k),parent:g.parent,reference:g.reference},z={pos:k,value:m[k],dupePos:O[T],dupeValue:m[O[T]]};return p.path&&(z.path=p.path),this.createError("array.unique",z,B,_)}O[T]=k}}return m})},c.prototype.sparse=function(h){var p=h===void 0?!0:!!h;if(this._flags.sparse===p)return this;var m=this.clone();return m._flags.sparse=p,m},c.prototype.single=function(h){var p=h===void 0?!0:!!h;if(this._flags.single===p)return this;var m=this.clone();return m._flags.single=p,m},c.prototype._fillMissedErrors=function(h,p,m,g){for(var _=[],C=0,E=0;E<p.length;++E){var k=p[E]._getLabel();k?_.push(k):++C}_.length?C?h.push(this.createError("array.includesRequiredBoth",{knownMisses:_,unknownMisses:C},{key:m.key,path:m.path},g)):h.push(this.createError("array.includesRequiredKnowns",{knownMisses:_},{key:m.key,path:m.path},g)):h.push(this.createError("array.includesRequiredUnknowns",{unknownMisses:C},{key:m.key,path:m.path},g))},c.prototype._fillOrderedErrors=function(h,p,m,g){for(var _=[],C=0;C<p.length;++C){var E=w.reach(p[C],"_flags.presence");E==="required"&&_.push(p[C])}_.length&&this._fillMissedErrors.call(this,h,_,m,g)},c}(f),v.safeParse=function(x,c){try{var u=JSON.parse(x);Array.isArray(u)&&(c.value=u)}catch{}},n.exports=new v.Array},function(n,i,s){(function(r){function a(w,v){for(var x=Object.getOwnPropertyNames(v),c=0;c<x.length;c++){var u=x[c],h=Object.getOwnPropertyDescriptor(v,u);h&&h.configurable&&w[u]===void 0&&Object.defineProperty(w,u,h)}return w}function l(w,v){if(!(w instanceof v))throw new TypeError("Cannot call a class as a function")}function o(w,v){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:w}function d(w,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);w.prototype=Object.create(v&&v.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(w,v):a(w,v))}var f=s(2),y=s(0),b={};b.Binary=function(w){d(v,w);function v(){l(this,v);var x=o(this,w.call(this));return x._type="binary",x}return v.prototype._base=function(c,u,h){var p={value:c};if(typeof c=="string"&&h.convert)try{p.value=r.from(c,this._flags.encoding)}catch{}return p.errors=r.isBuffer(p.value)?null:this.createError("binary.base",null,u,h),p},v.prototype.encoding=function(c){if(y.assert(r.isEncoding(c),"Invalid encoding:",c),this._flags.encoding===c)return this;var u=this.clone();return u._flags.encoding=c,u},v.prototype.min=function(c){return y.assert(Number.isSafeInteger(c)&&c>=0,"limit must be a positive integer"),this._test("min",c,function(u,h,p){return u.length>=c?u:this.createError("binary.min",{limit:c,value:u},h,p)})},v.prototype.max=function(c){return y.assert(Number.isSafeInteger(c)&&c>=0,"limit must be a positive integer"),this._test("max",c,function(u,h,p){return u.length<=c?u:this.createError("binary.max",{limit:c,value:u},h,p)})},v.prototype.length=function(c){return y.assert(Number.isSafeInteger(c)&&c>=0,"limit must be a positive integer"),this._test("length",c,function(u,h,p){return u.length===c?u:this.createError("binary.length",{limit:c,value:u},h,p)})},v}(f),n.exports=new b.Binary}).call(i,s(3).Buffer)},function(n,i,s){function r(b,w){for(var v=Object.getOwnPropertyNames(w),x=0;x<v.length;x++){var c=v[x],u=Object.getOwnPropertyDescriptor(w,c);u&&u.configurable&&b[c]===void 0&&Object.defineProperty(b,c,u)}return b}function a(b,w){if(!(b instanceof w))throw new TypeError("Cannot call a class as a function")}function l(b,w){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:b}function o(b,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);b.prototype=Object.create(w&&w.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(b,w):r(b,w))}var d=s(2),f=s(0),y={Set:s(9)};y.Boolean=function(b){o(w,b);function w(){a(this,w);var v=l(this,b.call(this));return v._type="boolean",v._flags.insensitive=!0,v._inner.truthySet=new y.Set,v._inner.falsySet=new y.Set,v}return w.prototype._base=function(x,c,u){var h={value:x};if(typeof x=="string"&&u.convert){var p=this._flags.insensitive?x.toLowerCase():x;h.value=p==="true"?!0:p==="false"?!1:x}return typeof h.value!="boolean"&&(h.value=this._inner.truthySet.has(x,null,null,this._flags.insensitive)?!0:this._inner.falsySet.has(x,null,null,this._flags.insensitive)?!1:x),h.errors=typeof h.value=="boolean"?null:this.createError("boolean.base",null,c,u),h},w.prototype.truthy=function(){for(var x=arguments.length,c=Array(x),u=0;u<x;u++)c[u]=arguments[u];var h=this.clone();c=f.flatten(c);for(var p=0;p<c.length;++p){var m=c[p];f.assert(m!==void 0,"Cannot call truthy with undefined"),h._inner.truthySet.add(m)}return h},w.prototype.falsy=function(){for(var x=arguments.length,c=Array(x),u=0;u<x;u++)c[u]=arguments[u];var h=this.clone();c=f.flatten(c);for(var p=0;p<c.length;++p){var m=c[p];f.assert(m!==void 0,"Cannot call falsy with undefined"),h._inner.falsySet.add(m)}return h},w.prototype.insensitive=function(x){var c=x===void 0?!0:!!x;if(this._flags.insensitive===c)return this;var u=this.clone();return u._flags.insensitive=c,u},w.prototype.describe=function(){var x=d.prototype.describe.call(this);return x.truthy=[!0].concat(this._inner.truthySet.values()),x.falsy=[!1].concat(this._inner.falsySet.values()),x},w}(d),n.exports=new y.Boolean},function(n,i,s){function r(w,v){for(var x=Object.getOwnPropertyNames(v),c=0;c<x.length;c++){var u=x[c],h=Object.getOwnPropertyDescriptor(v,u);h&&h.configurable&&w[u]===void 0&&Object.defineProperty(w,u,h)}return w}function a(w,v){if(!(w instanceof v))throw new TypeError("Cannot call a class as a function")}function l(w,v){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:w}function o(w,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);w.prototype=Object.create(v&&v.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(w,v):r(w,v))}var d=s(0),f=s(13),y=s(1),b={};b.Func=function(w){o(v,w);function v(){a(this,v);var x=l(this,w.call(this));return x._flags.func=!0,x}return v.prototype.arity=function(c){return d.assert(Number.isSafeInteger(c)&&c>=0,"n must be a positive integer"),this._test("arity",c,function(u,h,p){return u.length===c?u:this.createError("function.arity",{n:c},h,p)})},v.prototype.minArity=function(c){return d.assert(Number.isSafeInteger(c)&&c>0,"n must be a strict positive integer"),this._test("minArity",c,function(u,h,p){return u.length>=c?u:this.createError("function.minArity",{n:c},h,p)})},v.prototype.maxArity=function(c){return d.assert(Number.isSafeInteger(c)&&c>=0,"n must be a positive integer"),this._test("maxArity",c,function(u,h,p){return u.length<=c?u:this.createError("function.maxArity",{n:c},h,p)})},v.prototype.ref=function(){return this._test("ref",null,function(c,u,h){return y.isRef(c)?c:this.createError("function.ref",null,u,h)})},v.prototype.class=function(){return this._test("class",null,function(c,u,h){return/^\s*class\s/.test(c.toString())?c:this.createError("function.class",null,u,h)})},v}(f.constructor),n.exports=new b.Func},function(n,i,s){function r(b,w){for(var v=Object.getOwnPropertyNames(w),x=0;x<v.length;x++){var c=v[x],u=Object.getOwnPropertyDescriptor(w,c);u&&u.configurable&&b[c]===void 0&&Object.defineProperty(b,c,u)}return b}function a(b,w){if(!(b instanceof w))throw new TypeError("Cannot call a class as a function")}function l(b,w){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:b}function o(b,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);b.prototype=Object.create(w&&w.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(b,w):r(b,w))}var d=s(2),f=s(0),y={};y.Lazy=function(b){o(w,b);function w(){a(this,w);var v=l(this,b.call(this));return v._type="lazy",v}return w.prototype._base=function(x,c,u){var h={value:x},p=this._flags.lazy;if(!p)return h.errors=this.createError("lazy.base",null,c,u),h;var m=p();return m instanceof d?m._validate(x,c,u):(h.errors=this.createError("lazy.schema",null,c,u),h)},w.prototype.set=function(x){f.assert(typeof x=="function","You must provide a function as first argument");var c=this.clone();return c._flags.lazy=x,c},w}(d),n.exports=new y.Lazy},function(n,i,s){function r(w,v){for(var x=Object.getOwnPropertyNames(v),c=0;c<x.length;c++){var u=x[c],h=Object.getOwnPropertyDescriptor(v,u);h&&h.configurable&&w[u]===void 0&&Object.defineProperty(w,u,h)}return w}function a(w,v){if(!(w instanceof v))throw new TypeError("Cannot call a class as a function")}function l(w,v){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:w}function o(w,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);w.prototype=Object.create(v&&v.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(w,v):r(w,v))}var d=s(2),f=s(1),y=s(0),b={precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/};b.Number=function(w){o(v,w);function v(){a(this,v);var x=l(this,w.call(this));return x._type="number",x._invalids.add(1/0),x._invalids.add(-1/0),x}return v.prototype._base=function(c,u,h){var p={errors:null,value:c};if(typeof c=="string"&&h.convert){var m=parseFloat(c);p.value=isNaN(m)||!isFinite(c)?NaN:m}var g=typeof p.value=="number"&&!isNaN(p.value);if(h.convert&&"precision"in this._flags&&g){var _=Math.pow(10,this._flags.precision);p.value=Math.round(p.value*_)/_}return p.errors=g?null:this.createError("number.base",null,u,h),p},v.prototype.multiple=function(c){var u=f.isRef(c);return u||(y.assert(typeof c=="number"&&isFinite(c),"multiple must be a number"),y.assert(c>0,"multiple must be greater than 0")),this._test("multiple",c,function(h,p,m){var g=u?c(p.reference||p.parent,m):c;return u&&(typeof g!="number"||!isFinite(g))?this.createError("number.ref",{ref:c.key},p,m):h%g===0?h:this.createError("number.multiple",{multiple:c,value:h},p,m)})},v.prototype.integer=function(){return this._test("integer",void 0,function(c,u,h){return Number.isSafeInteger(c)?c:this.createError("number.integer",{value:c},u,h)})},v.prototype.negative=function(){return this._test("negative",void 0,function(c,u,h){return c<0?c:this.createError("number.negative",{value:c},u,h)})},v.prototype.positive=function(){return this._test("positive",void 0,function(c,u,h){return c>0?c:this.createError("number.positive",{value:c},u,h)})},v.prototype.precision=function(c){y.assert(Number.isSafeInteger(c),"limit must be an integer"),y.assert(!("precision"in this._flags),"precision already set");var u=this._test("precision",c,function(h,p,m){var g=h.toString().match(b.precisionRx),_=Math.max((g[1]?g[1].length:0)-(g[2]?parseInt(g[2],10):0),0);return _<=c?h:this.createError("number.precision",{limit:c,value:h},p,m)});return u._flags.precision=c,u},v.prototype.port=function(){return this._test("port",void 0,function(c,u,h){return!Number.isSafeInteger(c)||c<0||c>65535?this.createError("number.port",{value:c},u,h):c})},v}(d),b.compare=function(w,v){return function(x){var c=f.isRef(x),u=typeof x=="number"&&!isNaN(x);return y.assert(u||c,"limit must be a number or reference"),this._test(w,x,function(h,p,m){var g=void 0;if(c){if(g=x(p.reference||p.parent,m),!(typeof g=="number"&&!isNaN(g)))return this.createError("number.ref",{ref:x.key},p,m)}else g=x;return v(h,g)?h:this.createError("number."+w,{limit:g,value:h},p,m)})}},b.Number.prototype.min=b.compare("min",function(w,v){return w>=v}),b.Number.prototype.max=b.compare("max",function(w,v){return w<=v}),b.Number.prototype.greater=b.compare("greater",function(w,v){return w>v}),b.Number.prototype.less=b.compare("less",function(w,v){return w<v}),n.exports=new b.Number},function(n,i,s){(function(r){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m};function l(m,g){for(var _=Object.getOwnPropertyNames(g),C=0;C<_.length;C++){var E=_[C],k=Object.getOwnPropertyDescriptor(g,E);k&&k.configurable&&m[E]===void 0&&Object.defineProperty(m,E,k)}return m}function o(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function d(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:m}function f(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):l(m,g))}var y=s(15),b=s(0),w=void 0,v=s(2),x=s(1),c=s(12),u=s(30),h=s(29),p={uriRegex:u.createUriRegex(),ipRegex:h.createIpRegex(["ipv4","ipv6","ipvfuture"],"optional"),guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5"},cidrPresences:["required","optional","forbidden"],normalizationForms:["NFC","NFD","NFKC","NFKD"]};p.String=function(m){f(g,m);function g(){o(this,g);var _=d(this,m.call(this));return _._type="string",_._invalids.add(""),_}return g.prototype._base=function(C,E,k){if(typeof C=="string"&&k.convert){if(this._flags.normalize&&(C=C.normalize(this._flags.normalize)),this._flags.case&&(C=this._flags.case==="upper"?C.toLocaleUpperCase():C.toLocaleLowerCase()),this._flags.trim&&(C=C.trim()),this._inner.replacements)for(var T=0;T<this._inner.replacements.length;++T){var O=this._inner.replacements[T];C=C.replace(O.pattern,O.replacement)}if(this._flags.truncate)for(var M=0;M<this._tests.length;++M){var F=this._tests[M];if(F.name==="max"){C=C.slice(0,F.arg);break}}this._flags.byteAligned&&C.length%2!==0&&(C="0"+C)}return{value:C,errors:typeof C=="string"?null:this.createError("string.base",{value:C},E,k)}},g.prototype.insensitive=function(){if(this._flags.insensitive)return this;var C=this.clone();return C._flags.insensitive=!0,C},g.prototype.creditCard=function(){return this._test("creditCard",void 0,function(C,E,k){for(var T=C.length,O=0,M=1;T--;){var F=C.charAt(T)*M;O=O+(F-(F>9)*9),M=M^3}var N=O%10===0&&O>0;return N?C:this.createError("string.creditCard",{value:C},E,k)})},g.prototype.regex=function(C,E){b.assert(C instanceof RegExp,"pattern must be a RegExp");var k={pattern:new RegExp(C.source,C.ignoreCase?"i":void 0)};typeof E=="string"?k.name=E:(typeof E>"u"?"undefined":a(E))==="object"&&(k.invert=!!E.invert,E.name&&(k.name=E.name));var T=["string.regex",k.invert?".invert":"",k.name?".name":".base"].join("");return this._test("regex",k,function(O,M,F){var N=k.pattern.test(O);return N^k.invert?O:this.createError(T,{name:k.name,pattern:k.pattern,value:O},M,F)})},g.prototype.alphanum=function(){return this._test("alphanum",void 0,function(C,E,k){return/^[a-zA-Z0-9]+$/.test(C)?C:this.createError("string.alphanum",{value:C},E,k)})},g.prototype.token=function(){return this._test("token",void 0,function(C,E,k){return/^\w+$/.test(C)?C:this.createError("string.token",{value:C},E,k)})},g.prototype.email=function(C){return C&&(b.assert((typeof C>"u"?"undefined":a(C))==="object","email options must be an object"),b.assert(typeof C.checkDNS>"u","checkDNS option is not supported"),b.assert(typeof C.tldWhitelist>"u"||a(C.tldWhitelist)==="object","tldWhitelist must be an array or object"),b.assert(typeof C.minDomainAtoms>"u"||Number.isSafeInteger(C.minDomainAtoms)&&C.minDomainAtoms>0,"minDomainAtoms must be a positive integer"),b.assert(typeof C.errorLevel>"u"||typeof C.errorLevel=="boolean"||Number.isSafeInteger(C.errorLevel)&&C.errorLevel>=0,"errorLevel must be a non-negative integer or boolean")),this._test("email",C,function(E,k,T){w=w||s(19);try{var O=w.validate(E,C);if(O===!0||O===0)return E}catch{}return this.createError("string.email",{value:E},k,T)})},g.prototype.ip=function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},E=p.ipRegex;b.assert((typeof C>"u"?"undefined":a(C))==="object","options must be an object"),C.cidr?(b.assert(typeof C.cidr=="string","cidr must be a string"),C.cidr=C.cidr.toLowerCase(),b.assert(b.contain(p.cidrPresences,C.cidr),"cidr must be one of "+p.cidrPresences.join(", ")),!C.version&&C.cidr!=="optional"&&(E=h.createIpRegex(["ipv4","ipv6","ipvfuture"],C.cidr))):C.cidr="optional";var k=void 0;if(C.version){Array.isArray(C.version)||(C.version=[C.version]),b.assert(C.version.length>=1,"version must have at least 1 version specified"),k=[];for(var T=0;T<C.version.length;++T){var O=C.version[T];b.assert(typeof O=="string","version at position "+T+" must be a string"),O=O.toLowerCase(),b.assert(h.versions[O],"version at position "+T+" must be one of "+Object.keys(h.versions).join(", ")),k.push(O)}k=b.unique(k),E=h.createIpRegex(k,C.cidr)}return this._test("ip",C,function(M,F,N){return E.test(M)?M:k?this.createError("string.ipVersion",{value:M,cidr:C.cidr,version:k},F,N):this.createError("string.ip",{value:M,cidr:C.cidr},F,N)})},g.prototype.uri=function(C){var E="",k=!1,T=!1,O=p.uriRegex;if(C){if(b.assert((typeof C>"u"?"undefined":a(C))==="object","options must be an object"),C.scheme){b.assert(C.scheme instanceof RegExp||typeof C.scheme=="string"||Array.isArray(C.scheme),"scheme must be a RegExp, String, or Array"),Array.isArray(C.scheme)||(C.scheme=[C.scheme]),b.assert(C.scheme.length>=1,"scheme must have at least 1 scheme specified");for(var M=0;M<C.scheme.length;++M){var F=C.scheme[M];b.assert(F instanceof RegExp||typeof F=="string","scheme at position "+M+" must be a RegExp or String"),E=E+(E?"|":""),F instanceof RegExp?E=E+F.source:(b.assert(/[a-zA-Z][a-zA-Z0-9+-\.]*/.test(F),"scheme at position "+M+" must be a valid scheme"),E=E+b.escapeRegex(F))}}C.allowRelative&&(k=!0),C.relativeOnly&&(T=!0)}return(E||k||T)&&(O=u.createUriRegex(E,k,T)),this._test("uri",C,function(N,P,B){return O.test(N)?N:T?this.createError("string.uriRelativeOnly",{value:N},P,B):E?this.createError("string.uriCustomScheme",{scheme:E,value:N},P,B):this.createError("string.uri",{value:N},P,B)})},g.prototype.isoDate=function(){return this._test("isoDate",void 0,function(C,E,k){if(c._isIsoDate(C)){if(!k.convert)return C;var T=new Date(C);if(!isNaN(T.getTime()))return T.toISOString()}return this.createError("string.isoDate",{value:C},E,k)})},g.prototype.guid=function(C){var E="";if(C&&C.version){Array.isArray(C.version)||(C.version=[C.version]),b.assert(C.version.length>=1,"version must have at least 1 valid version specified");for(var k=new Set,T=0;T<C.version.length;++T){var O=C.version[T];b.assert(typeof O=="string","version at position "+T+" must be a string"),O=O.toLowerCase();var M=p.guidVersions[O];b.assert(M,"version at position "+T+" must be one of "+Object.keys(p.guidVersions).join(", ")),b.assert(!k.has(M),"version at position "+T+" must not be a duplicate."),E+=M,k.add(M)}}var F=new RegExp("^([\\[{\\(]?)[0-9A-F]{8}([:-]?)[0-9A-F]{4}\\2?["+(E||"0-9A-F")+"][0-9A-F]{3}\\2?["+(E?"89AB":"0-9A-F")+"][0-9A-F]{3}\\2?[0-9A-F]{12}([\\]}\\)]?)$","i");return this._test("guid",C,function(N,P,B){var z=F.exec(N);return z?p.guidBrackets[z[1]]!==z[z.length-1]?this.createError("string.guid",{value:N},P,B):N:this.createError("string.guid",{value:N},P,B)})},g.prototype.hex=function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};b.assert((typeof C>"u"?"undefined":a(C))==="object","hex options must be an object"),b.assert(typeof C.byteAligned>"u"||typeof C.byteAligned=="boolean","byteAligned must be boolean");var E=C.byteAligned===!0,k=/^[a-f0-9]+$/i,T=this._test("hex",k,function(O,M,F){return k.test(O)?E&&O.length%2!==0?this.createError("string.hexAlign",{value:O},M,F):O:this.createError("string.hex",{value:O},M,F)});return E&&(T._flags.byteAligned=!0),T},g.prototype.base64=function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};b.assert((typeof C>"u"?"undefined":a(C))==="object","base64 options must be an object"),b.assert(typeof C.paddingRequired>"u"||typeof C.paddingRequired=="boolean","paddingRequired must be boolean");var E=C.paddingRequired===!1?C.paddingRequired:C.paddingRequired||!0,k=E?/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/:/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/;return this._test("base64",k,function(T,O,M){return k.test(T)?T:this.createError("string.base64",{value:T},O,M)})},g.prototype.hostname=function(){var C=/^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9\-]*[A-Za-z0-9])$/;return this._test("hostname",void 0,function(E,k,T){return E.length<=255&&C.test(E)||y.isIPv6(E)?E:this.createError("string.hostname",{value:E},k,T)})},g.prototype.normalize=function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"NFC";b.assert(b.contain(p.normalizationForms,C),"normalization form must be one of "+p.normalizationForms.join(", "));var E=this._test("normalize",C,function(k,T,O){return O.convert||k===k.normalize(C)?k:this.createError("string.normalize",{value:k,form:C},T,O)});return E._flags.normalize=C,E},g.prototype.lowercase=function(){var C=this._test("lowercase",void 0,function(E,k,T){return T.convert||E===E.toLocaleLowerCase()?E:this.createError("string.lowercase",{value:E},k,T)});return C._flags.case="lower",C},g.prototype.uppercase=function(){var C=this._test("uppercase",void 0,function(E,k,T){return T.convert||E===E.toLocaleUpperCase()?E:this.createError("string.uppercase",{value:E},k,T)});return C._flags.case="upper",C},g.prototype.trim=function(){var C=this._test("trim",void 0,function(E,k,T){return T.convert||E===E.trim()?E:this.createError("string.trim",{value:E},k,T)});return C._flags.trim=!0,C},g.prototype.replace=function(C,E){typeof C=="string"&&(C=new RegExp(b.escapeRegex(C),"g")),b.assert(C instanceof RegExp,"pattern must be a RegExp"),b.assert(typeof E=="string","replacement must be a String");var k=this.clone();return k._inner.replacements||(k._inner.replacements=[]),k._inner.replacements.push({pattern:C,replacement:E}),k},g.prototype.truncate=function(C){var E=C===void 0?!0:!!C;if(this._flags.truncate===E)return this;var k=this.clone();return k._flags.truncate=E,k},g}(v),p.compare=function(m,g){return function(_,C){var E=x.isRef(_);return b.assert(Number.isSafeInteger(_)&&_>=0||E,"limit must be a positive integer or reference"),b.assert(!C||r.isEncoding(C),"Invalid encoding:",C),this._test(m,_,function(k,T,O){var M=void 0;if(E){if(M=_(T.reference||T.parent,O),!Number.isSafeInteger(M))return this.createError("string.ref",{ref:_.key},T,O)}else M=_;return g(k,M,C)?k:this.createError("string."+m,{limit:M,value:k,encoding:C},T,O)})}},p.String.prototype.min=p.compare("min",function(m,g,_){var C=_?r.byteLength(m,_):m.length;return C>=g}),p.String.prototype.max=p.compare("max",function(m,g,_){var C=_?r.byteLength(m,_):m.length;return C<=g}),p.String.prototype.length=p.compare("length",function(m,g,_){var C=_?r.byteLength(m,_):m.length;return C===g}),p.String.prototype.uuid=p.String.prototype.guid,n.exports=new p.String}).call(i,s(3).Buffer)},function(n,i,s){var r=s(14),a={Ip:{cidrs:{ipv4:{required:"\\/(?:"+r.ipv4Cidr+")",optional:"(?:\\/(?:"+r.ipv4Cidr+"))?",forbidden:""},ipv6:{required:"\\/"+r.ipv6Cidr,optional:"(?:\\/"+r.ipv6Cidr+")?",forbidden:""},ipvfuture:{required:"\\/"+r.ipv6Cidr,optional:"(?:\\/"+r.ipv6Cidr+")?",forbidden:""}},versions:{ipv4:r.IPv4address,ipv6:r.IPv6address,ipvfuture:r.IPvFuture}}};a.Ip.createIpRegex=function(l,o){for(var d=void 0,f=0;f<l.length;++f){var y=l[f];d?d+="|"+a.Ip.versions[y]+a.Ip.cidrs[y][o]:d="^(?:"+a.Ip.versions[y]+a.Ip.cidrs[y][o]}return new RegExp(d+")$")},n.exports=a.Ip},function(n,i,s){var r=s(14),a={Uri:{createUriRegex:function(o,d,f){var y=r.scheme,b=void 0;if(f)b="(?:"+r.relativeRef+")";else{o&&(y="(?:"+o+")");var w="(?:"+y+":"+r.hierPart+")";b=d?"(?:"+w+"|"+r.relativeRef+")":w}return new RegExp("^"+b+"(?:\\?"+r.query+")?(?:#"+r.fragment+")?$")}}};n.exports=a.Uri},function(n,i,s){var r=s(0),a={};n.exports=a.Topo=function(){this._items=[],this.nodes=[]},a.Topo.prototype.add=function(l,o){var d=this;o=o||{};var f=[].concat(o.before||[]),y=[].concat(o.after||[]),b=o.group||"?",w=o.sort||0;r.assert(f.indexOf(b)===-1,"Item cannot come before itself:",b),r.assert(f.indexOf("?")===-1,"Item cannot come before unassociated items"),r.assert(y.indexOf(b)===-1,"Item cannot come after itself:",b),r.assert(y.indexOf("?")===-1,"Item cannot come after unassociated items"),[].concat(l).forEach(function(x,c){var u={seq:d._items.length,sort:w,before:f,after:y,group:b,node:x};d._items.push(u)});var v=this._sort();return r.assert(!v,"item",b!=="?"?"added into group "+b:"","created a dependencies error"),this.nodes},a.Topo.prototype.merge=function(l){l=[].concat(l);for(var o=0;o<l.length;++o){var d=l[o];if(d)for(var f=0;f<d._items.length;++f){var y=r.shallow(d._items[f]);this._items.push(y)}}this._items.sort(a.mergeSort);for(var b=0;b<this._items.length;++b)this._items[b].seq=b;var w=this._sort();return r.assert(!w,"merge created a dependencies error"),this.nodes},a.mergeSort=function(l,o){return l.sort===o.sort?0:l.sort<o.sort?-1:1},a.Topo.prototype._sort=function(){for(var l={},o=Object.create(null),d=Object.create(null),f=0;f<this._items.length;++f){var y=this._items[f],b=y.seq,w=y.group;d[w]=d[w]||[],d[w].push(b),l[b]=y.before;for(var v=y.after,x=0;x<v.length;++x)o[v[x]]=(o[v[x]]||[]).concat(b)}for(var c=Object.keys(l),u=0;u<c.length;++u){for(var h=c[u],p=[],m=Object.keys(l[h]),g=0;g<m.length;++g){var _=l[h][m[g]];d[_]=d[_]||[];for(var C=0;C<d[_].length;++C)p.push(d[_][C])}l[h]=p}for(var E=Object.keys(o),k=0;k<E.length;++k){var T=E[k];if(d[T])for(var O=0;O<d[T].length;++O){var M=d[T][O];l[M]=l[M].concat(o[T])}}var F=void 0,N={};c=Object.keys(l);for(var P=0;P<c.length;++P){var B=c[P];F=l[B];for(var z=0;z<F.length;++z)N[F[z]]=(N[F[z]]||[]).concat(B)}for(var D={},$=[],q=0;q<this._items.length;++q){var V=q;if(N[q]){V=null;for(var K=0;K<this._items.length;++K)if(D[K]!==!0){N[K]||(N[K]=[]);for(var R=N[K].length,j=0,I=0;I<R;++I)D[N[K][I]]&&++j;if(j===R){V=K;break}}}V!==null&&(D[V]=!0,$.push(V))}if($.length!==this._items.length)return new Error("Invalid dependencies");for(var H={},U=0;U<this._items.length;++U){var G=this._items[U];H[G.seq]=G}var X=[];this._items=$.map(function(Z){var te=H[Z];return X.push(te.node),te}),this.nodes=X}},function(n,i,s){var r=s(8);n.exports=r},function(n,i,s){i.byteLength=b,i.toByteArray=w,i.fromByteArray=c;for(var r=[],a=[],l=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,f=o.length;d<f;++d)r[d]=o[d],a[o.charCodeAt(d)]=d;a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63;function y(u){var h=u.length;if(h%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return u[h-2]==="="?2:u[h-1]==="="?1:0}function b(u){return u.length*3/4-y(u)}function w(u){var h,p,m,g,_,C=u.length;g=y(u),_=new l(C*3/4-g),p=g>0?C-4:C;var E=0;for(h=0;h<p;h+=4)m=a[u.charCodeAt(h)]<<18|a[u.charCodeAt(h+1)]<<12|a[u.charCodeAt(h+2)]<<6|a[u.charCodeAt(h+3)],_[E++]=m>>16&255,_[E++]=m>>8&255,_[E++]=m&255;return g===2?(m=a[u.charCodeAt(h)]<<2|a[u.charCodeAt(h+1)]>>4,_[E++]=m&255):g===1&&(m=a[u.charCodeAt(h)]<<10|a[u.charCodeAt(h+1)]<<4|a[u.charCodeAt(h+2)]>>2,_[E++]=m>>8&255,_[E++]=m&255),_}function v(u){return r[u>>18&63]+r[u>>12&63]+r[u>>6&63]+r[u&63]}function x(u,h,p){for(var m,g=[],_=h;_<p;_+=3)m=(u[_]<<16)+(u[_+1]<<8)+u[_+2],g.push(v(m));return g.join("")}function c(u){for(var h,p=u.length,m=p%3,g="",_=[],C=16383,E=0,k=p-m;E<k;E+=C)_.push(x(u,E,E+C>k?k:E+C));return m===1?(h=u[p-1],g+=r[h>>2],g+=r[h<<4&63],g+="=="):m===2&&(h=(u[p-2]<<8)+u[p-1],g+=r[h>>10],g+=r[h>>4&63],g+=r[h<<2&63],g+="="),_.push(g),_.join("")}},function(n,i){i.read=function(s,r,a,l,o){var d,f,y=o*8-l-1,b=(1<<y)-1,w=b>>1,v=-7,x=a?o-1:0,c=a?-1:1,u=s[r+x];for(x+=c,d=u&(1<<-v)-1,u>>=-v,v+=y;v>0;d=d*256+s[r+x],x+=c,v-=8);for(f=d&(1<<-v)-1,d>>=-v,v+=l;v>0;f=f*256+s[r+x],x+=c,v-=8);if(d===0)d=1-w;else{if(d===b)return f?NaN:(u?-1:1)*(1/0);f=f+Math.pow(2,l),d=d-w}return(u?-1:1)*f*Math.pow(2,d-l)},i.write=function(s,r,a,l,o,d){var f,y,b,w=d*8-o-1,v=(1<<w)-1,x=v>>1,c=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,u=l?0:d-1,h=l?1:-1,p=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(y=isNaN(r)?1:0,f=v):(f=Math.floor(Math.log(r)/Math.LN2),r*(b=Math.pow(2,-f))<1&&(f--,b*=2),f+x>=1?r+=c/b:r+=c*Math.pow(2,1-x),r*b>=2&&(f++,b/=2),f+x>=v?(y=0,f=v):f+x>=1?(y=(r*b-1)*Math.pow(2,o),f=f+x):(y=r*Math.pow(2,x-1)*Math.pow(2,o),f=0));o>=8;s[a+u]=y&255,u+=h,y/=256,o-=8);for(f=f<<o|y,w+=o;w>0;s[a+u]=f&255,u+=h,f/=256,w-=8);s[a+u-h]|=p*128}},function(n,i){var s={}.toString;n.exports=Array.isArray||function(r){return s.call(r)=="[object Array]"}},function(n,i){n.exports={_args:[["joi@13.4.0","/Users/jeff/projects/joi-browser"]],_development:!0,_from:"joi@13.4.0",_id:"joi@13.4.0",_inBundle:!1,_integrity:"sha512-JuK4GjEu6j7zr9FuVe2MAseZ6si/8/HaY0qMAejfDFHp7jcH4OKE937mIHM5VT4xDS0q7lpQbszbxKV9rm0yUg==",_location:"/joi",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"joi@13.4.0",name:"joi",escapedName:"joi",rawSpec:"13.4.0",saveSpec:null,fetchSpec:"13.4.0"},_requiredBy:["#DEV:/"],_resolved:"https://registry.npmjs.org/joi/-/joi-13.4.0.tgz",_spec:"13.4.0",_where:"/Users/jeff/projects/joi-browser",bugs:{url:"https://github.com/hapijs/joi/issues"},dependencies:{hoek:"5.x.x",isemail:"3.x.x",topo:"3.x.x"},description:"Object schema validation",devDependencies:{code:"5.x.x",hapitoc:"1.x.x",lab:"15.x.x"},engines:{node:">=8.9.0"},homepage:"https://github.com/hapijs/joi",keywords:["hapi","schema","validation"],license:"BSD-3-Clause",main:"lib/index.js",name:"joi",repository:{type:"git",url:"git://github.com/hapijs/joi.git"},scripts:{test:"lab -t 100 -a code -L","test-cov-html":"lab -r html -o coverage.html -a code","test-debug":"lab -a code",toc:"hapitoc",version:"npm run toc && git add API.md README.md"},version:"13.4.0"}},function(n,i,s){(function(r){function a(y,b){for(var w=0,v=y.length-1;v>=0;v--){var x=y[v];x==="."?y.splice(v,1):x===".."?(y.splice(v,1),w++):w&&(y.splice(v,1),w--)}if(b)for(;w--;w)y.unshift("..");return y}var l=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(y){return l.exec(y).slice(1)};i.resolve=function(){for(var y="",b=!1,w=arguments.length-1;w>=-1&&!b;w--){var v=w>=0?arguments[w]:r.cwd();if(typeof v!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!v)continue;y=v+"/"+y,b=v.charAt(0)==="/"}return y=a(d(y.split("/"),function(x){return!!x}),!b).join("/"),(b?"/":"")+y||"."},i.normalize=function(y){var b=i.isAbsolute(y),w=f(y,-1)==="/";return y=a(d(y.split("/"),function(v){return!!v}),!b).join("/"),!y&&!b&&(y="."),y&&w&&(y+="/"),(b?"/":"")+y},i.isAbsolute=function(y){return y.charAt(0)==="/"},i.join=function(){var y=Array.prototype.slice.call(arguments,0);return i.normalize(d(y,function(b,w){if(typeof b!="string")throw new TypeError("Arguments to path.join must be strings");return b}).join("/"))},i.relative=function(y,b){y=i.resolve(y).substr(1),b=i.resolve(b).substr(1);function w(m){for(var g=0;g<m.length&&m[g]==="";g++);for(var _=m.length-1;_>=0&&m[_]==="";_--);return g>_?[]:m.slice(g,_-g+1)}for(var v=w(y.split("/")),x=w(b.split("/")),c=Math.min(v.length,x.length),u=c,h=0;h<c;h++)if(v[h]!==x[h]){u=h;break}for(var p=[],h=u;h<v.length;h++)p.push("..");return p=p.concat(x.slice(u)),p.join("/")},i.sep="/",i.delimiter=":",i.dirname=function(y){var b=o(y),w=b[0],v=b[1];return!w&&!v?".":(v&&(v=v.substr(0,v.length-1)),w+v)},i.basename=function(y,b){var w=o(y)[2];return b&&w.substr(-1*b.length)===b&&(w=w.substr(0,w.length-b.length)),w},i.extname=function(y){return o(y)[3]};function d(y,b){if(y.filter)return y.filter(b);for(var w=[],v=0;v<y.length;v++)b(y[v],v,y)&&w.push(y[v]);return w}var f="ab".substr(-1)==="b"?function(y,b,w){return y.substr(b,w)}:function(y,b,w){return b<0&&(b=y.length+b),y.substr(b,w)}}).call(i,s(7))},function(n,i,s){(function(r,a){var l;/*! https://mths.be/punycode v1.4.1 by @mathias */(function(o){typeof i=="object"&&i&&i.nodeType,typeof r=="object"&&r&&r.nodeType;var d=typeof a=="object"&&a;d.global===d||d.window===d||d.self;var f,y=2147483647,b=36,w=1,v=26,x=38,c=700,u=72,h=128,p="-",m=/^xn--/,g=/[^\x20-\x7E]/,_=/[\x2E\u3002\uFF0E\uFF61]/g,C={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},E=b-w,k=Math.floor,T=String.fromCharCode;function O(R){throw new RangeError(C[R])}function M(R,j){for(var I=R.length,H=[];I--;)H[I]=j(R[I]);return H}function F(R,j){var I=R.split("@"),H="";I.length>1&&(H=I[0]+"@",R=I[1]),R=R.replace(_,".");var U=R.split("."),G=M(U,j).join(".");return H+G}function N(R){for(var j=[],I=0,H=R.length,U,G;I<H;)U=R.charCodeAt(I++),U>=55296&&U<=56319&&I<H?(G=R.charCodeAt(I++),(G&64512)==56320?j.push(((U&1023)<<10)+(G&1023)+65536):(j.push(U),I--)):j.push(U);return j}function P(R){return M(R,function(j){var I="";return j>65535&&(j-=65536,I+=T(j>>>10&1023|55296),j=56320|j&1023),I+=T(j),I}).join("")}function B(R){return R-48<10?R-22:R-65<26?R-65:R-97<26?R-97:b}function z(R,j){return R+22+75*(R<26)-((j!=0)<<5)}function D(R,j,I){var H=0;for(R=I?k(R/c):R>>1,R+=k(R/j);R>E*v>>1;H+=b)R=k(R/E);return k(H+(E+1)*R/(R+x))}function $(R){var j=[],I=R.length,H,U=0,G=h,X=u,Z,te,ne,se,ie,ce,re,de,fe;for(Z=R.lastIndexOf(p),Z<0&&(Z=0),te=0;te<Z;++te)R.charCodeAt(te)>=128&&O("not-basic"),j.push(R.charCodeAt(te));for(ne=Z>0?Z+1:0;ne<I;){for(se=U,ie=1,ce=b;ne>=I&&O("invalid-input"),re=B(R.charCodeAt(ne++)),(re>=b||re>k((y-U)/ie))&&O("overflow"),U+=re*ie,de=ce<=X?w:ce>=X+v?v:ce-X,!(re<de);ce+=b)fe=b-de,ie>k(y/fe)&&O("overflow"),ie*=fe;H=j.length+1,X=D(U-se,H,se==0),k(U/H)>y-G&&O("overflow"),G+=k(U/H),U%=H,j.splice(U++,0,G)}return P(j)}function q(R){var j,I,H,U,G,X,Z,te,ne,se,ie,ce=[],re,de,fe,we;for(R=N(R),re=R.length,j=h,I=0,G=u,X=0;X<re;++X)ie=R[X],ie<128&&ce.push(T(ie));for(H=U=ce.length,U&&ce.push(p);H<re;){for(Z=y,X=0;X<re;++X)ie=R[X],ie>=j&&ie<Z&&(Z=ie);for(de=H+1,Z-j>k((y-I)/de)&&O("overflow"),I+=(Z-j)*de,j=Z,X=0;X<re;++X)if(ie=R[X],ie<j&&++I>y&&O("overflow"),ie==j){for(te=I,ne=b;se=ne<=G?w:ne>=G+v?v:ne-G,!(te<se);ne+=b)we=te-se,fe=b-se,ce.push(T(z(se+we%fe,0))),te=k(we/fe);ce.push(T(z(te,0))),G=D(I,de,H==U),I=0,++H}++I,++j}return ce.join("")}function V(R){return F(R,function(j){return m.test(j)?$(j.slice(4).toLowerCase()):j})}function K(R){return F(R,function(j){return g.test(j)?"xn--"+q(j):j})}f={version:"1.4.1",ucs2:{decode:N,encode:P},decode:$,encode:q,toASCII:K,toUnicode:V},l=function(){return f}.call(i,s,i,r),l!==void 0&&(r.exports=l)})()}).call(i,s(41)(n),s(5))},function(n,i){typeof Object.create=="function"?n.exports=function(r,a){r.super_=a,r.prototype=Object.create(a.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}})}:n.exports=function(r,a){r.super_=a;var l=function(){};l.prototype=a.prototype,r.prototype=new l,r.prototype.constructor=r}},function(n,i){n.exports=function(r){return r&&typeof r=="object"&&typeof r.copy=="function"&&typeof r.fill=="function"&&typeof r.readUInt8=="function"}},function(n,i){n.exports=function(s){return s.webpackPolyfill||(s.deprecate=function(){},s.paths=[],s.children||(s.children=[]),Object.defineProperty(s,"loaded",{enumerable:!0,get:function(){return s.l}}),Object.defineProperty(s,"id",{enumerable:!0,get:function(){return s.i}}),s.webpackPolyfill=1),s}}])})})(uu);var $m=uu.exports;const $t=Jt($m),fu=$t.object({year:$t.number().min(2023).max(new Date().getFullYear()+1).required(),month:$t.number().min(1).max(12).required(),register:$t.string().min(1).required()}),du=fu.keys({ar:$t.string().min(1).required(),cds_id:$t.number().min(1),group_id:$t.number().min(1),agent_id:$t.number().min(1)}),Zm=du;var hu={exports:{}};(function(t,e){(function(n,i){t.exports=i(le,Ci)})(typeof self<"u"?self:Pe,function(n,i){return function(){var s={156:function(o){o.exports=n},111:function(o){o.exports=i},582:function(o,d,f){f.r(d),f.d(d,{__assign:function(){return w},__asyncDelegator:function(){return z},__asyncGenerator:function(){return B},__asyncValues:function(){return D},__await:function(){return P},__awaiter:function(){return _},__classPrivateFieldGet:function(){return R},__classPrivateFieldIn:function(){return I},__classPrivateFieldSet:function(){return j},__createBinding:function(){return E},__decorate:function(){return x},__esDecorate:function(){return u},__exportStar:function(){return k},__extends:function(){return b},__generator:function(){return C},__importDefault:function(){return K},__importStar:function(){return V},__makeTemplateObject:function(){return $},__metadata:function(){return g},__param:function(){return c},__propKey:function(){return p},__read:function(){return O},__rest:function(){return v},__runInitializers:function(){return h},__setFunctionName:function(){return m},__spread:function(){return M},__spreadArray:function(){return N},__spreadArrays:function(){return F},__values:function(){return T}});var y=function(H,U){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,X){G.__proto__=X}||function(G,X){for(var Z in X)Object.prototype.hasOwnProperty.call(X,Z)&&(G[Z]=X[Z])},y(H,U)};function b(H,U){if(typeof U!="function"&&U!==null)throw new TypeError("Class extends value "+String(U)+" is not a constructor or null");function G(){this.constructor=H}y(H,U),H.prototype=U===null?Object.create(U):(G.prototype=U.prototype,new G)}var w=function(){return w=Object.assign||function(H){for(var U,G=1,X=arguments.length;G<X;G++)for(var Z in U=arguments[G])Object.prototype.hasOwnProperty.call(U,Z)&&(H[Z]=U[Z]);return H},w.apply(this,arguments)};function v(H,U){var G={};for(var X in H)Object.prototype.hasOwnProperty.call(H,X)&&U.indexOf(X)<0&&(G[X]=H[X]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function"){var Z=0;for(X=Object.getOwnPropertySymbols(H);Z<X.length;Z++)U.indexOf(X[Z])<0&&Object.prototype.propertyIsEnumerable.call(H,X[Z])&&(G[X[Z]]=H[X[Z]])}return G}function x(H,U,G,X){var Z,te=arguments.length,ne=te<3?U:X===null?X=Object.getOwnPropertyDescriptor(U,G):X;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(H,U,G,X);else for(var se=H.length-1;se>=0;se--)(Z=H[se])&&(ne=(te<3?Z(ne):te>3?Z(U,G,ne):Z(U,G))||ne);return te>3&&ne&&Object.defineProperty(U,G,ne),ne}function c(H,U){return function(G,X){U(G,X,H)}}function u(H,U,G,X,Z,te){function ne(W){if(W!==void 0&&typeof W!="function")throw new TypeError("Function expected");return W}for(var se,ie=X.kind,ce=ie==="getter"?"get":ie==="setter"?"set":"value",re=!U&&H?X.static?H:H.prototype:null,de=U||(re?Object.getOwnPropertyDescriptor(re,X.name):{}),fe=!1,we=G.length-1;we>=0;we--){var _e={};for(var Oe in X)_e[Oe]=Oe==="access"?{}:X[Oe];for(var Oe in X.access)_e.access[Oe]=X.access[Oe];_e.addInitializer=function(W){if(fe)throw new TypeError("Cannot add initializers after decoration has completed");te.push(ne(W||null))};var Me=(0,G[we])(ie==="accessor"?{get:de.get,set:de.set}:de[ce],_e);if(ie==="accessor"){if(Me===void 0)continue;if(Me===null||typeof Me!="object")throw new TypeError("Object expected");(se=ne(Me.get))&&(de.get=se),(se=ne(Me.set))&&(de.set=se),(se=ne(Me.init))&&Z.unshift(se)}else(se=ne(Me))&&(ie==="field"?Z.unshift(se):de[ce]=se)}re&&Object.defineProperty(re,X.name,de),fe=!0}function h(H,U,G){for(var X=arguments.length>2,Z=0;Z<U.length;Z++)G=X?U[Z].call(H,G):U[Z].call(H);return X?G:void 0}function p(H){return typeof H=="symbol"?H:"".concat(H)}function m(H,U,G){return typeof U=="symbol"&&(U=U.description?"[".concat(U.description,"]"):""),Object.defineProperty(H,"name",{configurable:!0,value:G?"".concat(G," ",U):U})}function g(H,U){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(H,U)}function _(H,U,G,X){return new(G||(G=Promise))(function(Z,te){function ne(ce){try{ie(X.next(ce))}catch(re){te(re)}}function se(ce){try{ie(X.throw(ce))}catch(re){te(re)}}function ie(ce){var re;ce.done?Z(ce.value):(re=ce.value,re instanceof G?re:new G(function(de){de(re)})).then(ne,se)}ie((X=X.apply(H,U||[])).next())})}function C(H,U){var G,X,Z,te,ne={label:0,sent:function(){if(1&Z[0])throw Z[1];return Z[1]},trys:[],ops:[]};return te={next:se(0),throw:se(1),return:se(2)},typeof Symbol=="function"&&(te[Symbol.iterator]=function(){return this}),te;function se(ie){return function(ce){return function(re){if(G)throw new TypeError("Generator is already executing.");for(;te&&(te=0,re[0]&&(ne=0)),ne;)try{if(G=1,X&&(Z=2&re[0]?X.return:re[0]?X.throw||((Z=X.return)&&Z.call(X),0):X.next)&&!(Z=Z.call(X,re[1])).done)return Z;switch(X=0,Z&&(re=[2&re[0],Z.value]),re[0]){case 0:case 1:Z=re;break;case 4:return ne.label++,{value:re[1],done:!1};case 5:ne.label++,X=re[1],re=[0];continue;case 7:re=ne.ops.pop(),ne.trys.pop();continue;default:if(!((Z=(Z=ne.trys).length>0&&Z[Z.length-1])||re[0]!==6&&re[0]!==2)){ne=0;continue}if(re[0]===3&&(!Z||re[1]>Z[0]&&re[1]<Z[3])){ne.label=re[1];break}if(re[0]===6&&ne.label<Z[1]){ne.label=Z[1],Z=re;break}if(Z&&ne.label<Z[2]){ne.label=Z[2],ne.ops.push(re);break}Z[2]&&ne.ops.pop(),ne.trys.pop();continue}re=U.call(H,ne)}catch(de){re=[6,de],X=0}finally{G=Z=0}if(5&re[0])throw re[1];return{value:re[0]?re[1]:void 0,done:!0}}([ie,ce])}}}var E=Object.create?function(H,U,G,X){X===void 0&&(X=G);var Z=Object.getOwnPropertyDescriptor(U,G);Z&&!("get"in Z?!U.__esModule:Z.writable||Z.configurable)||(Z={enumerable:!0,get:function(){return U[G]}}),Object.defineProperty(H,X,Z)}:function(H,U,G,X){X===void 0&&(X=G),H[X]=U[G]};function k(H,U){for(var G in H)G==="default"||Object.prototype.hasOwnProperty.call(U,G)||E(U,H,G)}function T(H){var U=typeof Symbol=="function"&&Symbol.iterator,G=U&&H[U],X=0;if(G)return G.call(H);if(H&&typeof H.length=="number")return{next:function(){return H&&X>=H.length&&(H=void 0),{value:H&&H[X++],done:!H}}};throw new TypeError(U?"Object is not iterable.":"Symbol.iterator is not defined.")}function O(H,U){var G=typeof Symbol=="function"&&H[Symbol.iterator];if(!G)return H;var X,Z,te=G.call(H),ne=[];try{for(;(U===void 0||U-- >0)&&!(X=te.next()).done;)ne.push(X.value)}catch(se){Z={error:se}}finally{try{X&&!X.done&&(G=te.return)&&G.call(te)}finally{if(Z)throw Z.error}}return ne}function M(){for(var H=[],U=0;U<arguments.length;U++)H=H.concat(O(arguments[U]));return H}function F(){for(var H=0,U=0,G=arguments.length;U<G;U++)H+=arguments[U].length;var X=Array(H),Z=0;for(U=0;U<G;U++)for(var te=arguments[U],ne=0,se=te.length;ne<se;ne++,Z++)X[Z]=te[ne];return X}function N(H,U,G){if(G||arguments.length===2)for(var X,Z=0,te=U.length;Z<te;Z++)!X&&Z in U||(X||(X=Array.prototype.slice.call(U,0,Z)),X[Z]=U[Z]);return H.concat(X||Array.prototype.slice.call(U))}function P(H){return this instanceof P?(this.v=H,this):new P(H)}function B(H,U,G){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var X,Z=G.apply(H,U||[]),te=[];return X={},ne("next"),ne("throw"),ne("return"),X[Symbol.asyncIterator]=function(){return this},X;function ne(de){Z[de]&&(X[de]=function(fe){return new Promise(function(we,_e){te.push([de,fe,we,_e])>1||se(de,fe)})})}function se(de,fe){try{(we=Z[de](fe)).value instanceof P?Promise.resolve(we.value.v).then(ie,ce):re(te[0][2],we)}catch(_e){re(te[0][3],_e)}var we}function ie(de){se("next",de)}function ce(de){se("throw",de)}function re(de,fe){de(fe),te.shift(),te.length&&se(te[0][0],te[0][1])}}function z(H){var U,G;return U={},X("next"),X("throw",function(Z){throw Z}),X("return"),U[Symbol.iterator]=function(){return this},U;function X(Z,te){U[Z]=H[Z]?function(ne){return(G=!G)?{value:P(H[Z](ne)),done:!1}:te?te(ne):ne}:te}}function D(H){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var U,G=H[Symbol.asyncIterator];return G?G.call(H):(H=T(H),U={},X("next"),X("throw"),X("return"),U[Symbol.asyncIterator]=function(){return this},U);function X(Z){U[Z]=H[Z]&&function(te){return new Promise(function(ne,se){(function(ie,ce,re,de){Promise.resolve(de).then(function(fe){ie({value:fe,done:re})},ce)})(ne,se,(te=H[Z](te)).done,te.value)})}}}function $(H,U){return Object.defineProperty?Object.defineProperty(H,"raw",{value:U}):H.raw=U,H}var q=Object.create?function(H,U){Object.defineProperty(H,"default",{enumerable:!0,value:U})}:function(H,U){H.default=U};function V(H){if(H&&H.__esModule)return H;var U={};if(H!=null)for(var G in H)G!=="default"&&Object.prototype.hasOwnProperty.call(H,G)&&E(U,H,G);return q(U,H),U}function K(H){return H&&H.__esModule?H:{default:H}}function R(H,U,G,X){if(G==="a"&&!X)throw new TypeError("Private accessor was defined without a getter");if(typeof U=="function"?H!==U||!X:!U.has(H))throw new TypeError("Cannot read private member from an object whose class did not declare it");return G==="m"?X:G==="a"?X.call(H):X?X.value:U.get(H)}function j(H,U,G,X,Z){if(X==="m")throw new TypeError("Private method is not writable");if(X==="a"&&!Z)throw new TypeError("Private accessor was defined without a setter");if(typeof U=="function"?H!==U||!Z:!U.has(H))throw new TypeError("Cannot write private member to an object whose class did not declare it");return X==="a"?Z.call(H,G):Z?Z.value=G:U.set(H,G),G}function I(H,U){if(U===null||typeof U!="object"&&typeof U!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof H=="function"?U===H:H.has(U)}d.default={__extends:b,__assign:w,__rest:v,__decorate:x,__param:c,__metadata:g,__awaiter:_,__generator:C,__createBinding:E,__exportStar:k,__values:T,__read:O,__spread:M,__spreadArrays:F,__spreadArray:N,__await:P,__asyncGenerator:B,__asyncDelegator:z,__asyncValues:D,__makeTemplateObject:$,__importStar:V,__importDefault:K,__classPrivateFieldGet:R,__classPrivateFieldSet:j,__classPrivateFieldIn:I}}},r={};function a(o){var d=r[o];if(d!==void 0)return d.exports;var f=r[o]={exports:{}};return s[o](f,f.exports,a),f.exports}a.d=function(o,d){for(var f in d)a.o(d,f)&&!a.o(o,f)&&Object.defineProperty(o,f,{enumerable:!0,get:d[f]})},a.o=function(o,d){return Object.prototype.hasOwnProperty.call(o,d)},a.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})};var l={};return function(){var o=l;Object.defineProperty(o,"__esModule",{value:!0}),o.useReactToPrint=o.PrintContextConsumer=void 0;var d=a(582),f=a(156),y=a(111),b=Object.prototype.hasOwnProperty.call(f,"createContext"),w=Object.prototype.hasOwnProperty.call(f,"useMemo")&&Object.prototype.hasOwnProperty.call(f,"useCallback"),v=b?f.createContext({}):null;o.PrintContextConsumer=v?v.Consumer:function(){return null};var x={copyStyles:!0,pageStyle:`
        @page {
            /* Remove browser default header (title) and footer (url) */
            margin: 0;
        }
        @media print {
            body {
                /* Tell browsers to print background colors */
                -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
                color-adjust: exact; /* Firefox */
            }
        }
    `,removeAfterPrint:!1,suppressErrors:!1},c=function(u){function h(){var p=u!==null&&u.apply(this,arguments)||this;return p.startPrint=function(m){var g=p.props,_=g.onAfterPrint,C=g.onPrintError,E=g.print,k=g.documentTitle;setTimeout(function(){var T,O;if(m.contentWindow)if(m.contentWindow.focus(),E)E(m).then(function(){return _==null?void 0:_()}).then(function(){return p.handleRemoveIframe()}).catch(function(N){C?C("print",N):p.logMessages(["An error was thrown by the specified `print` function"])});else{if(m.contentWindow.print){var M=(O=(T=m.contentDocument)===null||T===void 0?void 0:T.title)!==null&&O!==void 0?O:"",F=m.ownerDocument.title;k&&(m.ownerDocument.title=k,m.contentDocument&&(m.contentDocument.title=k)),m.contentWindow.print(),k&&(m.ownerDocument.title=F,m.contentDocument&&(m.contentDocument.title=M))}else p.logMessages(["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."]);_==null||_(),p.handleRemoveIframe()}else p.logMessages(["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/gregnb/react-to-print/issues/"])},500)},p.triggerPrint=function(m){var g=p.props,_=g.onBeforePrint,C=g.onPrintError;if(_){var E=_();E&&typeof E.then=="function"?E.then(function(){p.startPrint(m)}).catch(function(k){C&&C("onBeforePrint",k)}):p.startPrint(m)}else p.startPrint(m)},p.handleClick=function(){var m=p.props,g=m.onBeforeGetContent,_=m.onPrintError;if(g){var C=g();C&&typeof C.then=="function"?C.then(p.handlePrint).catch(function(E){_&&_("onBeforeGetContent",E)}):p.handlePrint()}else p.handlePrint()},p.handlePrint=function(){var m=p.props,g=m.bodyClass,_=m.content,C=m.copyStyles,E=m.fonts,k=m.pageStyle,T=m.nonce,O=_();if(O!==void 0)if(O!==null){var M=document.createElement("iframe");M.width="".concat(document.documentElement.clientWidth,"px"),M.height="".concat(document.documentElement.clientHeight,"px"),M.style.position="absolute",M.style.top="-".concat(document.documentElement.clientHeight+100,"px"),M.style.left="-".concat(document.documentElement.clientWidth+100,"px"),M.id="printWindow",M.srcdoc="<!DOCTYPE html>";var F=(0,y.findDOMNode)(O);if(F){var N=F.cloneNode(!0),P=N instanceof Text,B=document.querySelectorAll("link[rel='stylesheet']"),z=P?[]:N.querySelectorAll("img"),D=P?[]:N.querySelectorAll("video"),$=E?E.length:0;p.numResourcesToLoad=B.length+z.length+D.length+$,p.resourcesLoaded=[],p.resourcesErrored=[];var q=function(V,K){p.resourcesLoaded.includes(V)?p.logMessages(["Tried to mark a resource that has already been handled",V],"debug"):(K?(p.logMessages(d.__spreadArray(['"react-to-print" was unable to load a resource but will continue attempting to print the page'],d.__read(K),!1)),p.resourcesErrored.push(V)):p.resourcesLoaded.push(V),p.resourcesLoaded.length+p.resourcesErrored.length===p.numResourcesToLoad&&p.triggerPrint(M))};M.onload=function(){var V,K,R,j;M.onload=null;var I=M.contentDocument||((K=M.contentWindow)===null||K===void 0?void 0:K.document);if(I){I.body.appendChild(N),E&&(!((R=M.contentDocument)===null||R===void 0)&&R.fonts&&(!((j=M.contentWindow)===null||j===void 0)&&j.FontFace)?E.forEach(function(Q){var J=new FontFace(Q.family,Q.source,{weight:Q.weight,style:Q.style});M.contentDocument.fonts.add(J),J.loaded.then(function(){q(J)}).catch(function(ee){q(J,["Failed loading the font:",J,"Load error:",ee])})}):(E.forEach(function(Q){return q(Q)}),p.logMessages(['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'])));var H=typeof k=="function"?k():k;if(typeof H!="string")p.logMessages(['"react-to-print" expected a "string" from `pageStyle` but received "'.concat(typeof H,'". Styles from `pageStyle` will not be applied.')]);else{var U=I.createElement("style");T&&(U.setAttribute("nonce",T),I.head.setAttribute("nonce",T)),U.appendChild(I.createTextNode(H)),I.head.appendChild(U)}if(g&&(V=I.body.classList).add.apply(V,d.__spreadArray([],d.__read(g.split(" ")),!1)),!P){for(var G=P?[]:F.querySelectorAll("canvas"),X=I.querySelectorAll("canvas"),Z=0;Z<G.length;++Z){var te=G[Z],ne=X[Z].getContext("2d");ne&&ne.drawImage(te,0,0)}var se=function(Q){var J=z[Q],ee=J.getAttribute("src");if(ee){var ue=new Image;ue.onload=function(){return q(J)},ue.onerror=function(pe,Ee,Le,me,Re){return q(J,["Error loading <img>",J,"Error",Re])},ue.src=ee}else q(J,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it. The <img> is:',J])};for(Z=0;Z<z.length;Z++)se(Z);var ie=function(Q){var J=D[Q];J.preload="auto";var ee=J.getAttribute("poster");if(ee){var ue=new Image;ue.onload=function(){return q(J)},ue.onerror=function(pe,Ee,Le,me,Re){return q(J,["Error loading video poster",ee,"for video",J,"Error:",Re])},ue.src=ee}else J.readyState>=2?q(J):(J.onloadeddata=function(){return q(J)},J.onerror=function(pe,Ee,Le,me,Re){return q(J,["Error loading video",J,"Error",Re])},J.onstalled=function(){return q(J,["Loading video stalled, skipping",J])})};for(Z=0;Z<D.length;Z++)ie(Z);var ce="input",re=F.querySelectorAll(ce),de=I.querySelectorAll(ce);for(Z=0;Z<re.length;Z++)de[Z].value=re[Z].value;var fe="input[type=checkbox],input[type=radio]",we=F.querySelectorAll(fe),_e=I.querySelectorAll(fe);for(Z=0;Z<we.length;Z++)_e[Z].checked=we[Z].checked;var Oe="select",Me=F.querySelectorAll(Oe),W=I.querySelectorAll(Oe);for(Z=0;Z<Me.length;Z++)W[Z].value=Me[Z].value}if(C)for(var A=document.querySelectorAll("style, link[rel='stylesheet']"),L=function(Q,J){var ee=A[Q];if(ee.tagName.toLowerCase()==="style"){var ue=I.createElement(ee.tagName),pe=ee.sheet;if(pe){var Ee="";try{for(var Le=pe.cssRules.length,me=0;me<Le;++me)typeof pe.cssRules[me].cssText=="string"&&(Ee+="".concat(pe.cssRules[me].cssText,`\r
`))}catch{p.logMessages(["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/gregnb/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",ee],"warning")}ue.setAttribute("id","react-to-print-".concat(Q)),T&&ue.setAttribute("nonce",T),ue.appendChild(I.createTextNode(Ee)),I.head.appendChild(ue)}}else if(ee.getAttribute("href"))if(ee.hasAttribute("disabled"))p.logMessages(["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",ee],"warning"),q(ee);else{for(var Re=I.createElement(ee.tagName),et=(me=0,ee.attributes.length);me<et;++me){var Et=ee.attributes[me];Et&&Re.setAttribute(Et.nodeName,Et.nodeValue||"")}Re.onload=function(){return q(Re)},Re.onerror=function(Oi,zn,Rb,Db,Tf){return q(Re,["Failed to load",Re,"Error:",Tf])},T&&Re.setAttribute("nonce",T),I.head.appendChild(Re)}else p.logMessages(["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",ee],"warning"),q(ee)},Y=(Z=0,A.length);Z<Y;++Z)L(Z)}p.numResourcesToLoad!==0&&C||p.triggerPrint(M)},p.handleRemoveIframe(!0),document.body.appendChild(M)}else p.logMessages(['"react-to-print" could not locate the DOM node corresponding with the `content` prop'])}else p.logMessages(['There is nothing to print because the "content" prop returned "null". Please ensure "content" is renderable before allowing "react-to-print" to be called.']);else p.logMessages(["To print a functional component ensure it is wrapped with `React.forwardRef`, and ensure the forwarded ref is used. See the README for an example: https://github.com/gregnb/react-to-print#examples"])},p.handleRemoveIframe=function(m){var g=p.props.removeAfterPrint;if(m||g){var _=document.getElementById("printWindow");_&&document.body.removeChild(_)}},p.logMessages=function(m,g){g===void 0&&(g="error"),p.props.suppressErrors||(g==="error"?console.error(m):g==="warning"?console.warn(m):g==="debug"&&console.debug(m))},p}return d.__extends(h,u),h.prototype.render=function(){var p=this.props,m=p.children,g=p.trigger;if(g)return f.cloneElement(g(),{onClick:this.handleClick});if(!v)return this.logMessages(['"react-to-print" requires React ^16.3.0 to be able to use "PrintContext"']),null;var _={handlePrint:this.handleClick};return f.createElement(v.Provider,{value:_},m)},h.defaultProps=x,h}(f.Component);o.default=c,o.useReactToPrint=function(u){if(!w)return u.suppressErrors||console.error('"react-to-print" requires React ^16.8.0 to be able to use "useReactToPrint"'),function(){throw new Error('"react-to-print" requires React ^16.8.0 to be able to use "useReactToPrint"')};var h=f.useMemo(function(){return new c(d.__assign(d.__assign({},x),u))},[u]);return f.useCallback(function(){return h.handleClick()},[h])}}(),l}()})})(hu);var Ym=hu.exports;function Km({cols:t,rows:e}){return S.jsxs("table",{className:"table caneva_table_item",children:[S.jsx("thead",{children:S.jsx("tr",{children:t.map(n=>S.jsx("th",{children:n||"-----------"}))})}),S.jsx("tbody",{children:e.map(n=>S.jsx("tr",{children:n.map(i=>Array.isArray(i)?S.jsx("td",{children:S.jsx("div",{className:"flex",style:{justifyContent:"space-between",textAlign:"left",gap:"5rem"},children:i.map(s=>S.jsx("p",{style:{width:"50%"},children:s.value}))})}):S.jsx("td",{children:i.value}))}))})]})}function Xm({label:t,cols:e,rows:n}){const i=oe.useRef(),{Data:s}=ge(),r=Ym.useReactToPrint({content(){return i.current}}),a=async()=>{r()};return S.jsxs("div",{ref:i,children:[S.jsxs("div",{className:"caneva-table flex",children:[S.jsx("div",{className:"flex",style:{padding:"0.5rem",cursor:"pointer",width:"2rem",height:"2rem",borderRadius:"50%"},onClick:l=>{const{Close:o,Open:d}=nu(l);d([{label:s.print,icon:"fa-solid fa-print",onClick:async()=>a().finally(o)},{label:s.share,icon:"fas fa-share",style:{color:"var(--gridColor)"}},{label:s.close,icon:"fas fa-times",style:{color:"var(--redErrorColor)"},onClick:o}])},children:S.jsx("i",{className:"fa-solid fa-ellipsis-vertical"})}),S.jsx("h3",{children:t||"----------------"})]}),S.jsx(Km,{cols:e,rows:n})]})}function pu({data:t}){const{GetTextLanguage:e}=ge({fr:{error_display_ct:"Impossible d'afficher le table $1."},en:{error_display_ct:"Unable to display table $1."}}),n=_n();return t=t.reduce((i,s)=>[...i,...s.data.data],[]),t=t.filter(i=>(i.label||"").toLowerCase().includes(n.toLowerCase())),S.jsx(Lm,{children_style:{alignItems:"flex-start"},style:{padding:"2rem"},children:t.map((i,s)=>S.jsx(qe,{default_message:e("error_display_ct",i.label),children:S.jsx(Xm,{...i})},i.label||`#ID${s}`))})}function Hs({api_params:t={}}){const{Data:e}=ge(),{data:n,setter:i}=Nf({}),s=o=>i(o.target.name,o.target.value),{data:r,refetch:a,isFetching:l}=je({enabled:!1,initialData:{data:[],params:{}},queryKey:[`caneva-level-${JSON.stringify(t)}`],queryFn:async()=>{const{year:o,month:d}=n;return he.get(`caneva/${n.register}/`,{params:{...t,year:o,month:d}}).then(f=>({data:f,params:n}))}});return oe.useEffect(()=>{mo(fu,n).then(o=>a()).catch(console.error)},[n]),S.jsxs("div",{className:"flex",style:{height:"100%",flexDirection:"column",overflow:"hidden",alignItems:"stretch"},children:[S.jsxs("div",{className:"flex",style:{padding:"0rem 0.5rem",gap:"1rem",justifyContent:"space-between"},children:[S.jsxs("div",{className:"flex",style:{gap:"1rem",width:"40%"},children:[S.jsx(Vm,{name:"year",onChange:s}),S.jsx(Um,{name:"month",onChange:s}),S.jsx(Wm,{name:"register",onChange:s})]}),S.jsx(cu,{data:r.data,params:r.params})]}),l&&S.jsx("div",{style:{padding:"1rem"},children:S.jsx(Ne,{})}),S.jsx(qe,{style:{height:"100%"},default_message:e.cannot_display_the_canvas_at_the_moment,children:S.jsx(pu,{data:r.data})})]})}function gu({title:t="AGENT FORM",showHeader:e=!0,defaultValues:n={}}){const i=As(),{id:s,group_id:r}=n,{Data:a,GetTextLanguage:l}=ge(),o=Xt(["agent",`agent-get-${s}`]),{register:d,watch:f,setValue:y,handleSubmit:b,getValues:w,formState:v}=Fn({defaultValues:n}),x=Object.keys(v.dirtyFields).reduce((g,_)=>({...g,[_]:w(_)}),{}),{isLoading:c,mutate:u}=Pt({mutationKey:["agent-save"],mutationFn:async g=>s?he.patch(`agent/${s}/`,x):he.post("agent/",g),onError:()=>Ce.error("Agent not saved."),onSuccess:()=>{o(),Ce.success("Agent saved successfully.")}});oe.useEffect(()=>{Object.keys(n).forEach(g=>y(g,n[g]))},[s]);const h=Ur(),p=oe.useCallback(async g=>h({name__icontains:g}).then(_=>_.map(({id:C,name:E})=>({id:C,label:E,selected:C===r}))),[]),m=oe.useCallback(async()=>r?he.get("group/",{params:{id:r}}).then(g=>g.map(({id:_,name:C})=>({id:_,label:C}))):[],[s]);return S.jsxs(S.Fragment,{children:[S.jsx("div",{style:{display:!e&&"none",borderBottom:"0.1rem solid var(--primaryColor)",paddingBottom:"0.5rem"},children:S.jsx("h3",{children:t})}),S.jsxs("div",{className:"agent-user-form scroll flex",children:[S.jsxs("form",{className:"flex",onSubmit:b(u),children:[S.jsxs(vn,{children:[S.jsx("input",{className:"input",required:!0,placeholder:a.username,...d("username")}),S.jsx("input",{disabled:s,className:"input",required:!0,placeholder:a.password,...d("password")})]}),S.jsxs(vn,{children:[S.jsx("input",{className:"input",required:!0,placeholder:a.fullname,...d("fullname")}),S.jsx("input",{className:"input",required:!0,placeholder:a.phone,...d("phone")})]}),S.jsx("input",{className:"input",placeholder:a.email,...d("email")}),S.jsx("input",{className:"input",required:!0,placeholder:a.address,...d("address")}),S.jsx(vo,{defaultValue:w("profile"),...d("profile"),folder:i.folder.AGENT_PROFILE}),S.jsx(Ai,{onFilter:p,...d("group_id"),placeholder:l("searching_on","GASC"),onDefaultValue:m}),c?S.jsx(Ne,{}):S.jsx(bt,{buttonText:a.save,iconClass:"fa-solid fa-floppy-disk"})]}),S.jsxs("div",{style:{width:"100%",gap:"0.5rem",flexDirection:"column",alignItems:"stretch",marginBottom:"1rem"},className:"flex",children:[S.jsx(Se,{title:a.username,value:f("username")}),S.jsx(Se,{title:a.password,disabled:s,value:f("password")}),S.jsx(Se,{title:a.fullname,value:f("fullname")}),S.jsx(Se,{title:a.phone,value:f("phone")}),S.jsx(Se,{title:a.email,value:f("email")}),S.jsx(Se,{title:a.address,value:f("address")}),S.jsx(Se,{title:a.profile_picture,value:S.jsx(_t,{src:f("profile"),style:{width:"1.5rem",height:"1.5rem",borderRadius:"50%"}})})]})]})]})}function Gm({id:t}){return S.jsx(Us,{initialData:[],queryKey:[`caneva-activity-agent-get-${t}`],queryFn:async()=>he.get("caneva/caneva-activity/",{params:{login_history__agent_id:t}})})}function Qm({id:t}){return S.jsx(_o,{initialData:[],queryKey:[`backup-activity-agent-get-${t}`],queryFn:async()=>he.get("backup/backup-activity/",{params:{login_history__agent_id:t}})})}function Jm({id:t}){const[e,n]=oe.useState({}),{isFetching:i,data:s,refetch:r}=je({queryKey:[`agent-map-history-${t}`],queryFn:async()=>he.post("geo/read/",{input:{agent_id:t},fields:{}},{headers:e}),enabled:!1});return oe.useEffect(()=>{e["x-data-day-time"]&&r()},[e["x-data-day-time"]]),console.log(s),S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"agent-user-map-filter flex",style:{justifyContent:"flex-end",marginBottom:"0.5rem",gap:"1rem"},children:S.jsx("input",{type:"date",className:"input",name:"x-data-day-time",max:new Date().toISOString(),value:e["x-data-day-time"],onChange:({target:{name:a,value:l}})=>n({"x-data-year-time":l.split("-")[0],[a]:l})})}),i?S.jsx(Ne,{style:{margin:"0.5rem"}}):S.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m13!1m8!1m3!1d15686.825371082194!2d29.784879000000004!3d-4.279782!3m2!1i1024!2i768!4f13.1!3m2!1m1!2zNMKwMTYnMzYuOCJTIDI5wrA0NycwNC42IkU!5e1!3m2!1sen!2sus!4v1687442242179!5m2!1sen!2sus",width:"100%",height:"100%",style:{overflow:"hidden",background:"non!important",height:"100%",width:"100%",borderRadius:".3rem"},allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})]})}function e1({id:t}){return S.jsx(mu,{queryKey:[`login-activity-${t}`],queryFn:async()=>he.get("login-activity/login-activity/",{params:{agent_id:t}})})}function Vs({AgentId:t}){const{Data:e,GetTextLanguage:n}=ge(),{SuperUser:i,AdminGasc:s,AdminStaticsViewer:r}=xn(),a=Xt(["agent",`agent-get-${t}`]),{isLoading:l,data:o}=je({initialData:{},queryKey:[`agent-get-${t}`],queryFn:async()=>he.get(`agent/${t}/`)}),d=Pt({mutationKey:["agent-save"],mutationFn:async f=>he.patch(`agent/${t}/`,f),onError:()=>Ce.error("Agent not saved."),onSuccess:()=>{a(),Ce.success("Agent successfully activated 👌")}});return console.log(o),l?S.jsx(Ne,{}):S.jsxs("div",{className:"agent-user-detail flex",children:[S.jsxs("div",{style:{position:"sticky",top:"0rem",backgroundColor:"var(--bgd)",marginBottom:"0.5rem"},children:[S.jsxs("div",{className:"flex",style:{justifyContent:"space-between"},children:[S.jsx("div",{className:"flex",style:{gap:"0.3rem",padding:"0.5rem 0rem"},children:[{link:"form",label:e.update,icon:"fas fa-pen"},{link:"caneva",label:"HCVS",icon:"fas fa-book"},{link:"backup",label:"HBKS",icon:"fas fa-book"},{link:"caneva-data",label:"Caneva",icon:"fas fa-book"},{link:"map",label:e.map_history,icon:"fas fa-map"},{link:"login-history",label:e.login_history,icon:"fas fa-user"}].map(({link:f,label:y,icon:b})=>S.jsx(bo,{to:f,children:S.jsxs("div",{className:"link-icon flex",style:{gap:"0.5rem"},children:[S.jsx("i",{className:b}),S.jsx("p",{children:y})]})}))}),S.jsx($e,{levels:[s],children:S.jsx(su,{checked:o.actif,isLoading:d.isLoading,onChange:({target:{checked:f}})=>d.mutate({actif:f})})})]}),S.jsxs("div",{className:"agent-user-detail-header flex",style:{gap:"0.5rem",justifyContent:"space-between"},children:[S.jsx(Se,{title:S.jsxs(S.Fragment,{children:[S.jsx("i",{className:"fas fa-clock"})," ",e.loged_at]}),value:o.login_time?new Date(o.login_time).toLocaleString():"---------"}),S.jsx(Se,{title:S.jsxs(S.Fragment,{children:[S.jsx("i",{className:"fas fa-clock"})," ",e.logout_at]}),value:o.logout_time?new Date(o.logout_time).toLocaleString():"---------"}),S.jsx(Se,{title:S.jsxs(S.Fragment,{children:[S.jsx("i",{className:"fas fa-clock"})," ",n("last_sync","CVS")]}),value:o.caneva_last_sync?new Date(o.caneva_last_sync).toLocaleString():"---------"}),S.jsx(Se,{title:S.jsxs(S.Fragment,{children:[S.jsx("i",{className:"fas fa-clock"})," ",n("last_sync","BKS")]}),value:o.backup_last_sync?new Date(o.backup_last_sync).toLocaleString():"---------"})]})]}),S.jsxs(wn,{children:[S.jsx(ye,{index:!0,path:"form",element:S.jsx($e,{levels:[s],showMessage:!0,children:S.jsx(gu,{showHeader:!1,title:`UPDATE ${o.fullname} INFORMATION`.toUpperCase(),defaultValues:o})})}),S.jsx(ye,{path:"caneva",element:S.jsx($e,{levels:[i,s,r],showMessage:!0,children:S.jsx(Gm,{...o})})}),S.jsx(ye,{path:"backup",element:S.jsx($e,{levels:[s],showMessage:!0,children:S.jsx(Qm,{...o})})}),S.jsx(ye,{path:"caneva-data",element:S.jsx($e,{levels:[i,s,r],showMessage:!0,children:S.jsx(yo,{children:S.jsx(Hs,{api_params:{agent_id:o.id}})})})}),S.jsx(ye,{path:"map",element:S.jsx($e,{levels:[s],showMessage:!0,children:S.jsx(Jm,{...o})})}),S.jsx(ye,{path:"login-history",element:S.jsx($e,{levels:[s],showMessage:!0,children:S.jsx(e1,{...o})})}),S.jsx(ye,{path:"*",element:S.jsx(Bn,{})})]})]})}function In({data:t=[],isLoading:e,onSelect:n=()=>null}){const i=Object.keys(t[0]??{}).filter(s=>s!=="id");return S.jsxs("table",{className:"table",children:[S.jsx("thead",{children:S.jsxs("tr",{children:[" ",i.map(s=>S.jsx("th",{children:s}))," "]})}),S.jsxs("tbody",{children:[e&&S.jsx("tr",{children:S.jsx("td",{colSpan:i.length,children:S.jsx(Ne,{})})}),t.map(s=>S.jsx("tr",{onClick:()=>n(s.id,s),children:i.map(r=>S.jsx("td",{children:s[r]}))}))]}),S.jsx("thead",{children:S.jsxs("tr",{children:[" ",i.map(s=>S.jsx("th",{children:s}))," "]})})]})}function Us({initialData:t=[],queryKey:e,queryFn:n}){const{Data:i}=ge(),{isFetching:s,data:r}=je({initialData:t,queryKey:e,queryFn:n});return S.jsxs(S.Fragment,{children:[!s&&!r.length&&S.jsx(vt,{text:i.no_data_to_display}),S.jsx(In,{isLoading:s,data:r.map(a=>({[i.period]:`${a.year}/${a.month.toString().padStart(2,"0")}`,[i.ip]:a.ip,[i.at]:a.created_at?new Date(a.created_at).toLocaleString():"-------------",[i.longitude]:a.longitude,[i.latitude]:a.latitude}))})]})}const _o=Us;function mu({initialData:t=[],queryKey:e,queryFn:n}){const{Data:i}=ge(),{isFetching:s,data:r}=je({initialData:t,queryKey:e,queryFn:n});return S.jsxs(S.Fragment,{children:[!s&&!r.length&&S.jsx(vt,{text:i.no_data_to_display}),S.jsx(In,{isLoading:s,data:r.map(a=>({id:a.id,[i.device_brand]:a.device_name,[i.at]:a.time?new Date(a.time).toLocaleString():"--------",[i.ip]:a.ip}))})]})}function xo({initialData:t=[],queryKey:e,queryFn:n,enabled:i=!0,onSelect:s=()=>null,viewDetail:r}){const{Data:a}=ge(),[l,o]=oe.useState(),{isFetching:d,data:f}=je({enabled:i,initialData:t,queryFn:n,queryKey:e});return S.jsxs(S.Fragment,{children:[!d&&!f.length&&S.jsx(vt,{text:a.no_data_to_display}),r&&S.jsx(jt,{show:l,closer:()=>o(),style:{paddingTop:"0rem"},modal_style:{width:"70vw",height:"80vh"},children:S.jsx(Vs,{AgentId:l}),title:S.jsx("p",{className:"uppercase",children:a.view_more_informations})}),S.jsx(In,{isLoading:d,onSelect:(y,b)=>{o(y),s(y,f.find(w=>w.id===y))},data:f.map(y=>({id:y.id,"":S.jsx("div",{className:"flex",children:S.jsx("i",{className:`icon fas fa-${y.actif?"check":"times"}`})}),[a.fullname]:y.fullname,[a.username]:y.username,[a.email]:y.email,[a.phone]:y.phone,[a.address]:y.address}))})]})}function yu({initialData:t=[],queryKey:e,queryFn:n}){const{Data:i}=ge(),{isFetching:s,data:r}=je({initialData:t,queryKey:e,queryFn:n});return S.jsxs(S.Fragment,{children:[!s&&!r.length&&S.jsx(vt,{text:i.no_data_to_display}),S.jsx(In,{isLoading:s,data:r.map(a=>({id:a.id,[i.name]:a.name,[i.code]:a.code}))})]})}function t1({initialData:t=[],queryKey:e,queryFn:n}){const{Data:i}=ge(),{isFetching:s,data:r}=je({initialData:t,queryKey:e,queryFn:n});return S.jsxs(S.Fragment,{children:[!s&&!r.length&&S.jsx(vt,{text:i.no_data_to_display}),S.jsx(In,{isLoading:s,data:r.map(a=>({id:a.id,[i.name]:a.name,[i.email]:a.email,[i.phone]:a.phone,[i.address]:a.address,[i.site]:a.site}))})]})}const bu="label";function ml(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function n1(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function vu(t,e){t.labels=e}function _u(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:bu;const i=[];t.datasets=e.map(s=>{const r=t.datasets.find(a=>a[n]===s[n]);return!r||!s.data||i.includes(r)?{...s}:(i.push(r),Object.assign(r,s),r)})}function i1(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:bu;const n={labels:[],datasets:[]};return vu(n,t.labels),_u(n,t.datasets,e),n}function s1(t,e){const{height:n=150,width:i=300,redraw:s=!1,datasetIdKey:r,type:a,data:l,options:o,plugins:d=[],fallbackContent:f,updateMode:y,...b}=t,w=le.useRef(null),v=le.useRef(),x=()=>{w.current&&(v.current=new Ps(w.current,{type:a,data:i1(l,r),options:o&&{...o},plugins:d}),ml(e,v.current))},c=()=>{ml(e,null),v.current&&(v.current.destroy(),v.current=null)};return le.useEffect(()=>{!s&&v.current&&o&&n1(v.current,o)},[s,o]),le.useEffect(()=>{!s&&v.current&&vu(v.current.config.data,l.labels)},[s,l.labels]),le.useEffect(()=>{!s&&v.current&&l.datasets&&_u(v.current.config.data,l.datasets,r)},[s,l.datasets]),le.useEffect(()=>{v.current&&(s?(c(),setTimeout(x)):v.current.update(y))},[s,o,l.labels,l.datasets,y]),le.useEffect(()=>{v.current&&(c(),setTimeout(x))},[a]),le.useEffect(()=>(x(),()=>c()),[]),oe.createElement("canvas",Object.assign({ref:w,role:"img",height:n,width:i},b),f)}const r1=le.forwardRef(s1);function o1(t,e){return Ps.register(e),le.forwardRef((n,i)=>oe.createElement(r1,Object.assign({},n,{ref:i,type:t})))}const xu=o1("bar",oi),a1={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Chart.js Bar Chart"}}};function wu({Component:t,Title:e,callback:n,queryKey:i=[],ForwardProps:s={}}){const{isFetching:r,data:a}=je({queryFn:n,queryKey:i}),l=JSON.parse(JSON.stringify(a1));return l.plugins.title.text=e||"",r?S.jsx("div",{className:"flex",style:{height:"100%"},children:S.jsx(Ne,{})}):S.jsx(S.Fragment,{children:a.map(o=>S.jsxs("div",{style:{width:"100%"},children:[S.jsx("h3",{style:{padding:"0.5rem 0rem",borderBottom:"0.1rem solid var(--primaryColor)",borderTop:"0.1rem solid var(--primaryColor)"},children:o.title}),S.jsx(t,{options:l,data:o.data,...s})]}))})}function l1(t){var s;const e=["agents","actif_agent","no_actif_agent","backup_sync","caneva_activity","login_activity"],n={};t.forEach(r=>e.forEach(a=>{a in n||(n[a]=0),n[a]+=r[a]}));const i=t.map(r=>{let a=e.reduce((l,o)=>({...l,[o]:r[o]}),{});return{gasc_data:a,label:r.gasc_name,data:Object.keys(a).map(l=>a[l])}});return{MERGE_DATA:n,MERGE_ENTITIES_DATA:{data:{labels:Object.keys(n).map(r=>r.toUpperCase().replaceAll("_"," ")),datasets:[{label:"",data:Object.values(n)}]},raw:[],title:`DATA MERGED AND COMPILED FOR ${t.length} GASC`},ENTITIES_DATA:{data:{labels:Object.keys(i[0]?(s=i[0])==null?void 0:s.gasc_data:{}).map(r=>r.toUpperCase().replaceAll("_"," ")),datasets:i},raw:[],title:`DATA MERGED AND COMPILED PER GASC ( ${t.length} )`}}}function c1({onSelect:t}){const e=Ur(),n=_n(),{Data:i}=ge(),[s,r]=le.useState(),{isFetching:a,data:l}=je({initialData:[],queryKey:[`group-filter-${n}`],queryFn:async()=>e({name__icontains:n})});return S.jsxs("div",{className:"group-list flex",children:[S.jsx("div",{className:"list-header",children:S.jsxs("p",{className:"uppercase",style:{fontWeight:"bold"},children:[i.search," : ",n]})}),a&&S.jsx("div",{className:"flex",style:{paddingBottom:"1rem",alignItems:"flex-start"},children:S.jsx(po,{color:"#36d7b7"})}),S.jsx("div",{className:"group-list-container scroll flex",children:l.map(o=>S.jsx(u1,{...o,Selected:s===o.id,onClick:()=>{t(o),r(o.id)}},o.id))})]})}function u1(t){const{name:e,code:n,onClick:i,Selected:s}=t;return S.jsxs("div",{className:`group-small-viewv2 group-small-view-info flex ${s?"selected":""}`,children:[S.jsxs("div",{children:[S.jsx("h5",{className:"group-small-viewv2-name",children:e}),S.jsx("p",{className:"group-small-viewv2-code",children:n})]}),S.jsx("i",{className:"fas fa-arrow-right group-small-viewv2-icon",style:{padding:"0.5rem",borderRadius:"0.5rem"},onClick:r=>{r.stopPropagation(),i&&i(t)}})]})}function wo({defaultValues:t={}}){const{Data:e,GetTextLanguage:n}=ge(),{register:i,handleSubmit:s,setValue:r,getValues:a,watch:l}=Fn({defaultValues:t}),{id:o,cs_id:d}=a(),f=Xt(["group-filter-","group-save",`group-get-${o}`]),{isLoading:y,mutate:b}=Pt({mutationKey:["group-save"],mutationFn:x=>o?he.patch(`group/${o}/`,x):he.post("group/",x),onSuccess:()=>{f(),Ce.success(e.updated)}});oe.useEffect(()=>{Object.keys(t).forEach(x=>r(x,t[x]))},[t==null?void 0:t.id]);const w=Dl(),v=oe.useCallback(async x=>w(x?{name__icontains:x}:{id:d}).then(c=>c.map(({id:u,name:h})=>({id:u,label:h,selected:u===d}))),[]);return S.jsxs(S.Fragment,{children:[S.jsx("div",{style:{marginBottom:"0.5rem"}}),S.jsxs("h3",{className:"admin-user-detail-title uppercase",children:[e.information," (s)"]}),S.jsxs("div",{style:{gap:"0.5rem",flexDirection:"column",alignItems:"stretch",marginBottom:"1rem"},className:"flex",children:[S.jsx(Se,{title:e.name,type:"",value:l("name")}),S.jsx(Se,{title:e.code,type:"",value:l("code")})]}),S.jsx("h3",{className:"admin-user-detail-title uppercase",children:e.form}),S.jsxs("form",{onSubmit:s(b),className:"group-form flex",style:{gap:"0.5rem",flexDirection:"column",alignItems:"stretch"},children:[S.jsxs(vn,{children:[S.jsx("input",{className:"input",required:!0,placeholder:e.name,...i("name")}),S.jsx("input",{className:"input",required:!0,placeholder:e.code,...i("code")})]}),S.jsx(Ai,{...i("cs_id"),placeholder:n("searching_on","CDS"),onFilter:v}),y?S.jsx(Ne,{}):S.jsx(bt,{type:"submit",disabled:y,buttonText:e.save,iconClass:"fa-solid fa-floppy-disk"})]})]})}function f1({GroupId:t}){return S.jsx(mu,{queryKey:[`group-lh-${t}`],queryFn:()=>he.get("login-activity/",{params:{agent__group_id:t}})})}function d1({GroupId:t}){return S.jsx(Us,{initialData:[],queryKey:[`caneva-activity-gasc-get-${t}`],queryFn:async()=>he.get("caneva/caneva-activity/",{params:{login_history__agent__group_id:t}})})}function h1({GroupId:t}){return S.jsx(_o,{queryKey:[`backup-activity-gasc-get-${t}`],queryFn:async()=>he.get("backup/backup-activity/",{params:{login_history__agent__group_id:t}})})}function p1({GroupId:t}){return S.jsx(xo,{viewDetail:!0,queryKey:[`group-agent-${t}`],queryFn:()=>he.get("agent/",{params:{group_id:t}})})}function Cu({getData:t,dataKey:e,ExternalChart:n=()=>S.jsx(S.Fragment,{})}){const{isFetching:i,data:s,refetch:r}=je({initialData:[],queryFn:t,queryKey:e}),a=l1(s),{MERGE_DATA:l,MERGE_ENTITIES_DATA:o}=a,{Data:d}=ge();return S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"flex",style:{justifyContent:"space-between",borderBottom:"0.1rem solid var(--primaryColor)",marginBottom:"0.5rem",paddingBottom:"0.5rem"},children:[S.jsx("h3",{className:"uppercase",children:d.aggregated_data}),i?S.jsx(Ne,{}):S.jsx("i",{className:"fa fa-refresh",style:{fontSize:"1.1rem",cursor:"pointer"},onClick:()=>r()})]}),S.jsx("div",{className:"flex",style:{gap:"0.5rem",justifyContent:"flex-start",alignItems:"stretch",marginBottom:"0.5rem"},children:Object.keys(l).map(f=>S.jsx(Se,{title:f.toUpperCase().replaceAll("_"," "),value:S.jsx("h2",{className:"number-ship",children:l[f]})},f))}),S.jsx(wu,{Component:xu,callback:()=>[o],ForwardProps:{datasetIdKey:"DATAKEY_0014",height:"100%"},queryKey:[`statement-gasc-${Math.random()}`]}),n(a)]})}function Co({GroupId:t}){const{SuperUser:e,AdminGasc:n,AdminStaticsViewer:i}=xn(),{Data:s,GetTextLanguage:r}=ge({fr:{health_center_not_found:"Centre de santé introuvable"}}),{isFetching:a,data:l}=je({initialData:{},queryFn:()=>he.get(`group/${t}/`),queryKey:[`group-get-${t}`]}),o=Xt(["group-filter-",`group-get-${t}`]),d=Of([`group-get-${t}`]),f=Pt({mutationKey:[`group-delete-${t}`],mutationFn:async()=>he.delete("group/",{data:[t]}),onSuccess:()=>{o(),d(),Ce.success(s.deleted)},onError:()=>Ce.error(s.error_operation)});return a?S.jsx(Ne,{}):l.object?S.jsxs("div",{className:"compact_area_column",children:[S.jsxs("div",{className:"flex",style:{position:"sticky",top:0,backgroundColor:"var(--bg)",columnGap:"0.5rem",padding:"0.5rem",marginBottom:"0.5rem",justifyContent:"space-between"},children:[S.jsx("div",{className:"flex",style:{gap:"0.3rem"},children:[{link:"agent",label:"Agent (s)",icon:"fas fa-users"},{link:"caneva",label:"CVS",icon:"fas fa-book"},{link:"backup",label:"BKS",icon:"fas fa-book"},{link:"caneva-data",label:"Caneva",icon:"fas fa-book"},{link:"statement",label:s.state,icon:"fas fa-chart-pie"},{link:"map",label:s.map_history,icon:"fas fa-map"},{link:"login-history",label:s.login_history,icon:"fas fa-user"},{link:"update",label:s.update,icon:"fas fa-pen"}].map(({link:y,label:b,icon:w})=>S.jsx(bo,{to:y,children:S.jsxs("div",{className:"link-icon flex",style:{gap:"0.5rem",flexWrap:"nowrap"},children:[S.jsx("i",{className:w}),S.jsx("p",{children:b})]})}))}),S.jsx($e,{levels:[n],children:f.isLoading?S.jsx(Ne,{type:"danger"}):S.jsx(bt,{buttonType:"danger",buttonText:s.delete,iconClass:"fas fa-trash-can",style:{width:"fit-content",padding:"0.25rem 2rem"},onClick:y=>{y.stopPropagation(),Bs({textPopUp:r("ask_deletion",`${l.object.name} ❓`),helperChildren:s.delete_gasc_advc,stylePopUp:{width:"30vw"}}).then(()=>f.mutate()).catch(console.error)}})})]}),S.jsxs(wn,{children:[S.jsx(ye,{index:!0,path:"agent/*",element:S.jsx($e,{levels:[n],showMessage:!0,children:S.jsx(ht,{children:S.jsx(p1,{GroupId:t})})})}),S.jsx(ye,{path:"caneva",element:S.jsx($e,{levels:[e,n,i],showMessage:!0,children:S.jsx(ht,{children:S.jsx(d1,{GroupId:t})})})}),S.jsx(ye,{path:"backup",element:S.jsx($e,{levels:[n],showMessage:!0,children:S.jsx(ht,{children:S.jsx(h1,{GroupId:t})})})}),S.jsx(ye,{path:"caneva-data",element:S.jsx($e,{levels:[e,n,i],showMessage:!0,children:S.jsx(ht,{children:S.jsx(Hs,{api_params:{group_id:t}})})})}),S.jsx(ye,{path:"statement",element:S.jsx($e,{levels:[e,n,i],showMessage:!0,children:S.jsx(qe,{children:S.jsx(ht,{children:S.jsx(Cu,{getData:async()=>he.get("/group/statement/",{params:{id:t}}),dataKey:[`statement-gasc-${t}`]})})})})}),S.jsx(ye,{path:"map",element:S.jsx($e,{levels:[n],showMessage:!0,children:S.jsx("div",{style:{padding:"5rem"},children:S.jsx(Dt,{})})})}),S.jsx(ye,{path:"login-history",element:S.jsx($e,{levels:[n],showMessage:!0,children:S.jsx(ht,{children:S.jsx(f1,{GroupId:t})})})}),S.jsx(ye,{path:"update",element:S.jsx($e,{levels:[n],showMessage:!0,children:S.jsx(ht,{children:S.jsx("div",{className:"flex",style:{flexDirection:"column",alignItems:"stretch",padding:"0% 25%"},children:S.jsx(wo,{defaultValues:l.object||{}})})})})}),S.jsx(ye,{path:"*",element:S.jsx("div",{style:{padding:"5rem"},children:S.jsx(Bn,{message:r("click_for_view",` ${l.object.name} 🤗`)})})})]})]}):S.jsx(vt,{text:s.health_center_not_found,type:"danger"})}function Su(t){const{links:e}=t;return S.jsx("div",{className:`tab-nav-v1 flex ${t.fixe&&"sticky"}`,style:t.style,children:e.map(n=>S.jsx(Rl,{className:({isActive:i})=>`${n.disable&&"disable"} ${i&&"actif-link"}`,to:n.path,children:n.label},n.path))})}function g1(t){const{id:e,name:n,onClick:i=()=>null}=t,[s,r]=Ze();return S.jsxs("div",{className:"cs-overview-v2",onClick:a=>{a.stopPropagation(),i(e),r()},children:[S.jsx(go,{show:s,style:{paddingTop:"0rem",width:"70vw"},closer:r,title:S.jsxs("div",{className:"flex",style:{paddingBottom:"0.5rem",justifyContent:"space-between",borderBottom:"0.1rem solid var(--mainBorder)"},children:[S.jsxs("h3",{className:"uppercase",children:[S.jsx("i",{className:"fas fa-home",style:{marginRight:"0.5rem"}}),`${n} INFORMATION (S)`]}),S.jsx(Li,{onClick:r})]}),children:S.jsx(So,{CSId:e})}),S.jsxs("div",{className:"flex",style:{justifyContent:"flex-start",columnGap:"1rem",marginBottom:"1rem"},children:[S.jsx(Tm,{letter:n[0]}),S.jsx("h4",{children:n})]}),S.jsx("div",{className:"flex",style:{flexDirection:"column",alignItems:"flex-start",rowGap:"0.3rem"},children:[{_:"email",__:"fa-solid fa-envelope"},{_:"phone",__:"fas fa-phone"}].map(a=>S.jsxs("div",{className:"flex",style:{justifyContent:"flex-start",columnGap:"1rem"},children:[S.jsx("i",{className:a.__}),S.jsx("p",{children:t[a._]})]},a._))})]})}function Eu({CSId:t,defaultValues:e={}}){Vr();const{utils:n}=Ft(),i=Xt(["cs","cs-save",`cs-get-${t}`]),s=Xt(["cs",`cs-get-${t}`,`cs-delete-${t}`]),{register:r,handleSubmit:a,getValues:l}=Fn({defaultValues:e}),{Data:o,GetTextLanguage:d}=ge({fr:{warning_cds_delete_sentence:"Une fois la suppression effectuée, il n'est plus possible de revenir en arrière. Mais il est également impossible de supprimer un CDS contenant des données. Par exemple si le CDS a des gasc ou des agents déjà inscrits. La suppression elle n'est plus possible pour des raisons de traçabilité et de contrôle."},en:{warning_cds_delete_sentence:"Once the deletion is done there is no going back, But also it is impossible to delete a CDS having data on it. For example if the CDS has gasc or agents already registered. Deletion It is no longer possible for reasons of traceability and control."}}),f=Pt({mutationKey:["cs-save"],mutationFn:b=>t?he.patch(`cs/${t}/`,b):he.post("cs/",b),onSuccess:()=>{i(),Ce.success(o.created)},onError:b=>Ce.error(b.message)}),y=Pt({mutationKey:[`cs-delete-${t}`],mutationFn:()=>he.delete("cs/",{data:[t]}),onSuccess:()=>{s(),Ce.success(o.deleted)},onError:b=>Ce.error(b.message)});return S.jsxs("form",{onSubmit:a(f.mutate),className:"cs-form flex",children:[(f.isLoading||y.isLoading)&&S.jsx(Ne,{type:f.isLoading?"primary":"danger"}),S.jsxs(vn,{children:[S.jsx("input",{className:"input",required:!0,placeholder:o.name,...r("name")}),S.jsx("input",{className:"input",required:!0,placeholder:o.address,...r("address")})]}),S.jsxs(vn,{children:[S.jsx("input",{className:"input",required:!0,placeholder:o.email,...r("email")}),S.jsx("input",{className:"input",required:!0,placeholder:o.phone,...r("phone")})]}),S.jsx("input",{className:"input",required:!0,placeholder:o.site,...r("site")}),S.jsx(Ai,{...r("admin_id"),placeholder:o.administrator,onFilter:async b=>he.get("/admin/",{params:{fullname__icontains:b,level:n.access_levels.AdminGasc}}).then(w=>w.map(({id:v,fullname:x})=>({id:v,label:x,selected:v===l("admin_id")})))}),S.jsx(lu,{...r("ar"),defaultValue:l("ar")}),S.jsxs("div",{className:"flex",style:{width:"100%",columnGap:"2rem"},children:[S.jsx(bt,{type:"submit",iconClass:"fas fa-pen",disabled:f.isLoading||y.isLoading,buttonText:t?o.update:o.save}),S.jsx(bt,{visible:!!t,buttonType:"danger",iconClass:"fas fa-trash-can",buttonText:o.delete,onClick:b=>{b.stopPropagation(),b.preventDefault(),Bs({textPopUp:d("ask_deletion",`${e.name} ❓`),helperChildren:S.jsxs(S.Fragment,{children:[S.jsxs("h3",{className:"uppercase",style:{margin:"1rem 0rem"},children:["⚠️ ",o.warning]}),S.jsxs("p",{style:{width:"25vw"},children:["💭 ",o.warning_cds_delete_sentence]})]})}).then(y.mutate)}})]})]})}function m1({CSId:t}){var r;const{Data:e}=ge({fr:{add_a_gasc:"Ajouter un gasc"}}),[n,i]=Ze(),{AdminGasc:s}=xn();return S.jsxs(S.Fragment,{children:[S.jsx(Fs,{show:n,title:S.jsx("div",{className:"flex",style:{justifyContent:"flex-end",width:"20vw"},children:S.jsx(dn,{className:"fas fa-times",type:"danger",onClick:i})}),children:S.jsx(qe,{children:S.jsx(wo,{defaultValues:{cs_id:t}})})}),S.jsx("div",{className:"flex",style:{justifyContent:"flex-end",marginBottom:"1rem"},children:S.jsx($e,{levels:[s],showNotification:!0,children:S.jsx(bt,{buttonText:(r=e.add_a_gasc)==null?void 0:r.toUpperCase(),style:{width:"fit-content"},onClick:i,iconClass:"fas fa-plus"})})}),S.jsx(yu,{queryKey:[`cs-gasc-${t}`],queryFn:()=>he.get("group/",{params:{cs_id:t}})})]})}function y1({CSId:t}){return S.jsx(xo,{initialData:[],queryKey:[`cs-agent-${t}`],queryFn:()=>he.get("agent/",{params:{group__cs_id:t}})})}function b1({CSId:t}){return S.jsx(_o,{initialData:[],queryKey:[`cs-backup-${t}`],queryFn:()=>he.get("backup/backup-activity/",{params:{login_history__agent__group__cs_id:t}})})}function v1({CSId:t}){return S.jsx(Us,{initialData:[],queryKey:[`cs-caneva-${t}`],queryFn:()=>he.get("caneva/caneva-activity/",{params:{login_history__agent__group__cs_id:t}})})}function _1({CSId:t}){return S.jsx(Dt,{})}function So({CSId:t}){const{isLoading:e,data:n}=je({queryFn:()=>he.get(`cs/${t}/`),queryKey:[`cs-get-${t}`]}),{SuperUser:i}=xn(),{Data:s}=ge();return e?S.jsx(Ne,{}):n?S.jsxs(yo,{children:[S.jsx(Su,{fixe:!0,style:{marginBottom:"1rem",borderBottom:"0.1rem solid var(--secondaryColor)",justifyContent:"space-between"},links:[{label:S.jsxs("div",{className:"tabv1-link flex",children:[S.jsx("i",{className:"fas fa-bank"}),"Gasc"]}),path:"gasc",icon:"fas fa-pen"},{label:S.jsxs("div",{className:"tabv1-link flex",children:[S.jsx("i",{className:"fas fa-users"}),"Agent"]}),path:"agent",icon:"fas fa-pen"},{label:S.jsxs("div",{className:"tabv1-link flex",children:[S.jsx("i",{className:"fas fa-book"}),"HBKS"]}),path:"backup",icon:"fas fa-pen"},{label:S.jsxs("div",{className:"tabv1-link flex",children:[S.jsx("i",{className:"fas fa-book"}),"HCVS"]}),path:"caneva",icon:"fas fa-pen"},{label:S.jsxs("div",{className:"tabv1-link flex",children:[S.jsx("i",{className:"fas fa-book"}),"CVS"]}),path:"caneva-data",icon:"fas fa-pen"},{label:S.jsxs("div",{className:"tabv1-link flex",children:[S.jsx("i",{className:"fas fa-chart-pie"}),s.statistic]}),path:"statistic",icon:"fas fa-pen"},{label:S.jsxs("div",{className:"tabv1-link flex",children:[S.jsx("i",{className:"fas fa-book"}),s.form]}),path:"form",icon:"fas fa-pen"}]}),S.jsxs(wn,{children:[S.jsx(ye,{path:"/",element:S.jsx(Rf,{to:"gasc"})}),S.jsx(ye,{path:"gasc/*",element:S.jsx(ht,{style:{padding:"0.5rem"},children:S.jsx(m1,{CSId:t})})}),S.jsx(ye,{path:"agent/*",element:S.jsx(ht,{style:{padding:"0.5rem"},children:S.jsx(y1,{CSId:t})})}),S.jsx(ye,{path:"backup/*",element:S.jsx(ht,{style:{padding:"0.5rem"},children:S.jsx(b1,{CSId:t})})}),S.jsx(ye,{path:"caneva/*",element:S.jsx(ht,{style:{padding:"0.5rem"},children:S.jsx(v1,{CSId:t})})}),S.jsx(ye,{path:"caneva-data/*",element:S.jsx(Hs,{api_params:{cds_id:t}})}),S.jsx(ye,{path:"statistic/*",element:S.jsx(_1,{CSId:t})}),S.jsx(ye,{path:"form/*",element:S.jsx($e,{levels:[i],showMessage:!0,children:S.jsx(Eu,{CSId:t,defaultValues:n})})}),S.jsx(ye,{path:"*",element:S.jsx("div",{style:{padding:"3rem"},children:S.jsx(Bn,{})})})]})]}):S.jsx(vt,{text:"Health Center Not Found",type:"danger"})}function x1(){var f;const{Data:t}=ge({fr:{create_a_health_center:"Créer un center de santé",the_list_of_health_centers_recently_created_in_the_system:"La liste des centres de santé récemment créés dans le système"}}),e=Wr(),{SuperUser:n}=xn(),i=_n(),[s,r]=Ze(),{data:a,refetch:l,isFetching:o,isStale:d}=je({enabled:!1,initialData:[],queryKey:["cs",`cs-get-${i}`],queryFn:async()=>he.get("cs/",{params:{name__icontains:i,admin__email:e.level!==n?e.email:void 0}})});return oe.useEffect(()=>{l()},[d,i]),S.jsxs("div",{id:"cs",className:"flex",children:[S.jsx(jt,{modal_style:{width:"20vw"},children:S.jsx(Eu,{}),show:s,title:(f=t.create_a_health_center)==null?void 0:f.toUpperCase(),closer:r}),S.jsxs("div",{className:"flex",style:{padding:"2rem",justifyContent:"space-between"},children:[S.jsxs("div",{children:[S.jsx("h3",{className:"title uppercase",style:{fontSize:"1.3rem"},children:t.health_center}),S.jsx("p",{style:{color:"var(--gridColor)"},children:t.the_list_of_health_centers_recently_created_in_the_system})]}),S.jsxs("div",{className:"flex",style:{columnGap:"1rem"},children:[S.jsx($e,{levels:[n],children:S.jsxs("button",{className:"button uppercase",onClick:r,style:{backgroundColor:"var(--greenColor)",padding:"0.2rem 1rem",width:"fit-content"},children:[S.jsx("i",{className:"fas fa-plus",style:{marginRight:"0.5rem"}}),`${t.add} GASC`]})}),S.jsxs("button",{onClick:()=>l(),disabled:o,className:"button",style:{backgroundColor:"var(--greenColor)",padding:"0.2rem 1rem",width:"fit-content"},children:[S.jsx("i",{className:"fas fa-refresh",style:{marginRight:"0.5rem"}}),"  REFRESH"]})]})]}),o&&S.jsx("div",{className:"flex",children:S.jsx(po,{color:"#36d7b7"})}),S.jsx("div",{style:{gap:"1rem",flexWrap:"wrap",height:"100%",alignContent:"flex-start",padding:"0.5rem 2rem"},className:"flex scroll",children:a.map(y=>S.jsx(g1,{...y},y.id))})]})}function Eo({ComponentLeft:t,ComponentRight:e,ComponentLeftProps:n,ComponentRightProps:i,...s}){return S.jsxs("div",{id:"default-displayer",...s,children:[S.jsx("div",{className:"displayer-side",id:"default-displayer-first-side",children:S.jsx(t,{...n})}),S.jsx("div",{className:"displayer-side",id:"default-displayer-second-side",children:S.jsx(e,{...i})})]})}function w1({ComponentLeft:t,ComponentRight:e,ComponentLeftProps:n,ComponentRightProps:i,...s}){return S.jsxs("div",{id:"split-displayer",...s,children:[S.jsx("div",{className:"displayer-side",id:"split-displayer-first-side",children:S.jsx(t,{...n})}),S.jsx("div",{className:"displayer-side",id:"split-displayer-second-side",children:S.jsx(e,{...i})})]})}function C1({FAQID:t}){const{Data:e}=ge(),{data:n,isFetching:i}=je({initialData:{},queryKey:[`faq-get-${t}`],queryFn:async()=>he.get(`faq/${t}`)});return S.jsxs("div",{className:"scroll",style:{height:"100%",padding:"1rem"},children:[i&&S.jsx(Ne,{}),S.jsxs("div",{style:{marginBottom:"1.5rem"},children:[S.jsx("h3",{style:{fontSize:"1.3rem"},children:n.question_title}),n.created_at&&S.jsxs("p",{style:{fontSize:"0.8rem"},children:[S.jsx("i",{style:{marginRight:"0.5rem",color:"var(--greenColor)"},className:"fas fa-clock"}),new Date(n.created_at).toLocaleString()]})]}),S.jsx("div",{style:{marginBottom:"1.5rem"},dangerouslySetInnerHTML:{__html:n.question_description}}),!n.response&&S.jsxs("div",{children:[S.jsxs("div",{className:"flex",style:{justifyContent:"space-between",marginBottom:"1rem",padding:"1rem",backgroundColor:"var(--primaryColor)",fontWeight:"bold"},children:[S.jsx("h3",{className:"uppercase",children:e.response}),S.jsx("div",{style:{color:"var(--redColor)"},children:n.closed_at&&S.jsxs(S.Fragment,{children:[S.jsx("i",{style:{marginRight:"0.5rem"},className:"fas fa-clock"}),new Date(n.closed_at).toLocaleString()]})})]}),S.jsx("p",{style:{marginBottom:"1rem"},children:n.response}),n.response_img&&S.jsx(_t,{style:{width:"100%",height:"50vh"},src:n.response_img})]})]})}function S1({FAQID:t}){return S.jsx(Dt,{})}function E1(){const{id:t}=Df(),{Data:e}=ge(),n=$r();return S.jsxs(S.Fragment,{children:[S.jsxs("button",{onClick:()=>n(-1),className:"button uppercase",style:{width:"fit-content",backgroundColor:"inherit"},children:[S.jsx("i",{className:"fas fa-arrow-left",style:{marginRight:"0.5rem"}}),e.go_back]}),S.jsx(w1,{ComponentLeft:C1,ComponentLeftProps:{FAQID:t},ComponentRight:S1,ComponentRightProps:{FAQID:t}})]})}function k1({id:t,question_title:e,question_description:n,closed_at:i}){const{Data:s}=ge();return S.jsxs("div",{className:"FAQQuestion flex",children:[S.jsx("div",{className:`FAQQuestionIcon flex ${i&&"danger"}`,children:S.jsx("i",{className:"fa-solid fa-question"})}),S.jsxs("div",{className:"flex",style:{justifyContent:"space-between",alignItems:"stretch",flexDirection:"column",height:"100%"},children:[S.jsxs("div",{children:[S.jsx("h3",{style:{fontSize:"1.1rem",marginBottom:"0.5rem"},children:e}),S.jsx("div",{dangerouslySetInnerHTML:{__html:`${n==null?void 0:n.slice(0,200)}...`}})]}),S.jsx(qr,{to:`${t}`,style:{textDecoration:"none"},children:S.jsx("p",{className:"uppercase",style:{color:"var(--greenColor)",fontWeight:"bold"},children:s.read_more})})]})]})}var Yi;function T1(){const{Data:t}=ge({fr:{here_are_some_of_the_OpenCarenet_frequently_asked_questions:"Voici quelques-unes des questions fréquemment posées sur OpenCarenet"}}),e=_n(),{data:n,refetch:i,isFetching:s}=je({enabled:!1,initialData:[],queryKey:["faq"],queryFn:async()=>he.get("/faq/",{params:{question_title__icontains:e}})});return le.useEffect(()=>(Yi&&clearInterval(Yi),Yi=setTimeout(i,1e3),()=>clearInterval(Yi)),[e]),S.jsx("div",{id:"faq-page",className:"flex",children:S.jsxs(wn,{children:[S.jsx(ye,{index:!0,path:"/",element:S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"flex",style:{flexDirection:"column",gap:"1rem",paddingBottom:"1rem"},children:[S.jsx("h1",{style:{fontSize:"3rem",borderBottom:"0.2rem solid var(--greenColor)"},children:"FAQ"}),S.jsx("p",{style:{color:"var(--gridColor)"},children:t.here_are_some_of_the_OpenCarenet_frequently_asked_questions}),s&&S.jsx(Ne,{})]}),S.jsx("div",{id:"faq-page-container",className:"flex scroll",style:{gap:"5rem",alignItems:"flex-start",padding:"1rem",backgroundColor:""},children:n.map(r=>S.jsx(k1,{...r},r.id))})]})}),S.jsx(ye,{path:"/:id",element:S.jsx(qe,{children:S.jsx(E1,{})})})]})})}function ku(){const[t,e]=Ze(),{Data:n}=ge({fr:{notification_field:"Champ de notification"}});return S.jsxs(S.Fragment,{children:[S.jsx(go,{show:t,title:S.jsxs("div",{className:"flex",style:{justifyContent:"space-between"},children:[S.jsxs("h3",{className:"uppercase",children:[n.notification_field," 🔔"]}),S.jsx(Li,{onClick:e})]}),children:S.jsx(Dt,{})}),S.jsxs("p",{className:"button_function",onClick:e,children:[S.jsx("i",{className:"fas fa-bell",style:{marginRight:"0.7rem"}})," ",n.notification]})]})}const on="dark-mode";function Tu(){const[t,e]=oe.useState(localStorage.getItem(on)||""),{Data:n}=ge();return le.useEffect(()=>{t?(document.body.classList.add(on),localStorage.setItem(on,on)):(document.body.classList.remove(on),localStorage.removeItem(on))},[t]),S.jsxs("div",{className:"button_function flex",style:{gap:"0.6rem"},onClick:i=>{i.stopPropagation(),e(t?"":on)},children:[t?S.jsx("i",{className:"fas fa-sun"}):S.jsx("i",{className:"fas fa-moon"}),t?n.ligth:n.dark]})}function L1({icon:t,title:e,detail:n}){const{Data:i}=ge({fr:{to_the_sick_hone_is_bitter:"Pour les malades, le miel est amer"}});return S.jsxs("div",{className:"card-option flex",children:[S.jsx("i",{className:t}),S.jsxs("div",{children:[S.jsx("p",{children:e}),S.jsxs("p",{className:"card-option-detail",children:[i.to_the_sick_hone_is_bitter,"."]})]}),S.jsx("p",{})]})}var Ws={},ko={};const Lu={name:"blockquote",display:"command",add:function(t,e){const n=t.context;n.blockquote={targetButton:e,tag:t.util.createElement("BLOCKQUOTE")}},active:function(t){if(!t)this.util.removeClass(this.context.blockquote.targetButton,"active");else if(/blockquote/i.test(t.nodeName))return this.util.addClass(this.context.blockquote.targetButton,"active"),!0;return!1},action:function(){const t=this.util.getParentElement(this.getSelectionNode(),"blockquote");t?this.detachRangeFormatElement(t,null,null,!1,!1):this.applyRangeFormatElement(this.context.blockquote.tag.cloneNode(!1))}},Au={name:"align",display:"submenu",add:function(t,e){const n=t.icons,i=t.context;i.align={targetButton:e,_itemMenu:null,_alignList:null,currentAlign:"",defaultDir:t.options.rtl?"right":"left",icons:{justify:n.align_justify,left:n.align_left,right:n.align_right,center:n.align_center}};let s=this.setSubmenu(t),r=i.align._itemMenu=s.querySelector("ul");r.addEventListener("click",this.pickup.bind(t)),i.align._alignList=r.querySelectorAll("li button"),t.initMenuTarget(this.name,e,s),s=null,r=null},setSubmenu:function(t){const e=t.lang,n=t.icons,i=t.util.createElement("DIV"),s=t.options.alignItems;let r="";for(let a=0,l,o;a<s.length;a++)l=s[a],o=e.toolbar["align"+l.charAt(0).toUpperCase()+l.slice(1)],r+='<li><button type="button" class="se-btn-list se-btn-align" data-value="'+l+'" title="'+o+'" aria-label="'+o+'"><span class="se-list-icon">'+n["align_"+l]+"</span>"+o+"</button></li>";return i.className="se-submenu se-list-layer se-list-align",i.innerHTML='<div class="se-list-inner"><ul class="se-list-basic">'+r+"</ul></div>",i},active:function(t){const e=this.context.align,n=e.targetButton,i=n.firstElementChild;if(!t)this.util.changeElement(i,e.icons[e.defaultDir]),n.removeAttribute("data-focus");else if(this.util.isFormatElement(t)){const s=t.style.textAlign;if(s)return this.util.changeElement(i,e.icons[s]||e.icons[e.defaultDir]),n.setAttribute("data-focus",s),!0}return!1},on:function(){const t=this.context.align,e=t._alignList,n=t.targetButton.getAttribute("data-focus")||t.defaultDir;if(n!==t.currentAlign){for(let i=0,s=e.length;i<s;i++)n===e[i].getAttribute("data-value")?this.util.addClass(e[i],"active"):this.util.removeClass(e[i],"active");t.currentAlign=n}},exchangeDir:function(){const t=this.options.rtl?"right":"left";if(!this.context.align||this.context.align.defaultDir===t)return;this.context.align.defaultDir=t;let e=this.context.align._itemMenu,n=e.querySelector('[data-value="left"]'),i=e.querySelector('[data-value="right"]');if(n&&i){const s=n.parentElement,r=i.parentElement;s.appendChild(i),r.appendChild(n)}},pickup:function(t){t.preventDefault(),t.stopPropagation();let e=t.target,n=null;for(;!n&&!/UL/i.test(e.tagName);)n=e.getAttribute("data-value"),e=e.parentNode;if(!n)return;const i=this.context.align.defaultDir,s=this.getSelectedElements();for(let r=0,a=s.length;r<a;r++)this.util.setStyle(s[r],"textAlign",n===i?"":n);this.effectNode=null,this.submenuOff(),this.focus(),this.history.push(!1)}},Mu={name:"font",display:"submenu",add:function(t,e){const n=t.context;n.font={targetText:e.querySelector(".txt"),targetTooltip:e.parentNode.querySelector(".se-tooltip-text"),_fontList:null,currentFont:""};let i=this.setSubmenu(t);i.querySelector(".se-list-inner").addEventListener("click",this.pickup.bind(t)),n.font._fontList=i.querySelectorAll("ul li button"),t.initMenuTarget(this.name,e,i),i=null},setSubmenu:function(t){const e=t.lang,n=t.util.createElement("DIV");n.className="se-submenu se-list-layer se-list-font-family";let i,s,r,a,l=t.options.font,o='<div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="default_value se-btn-list" title="'+e.toolbar.default+'" aria-label="'+e.toolbar.default+'">('+e.toolbar.default+")</button></li>";for(r=0,a=l.length;r<a;r++)i=l[r],s=i.split(",")[0],o+='<li><button type="button" class="se-btn-list" data-value="'+i+'" data-txt="'+s+'" title="'+s+'" aria-label="'+s+'" style="font-family:'+i+';">'+s+"</button></li>";return o+="</ul></div>",n.innerHTML=o,n},active:function(t){const e=this.context.font.targetText,n=this.context.font.targetTooltip;if(t){if(t.style&&t.style.fontFamily.length>0){const i=t.style.fontFamily.replace(/["']/g,"");return this.util.changeTxt(e,i),this.util.changeTxt(n,this.lang.toolbar.font+" ("+i+")"),!0}}else{const i=this.hasFocus?this.wwComputedStyle.fontFamily:this.lang.toolbar.font;this.util.changeTxt(e,i),this.util.changeTxt(n,this.hasFocus?this.lang.toolbar.font+(i?" ("+i+")":""):i)}return!1},on:function(){const t=this.context.font,e=t._fontList,n=t.targetText.textContent;if(n!==t.currentFont){for(let i=0,s=e.length;i<s;i++)n===e[i].getAttribute("data-value")?this.util.addClass(e[i],"active"):this.util.removeClass(e[i],"active");t.currentFont=n}},pickup:function(t){if(!/^BUTTON$/i.test(t.target.tagName))return!1;t.preventDefault(),t.stopPropagation();const e=t.target.getAttribute("data-value");if(e){const n=this.util.createElement("SPAN");n.style.fontFamily=e,this.nodeChange(n,["font-family"],null,null)}else this.nodeChange(null,["font-family"],["span"],!0);this.submenuOff()}},Nu={name:"fontSize",display:"submenu",add:function(t,e){const n=t.context;n.fontSize={targetText:e.querySelector(".txt"),_sizeList:null,currentSize:""};let i=this.setSubmenu(t),s=i.querySelector("ul");s.addEventListener("click",this.pickup.bind(t)),n.fontSize._sizeList=s.querySelectorAll("li button"),t.initMenuTarget(this.name,e,i),i=null,s=null},setSubmenu:function(t){const e=t.options,n=t.lang,i=t.util.createElement("DIV");i.className="se-submenu se-list-layer se-list-font-size";const s=e.fontSize?e.fontSize:[8,9,10,11,12,14,16,18,20,22,24,26,28,36,48,72];let r='<div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="default_value se-btn-list" title="'+n.toolbar.default+'" aria-label="'+n.toolbar.default+'">('+n.toolbar.default+")</button></li>";for(let a=0,l=e.fontSizeUnit,o=s.length,d;a<o;a++)d=s[a],r+='<li><button type="button" class="se-btn-list" data-value="'+d+l+'" title="'+d+l+'" aria-label="'+d+l+'" style="font-size:'+d+l+';">'+d+"</button></li>";return r+="</ul></div>",i.innerHTML=r,i},active:function(t){if(!t)this.util.changeTxt(this.context.fontSize.targetText,this.hasFocus?this._convertFontSize.call(this,this.options.fontSizeUnit,this.wwComputedStyle.fontSize):this.lang.toolbar.fontSize);else if(t.style&&t.style.fontSize.length>0)return this.util.changeTxt(this.context.fontSize.targetText,this._convertFontSize.call(this,this.options.fontSizeUnit,t.style.fontSize)),!0;return!1},on:function(){const t=this.context.fontSize,e=t._sizeList,n=t.targetText.textContent;if(n!==t.currentSize){for(let i=0,s=e.length;i<s;i++)n===e[i].getAttribute("data-value")?this.util.addClass(e[i],"active"):this.util.removeClass(e[i],"active");t.currentSize=n}},pickup:function(t){if(!/^BUTTON$/i.test(t.target.tagName))return!1;t.preventDefault(),t.stopPropagation();const e=t.target.getAttribute("data-value");if(e){const n=this.util.createElement("SPAN");n.style.fontSize=e,this.nodeChange(n,["font-size"],null,null)}else this.nodeChange(null,["font-size"],["span"],!0);this.submenuOff()}},Ou={name:"colorPicker",add:function(t){const e=t.context;e.colorPicker={colorListHTML:"",_colorInput:"",_defaultColor:"#000",_styleProperty:"color",_currentColor:"",_colorList:[]},e.colorPicker.colorListHTML=this.createColorList(t,this._makeColorList)},createColorList:function(t,e){const n=t.options,i=t.lang,s=!n.colorList||n.colorList.length===0?["#ff0000","#ff5e00","#ffe400","#abf200","#00d8ff","#0055ff","#6600ff","#ff00dd","#000000","#ffd8d8","#fae0d4","#faf4c0","#e4f7ba","#d4f4fa","#d9e5ff","#e8d9ff","#ffd9fa","#f1f1f1","#ffa7a7","#ffc19e","#faed7d","#cef279","#b2ebf4","#b2ccff","#d1b2ff","#ffb2f5","#bdbdbd","#f15f5f","#f29661","#e5d85c","#bce55c","#5cd1e5","#6699ff","#a366ff","#f261df","#8c8c8c","#980000","#993800","#998a00","#6b9900","#008299","#003399","#3d0099","#990085","#353535","#670000","#662500","#665c00","#476600","#005766","#002266","#290066","#660058","#222222"]:n.colorList;let r=[],a='<div class="se-list-inner">';for(let l=0,o=s.length,d;l<o;l++)d=s[l],d&&(typeof d=="string"&&(r.push(d),l<o-1)||(r.length>0&&(a+='<div class="se-selector-color">'+e(r)+"</div>",r=[]),typeof d=="object"&&(a+='<div class="se-selector-color">'+e(d)+"</div>")));return a+='<form class="se-form-group"><input type="text" maxlength="9" class="_se_color_picker_input se-color-input"/><button type="submit" class="se-btn-primary _se_color_picker_submit" title="'+i.dialogBox.submitButton+'" aria-label="'+i.dialogBox.submitButton+'">'+t.icons.checked+'</button><button type="button" class="se-btn _se_color_picker_remove" title="'+i.toolbar.removeFormat+'" aria-label="'+i.toolbar.removeFormat+'">'+t.icons.erase+"</button></form></div>",a},_makeColorList:function(t){let e="";e+='<ul class="se-color-pallet">';for(let n=0,i=t.length,s;n<i;n++)s=t[n],typeof s=="string"&&(e+='<li><button type="button" data-value="'+s+'" title="'+s+'" aria-label="'+s+'" style="background-color:'+s+';"></button></li>');return e+="</ul>",e},init:function(t,e){const n=this.plugins.colorPicker;let i=e||n.getColorInNode.call(this,t)||this.context.colorPicker._defaultColor;i=n.isHexColor(i)?i:n.rgb2hex(i)||i;const s=this.context.colorPicker._colorList;if(s)for(let r=0,a=s.length;r<a;r++)i.toLowerCase()===s[r].getAttribute("data-value").toLowerCase()?this.util.addClass(s[r],"active"):this.util.removeClass(s[r],"active");n.setInputText.call(this,n.colorName2hex.call(this,i))},setCurrentColor:function(t){this.context.colorPicker._currentColor=t,this.context.colorPicker._colorInput.style.borderColor=t},setInputText:function(t){t=/^#/.test(t)?t:"#"+t,this.context.colorPicker._colorInput.value=t,this.plugins.colorPicker.setCurrentColor.call(this,t)},getColorInNode:function(t){let e="";const n=this.context.colorPicker._styleProperty;for(;t&&!this.util.isWysiwygDiv(t)&&e.length===0;)t.nodeType===1&&t.style[n]&&(e=t.style[n]),t=t.parentNode;return e},isHexColor:function(t){return/^#[0-9a-f]{3}(?:[0-9a-f]{3})?$/i.test(t)},rgb2hex:function(t){const e=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);return e&&e.length===4?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""},colorName2hex:function(t){if(/^#/.test(t))return t;var e=this.util.createElement("div");e.style.display="none",e.style.color=t;var n=this._w.getComputedStyle(this._d.body.appendChild(e)).color.match(/\d+/g).map(function(i){return parseInt(i,10)});return this.util.removeItem(e),n.length>=3?"#"+((1<<24)+(n[0]<<16)+(n[1]<<8)+n[2]).toString(16).substr(1):!1}},Ru={name:"fontColor",display:"submenu",add:function(t,e){t.addModule([Ou]);const n=t.context;n.fontColor={previewEl:null,colorInput:null,colorList:null};let i=this.setSubmenu(t);n.fontColor.colorInput=i.querySelector("._se_color_picker_input"),n.fontColor.colorInput.addEventListener("keyup",this.onChangeInput.bind(t)),i.querySelector("._se_color_picker_submit").addEventListener("click",this.submit.bind(t)),i.querySelector("._se_color_picker_remove").addEventListener("click",this.remove.bind(t)),i.addEventListener("click",this.pickup.bind(t)),n.fontColor.colorList=i.querySelectorAll("li button"),t.initMenuTarget(this.name,e,i),i=null},setSubmenu:function(t){const e=t.context.colorPicker.colorListHTML,n=t.util.createElement("DIV");return n.className="se-submenu se-list-layer",n.innerHTML=e,n},on:function(){const t=this.context.colorPicker,e=this.context.fontColor;t._colorInput=e.colorInput;const n=this.wwComputedStyle.color;t._defaultColor=n?this.plugins.colorPicker.isHexColor(n)?n:this.plugins.colorPicker.rgb2hex(n):"#333333",t._styleProperty="color",t._colorList=e.colorList,this.plugins.colorPicker.init.call(this,this.getSelectionNode(),null)},onChangeInput:function(t){this.plugins.colorPicker.setCurrentColor.call(this,t.target.value)},submit:function(){this.plugins.fontColor.applyColor.call(this,this.context.colorPicker._currentColor)},pickup:function(t){t.preventDefault(),t.stopPropagation(),this.plugins.fontColor.applyColor.call(this,t.target.getAttribute("data-value"))},remove:function(){this.nodeChange(null,["color"],["span"],!0),this.submenuOff()},applyColor:function(t){if(!t)return;const e=this.util.createElement("SPAN");e.style.color=t,this.nodeChange(e,["color"],null,null),this.submenuOff()}},Du={name:"hiliteColor",display:"submenu",add:function(t,e){t.addModule([Ou]);const n=t.context;n.hiliteColor={previewEl:null,colorInput:null,colorList:null};let i=this.setSubmenu(t);n.hiliteColor.colorInput=i.querySelector("._se_color_picker_input"),n.hiliteColor.colorInput.addEventListener("keyup",this.onChangeInput.bind(t)),i.querySelector("._se_color_picker_submit").addEventListener("click",this.submit.bind(t)),i.querySelector("._se_color_picker_remove").addEventListener("click",this.remove.bind(t)),i.addEventListener("click",this.pickup.bind(t)),n.hiliteColor.colorList=i.querySelectorAll("li button"),t.initMenuTarget(this.name,e,i),i=null},setSubmenu:function(t){const e=t.context.colorPicker.colorListHTML,n=t.util.createElement("DIV");return n.className="se-submenu se-list-layer",n.innerHTML=e,n},on:function(){const t=this.context.colorPicker,e=this.context.hiliteColor;t._colorInput=e.colorInput;const n=this.wwComputedStyle.backgroundColor;t._defaultColor=n?this.plugins.colorPicker.isHexColor(n)?n:this.plugins.colorPicker.rgb2hex(n):"#ffffff",t._styleProperty="backgroundColor",t._colorList=e.colorList,this.plugins.colorPicker.init.call(this,this.getSelectionNode(),null)},onChangeInput:function(t){this.plugins.colorPicker.setCurrentColor.call(this,t.target.value)},submit:function(){this.plugins.hiliteColor.applyColor.call(this,this.context.colorPicker._currentColor)},pickup:function(t){t.preventDefault(),t.stopPropagation(),this.plugins.hiliteColor.applyColor.call(this,t.target.getAttribute("data-value"))},remove:function(){this.nodeChange(null,["background-color"],["span"],!0),this.submenuOff()},applyColor:function(t){if(!t)return;const e=this.util.createElement("SPAN");e.style.backgroundColor=t,this.nodeChange(e,["background-color"],null,null),this.submenuOff()}},Pu={name:"horizontalRule",display:"submenu",add:function(t,e){t.context.horizontalRule={currentHR:null};let n=this.setSubmenu(t);n.querySelector("ul").addEventListener("click",this.horizontalRulePick.bind(t)),t.initMenuTarget(this.name,e,n),n=null},setSubmenu:function(t){const e=t.lang,n=t.util.createElement("DIV"),i=t.options.hrItems||[{name:e.toolbar.hr_solid,class:"__se__solid"},{name:e.toolbar.hr_dashed,class:"__se__dashed"},{name:e.toolbar.hr_dotted,class:"__se__dotted"}];let s="";for(let r=0,a=i.length;r<a;r++)s+='<li><button type="button" class="se-btn-list btn_line" data-command="horizontalRule" data-value="'+i[r].class+'" title="'+i[r].name+'" aria-label="'+i[r].name+'"><hr'+(i[r].class?' class="'+i[r].class+'"':"")+(i[r].style?' style="'+i[r].style+'"':"")+"/></button></li>";return n.className="se-submenu se-list-layer se-list-line",n.innerHTML='<div class="se-list-inner"><ul class="se-list-basic">'+s+"</ul></div>",n},active:function(t){if(!t)this.util.hasClass(this.context.horizontalRule.currentHR,"on")&&this.controllersOff();else if(/HR/i.test(t.nodeName))return this.context.horizontalRule.currentHR=t,this.util.hasClass(t,"on")||(this.util.addClass(t,"on"),this.controllersOn("hr",this.util.removeClass.bind(this.util,t,"on"))),!0;return!1},appendHr:function(t){return this.focus(),this.insertComponent(t.cloneNode(!1),!1,!0,!1)},horizontalRulePick:function(t){t.preventDefault(),t.stopPropagation();let e=t.target,n=e.getAttribute("data-command");for(;!n&&!/UL/i.test(e.tagName);)e=e.parentNode,n=e.getAttribute("data-command");if(!n)return;const i=this.plugins.horizontalRule.appendHr.call(this,e.firstElementChild);i&&(this.setRange(i,0,i,0),this.submenuOff())}},ju={name:"list",display:"submenu",add:function(t,e){const n=t.context;n.list={targetButton:e,_list:null,currentList:"",icons:{bullets:t.icons.list_bullets,number:t.icons.list_number}};let i=this.setSubmenu(t),s=i.querySelector("ul");s.addEventListener("click",this.pickup.bind(t)),n.list._list=s.querySelectorAll("li button"),t.initMenuTarget(this.name,e,i),i=null,s=null},setSubmenu:function(t){const e=t.lang,n=t.util.createElement("DIV");return n.className="se-submenu se-list-layer",n.innerHTML='<div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="se-btn-list se-tooltip" data-command="OL" title="'+e.toolbar.orderList+'" aria-label="'+e.toolbar.orderList+'">'+t.icons.list_number+'</button></li><li><button type="button" class="se-btn-list se-tooltip" data-command="UL" title="'+e.toolbar.unorderList+'" aria-label="'+e.toolbar.unorderList+'">'+t.icons.list_bullets+"</button></li></ul></div>",n},active:function(t){const e=this.context.list.targetButton,n=e.firstElementChild,i=this.util;if(i.isList(t)){const s=t.nodeName;return e.setAttribute("data-focus",s),i.addClass(e,"active"),/UL/i.test(s)?i.changeElement(n,this.context.list.icons.bullets):i.changeElement(n,this.context.list.icons.number),!0}else e.removeAttribute("data-focus"),i.changeElement(n,this.context.list.icons.number),i.removeClass(e,"active");return!1},on:function(){const t=this.context.list,e=t._list,n=t.targetButton.getAttribute("data-focus")||"";if(n!==t.currentList){for(let i=0,s=e.length;i<s;i++)n===e[i].getAttribute("data-command")?this.util.addClass(e[i],"active"):this.util.removeClass(e[i],"active");t.currentList=n}},editList:function(t,e,n){let i=this.getRange(),s=e||this.getSelectedElementsAndComponents(!1);if(s.length===0&&(e||(i=this.getRange_addLine(i,null),s=this.getSelectedElementsAndComponents(!1),s.length===0)))return;const r=this.util;r.sortByDepth(s,!0);let a=s[0],l=s[s.length-1],o=(r.isListCell(a)||r.isComponent(a))&&!a.previousElementSibling?a.parentNode.previousElementSibling:a.previousElementSibling,d=(r.isListCell(l)||r.isComponent(l))&&!l.nextElementSibling?l.parentNode.nextElementSibling:l.nextElementSibling;const f=i.collapsed,y={sc:i.startContainer,so:i.startContainer===i.endContainer&&r.onlyZeroWidthSpace(i.startContainer)&&i.startOffset===0&&i.endOffset===1?i.endOffset:i.startOffset,ec:i.endContainer,eo:i.endOffset};let b=null,w=!0;for(let v=0,x=s.length;v<x;v++)if(!r.isList(r.getRangeFormatElement(s[v],function(c){return this.getRangeFormatElement(c)&&c!==s[v]}.bind(r)))){w=!1;break}if(w&&(!o||a.tagName!==o.tagName||t!==o.tagName.toUpperCase())&&(!d||l.tagName!==d.tagName||t!==d.tagName.toUpperCase())){if(n){for(let p=0,m=s.length;p<m;p++)for(let g=p-1;g>=0;g--)if(s[g].contains(s[p])){s.splice(p,1),p--,m--;break}}const v=r.getRangeFormatElement(a),x=v&&v.tagName===t;let c,u;const h=function(p){return!this.isComponent(p)}.bind(r);x||(u=r.createElement(t));for(let p=0,m=s.length,g,_;p<m;p++)_=r.getRangeFormatElement(s[p],h),!(!_||!r.isList(_))&&(g?g!==_?(n&&r.isListCell(_.parentNode)?this.plugins.list._detachNested.call(this,c.f):b=this.detachRangeFormatElement(c.f[0].parentNode,c.f,u,!1,!0),_=s[p].parentNode,x||(u=r.createElement(t)),g=_,c={r:g,f:[r.getParentElement(s[p],"LI")]}):c.f.push(r.getParentElement(s[p],"LI")):(g=_,c={r:g,f:[r.getParentElement(s[p],"LI")]}),p===m-1&&(n&&r.isListCell(_.parentNode)?this.plugins.list._detachNested.call(this,c.f):b=this.detachRangeFormatElement(c.f[0].parentNode,c.f,u,!1,!0)))}else{const v=o&&o.parentNode,x=d&&d.parentNode;o=v&&!r.isWysiwygDiv(v)&&v.nodeName===t?v:o,d=x&&!r.isWysiwygDiv(x)&&x.nodeName===t?x:d;const c=o&&o.tagName===t,u=d&&d.tagName===t;let h=c?o:r.createElement(t),p=null,m=null,g=null;const _=function(C){return!this.isComponent(C)&&!this.isList(C)}.bind(r);for(let C=0,E=s.length,k,T,O,M,F,N,P,B,z;C<E;C++){if(T=s[C],T.childNodes.length===0&&!r._isIgnoreNodeChange(T)){r.removeItem(T);continue}if(M=s[C+1],F=T.parentNode,N=M?M.parentNode:null,O=r.isListCell(T),z=r.isRangeFormatElement(F)?F:null,P=O&&!r.isWysiwygDiv(F)?F.parentNode:F,B=O&&!r.isWysiwygDiv(F)?!M||r.isListCell(P)?F:F.nextSibling:T.nextSibling,k=r.createElement("LI"),r.copyFormatAttributes(k,T),C===0&&y.sc===T&&(y.sc=k),C===E-1&&y.ec===T&&(y.ec=k),r.isComponent(T)){const D=/^HR$/i.test(T.nodeName);D||(k.innerHTML="<br>"),k.innerHTML+=T.outerHTML,D&&(k.innerHTML+="<br>")}else{const D=T.childNodes;for(;D[0];)k.appendChild(D[0])}h.appendChild(k),(!M||P!==N||r.isRangeFormatElement(B))&&(p||(p=h),(!c||!M||P!==N)&&!(M&&r.isList(N)&&N===F)&&h.parentNode!==P&&P.insertBefore(h,B)),r.removeItem(T),c&&m===null&&(m=h.children.length-1),M&&(r.getRangeFormatElement(N,_)!==r.getRangeFormatElement(F,_)||r.isList(N)&&r.isList(F)&&r.getElementDepth(N)!==r.getElementDepth(F))&&(h=r.createElement(t)),z&&z.children.length===0&&r.removeItem(z)}m&&(p=p.children[m]),u&&(g=h.children.length-1,h.innerHTML+=d.innerHTML,h.children[g],r.removeItem(d))}return this.effectNode=null,f?b:y},_detachNested:function(t){const e=t[0],n=t[t.length-1],i=n.nextElementSibling,s=e.parentNode,r=s.parentNode.nextElementSibling,a=s.parentNode.parentNode;for(let o=0,d=t.length;o<d;o++)a.insertBefore(t[o],r);if(i&&s.children.length>0){const o=s.cloneNode(!1),d=s.childNodes,f=this.util.getPositionIndex(i);for(;d[f];)o.appendChild(d[f]);n.appendChild(o)}s.children.length===0&&this.util.removeItem(s),this.util.mergeSameTags(a);const l=this.util.getEdgeChildNodes(e,n);return{cc:e.parentNode,sc:l.sc,ec:l.ec}},editInsideList:function(t,e){e=e||this.getSelectedElements().filter(function(a){return this.isListCell(a)}.bind(this.util));const n=e.length;if(n===0||!t&&!this.util.isListCell(e[0].previousElementSibling)&&!this.util.isListCell(e[n-1].nextElementSibling))return{sc:e[0],so:0,ec:e[n-1],eo:1};let i=e[0].parentNode,s=e[n-1],r=null;if(t){if(i!==s.parentNode&&this.util.isList(s.parentNode.parentNode)&&s.nextElementSibling)for(s=s.nextElementSibling;s;)e.push(s),s=s.nextElementSibling;r=this.plugins.list.editList.call(this,i.nodeName.toUpperCase(),e,!0)}else{let a=this.util.createElement(i.nodeName),l=e[0].previousElementSibling,o=s.nextElementSibling;const d={s:null,e:null,sl:i,el:i};for(let b=0,w=n,v;b<w;b++)v=e[b],v.parentNode!==i&&(this.plugins.list._insiedList.call(this,i,a,l,o,d),i=v.parentNode,a=this.util.createElement(i.nodeName)),l=v.previousElementSibling,o=v.nextElementSibling,a.appendChild(v);this.plugins.list._insiedList.call(this,i,a,l,o,d);const f=this.util.getNodeFromPath(d.s,d.sl),y=this.util.getNodeFromPath(d.e,d.el);r={sc:f,so:0,ec:y,eo:y.textContent.length}}return r},_insiedList:function(t,e,n,i,s){let r=!1;if(n&&e.tagName===n.tagName){const a=e.children;for(;a[0];)n.appendChild(a[0]);e=n,r=!0}if(i&&e.tagName===i.tagName){const a=i.children;for(;a[0];)e.appendChild(a[0]);const l=i.nextElementSibling;i.parentNode.removeChild(i),i=l}if(!r){this.util.isListCell(n)&&(t=n,i=null),t.insertBefore(e,i),s.s||(s.s=this.util.getNodePath(e.firstElementChild.firstChild,t,null),s.sl=t);const a=t.contains(s.sl)?this.util.getNodePath(s.sl,t):null;s.e=this.util.getNodePath(e.lastElementChild.firstChild,t,null),s.el=t,this.util.mergeSameTags(t,[s.s,s.e,a],!1),this.util.mergeNestedTags(t),a&&(s.sl=this.util.getNodeFromPath(a,t))}return e},pickup:function(t){t.preventDefault(),t.stopPropagation();let e=t.target,n="";for(;!n&&!/^UL$/i.test(e.tagName);)n=e.getAttribute("data-command"),e=e.parentNode;if(!n)return;const i=this.plugins.list.editList.call(this,n,null,!1);i&&this.setRange(i.sc,i.so,i.ec,i.eo),this.submenuOff(),this.history.push(!1)}},Fu={name:"table",display:"submenu",add:function(t,e){const n=t.context;let i=n.table={_element:null,_tdElement:null,_trElement:null,_trElements:null,_tableXY:[],_maxWidth:!0,_fixedColumn:!1,_rtl:t.options.rtl,cellControllerTop:t.options.tableCellControllerPosition==="top",resizeText:null,headerButton:null,mergeButton:null,splitButton:null,splitMenu:null,maxText:t.lang.controller.maxSize,minText:t.lang.controller.minSize,_physical_cellCnt:0,_logical_cellCnt:0,_rowCnt:0,_rowIndex:0,_physical_cellIndex:0,_logical_cellIndex:0,_current_colSpan:0,_current_rowSpan:0,icons:{expansion:t.icons.expansion,reduction:t.icons.reduction}},s=this.setSubmenu(t),r=s.querySelector(".se-controller-table-picker");i.tableHighlight=s.querySelector(".se-table-size-highlighted"),i.tableUnHighlight=s.querySelector(".se-table-size-unhighlighted"),i.tableDisplay=s.querySelector(".se-table-size-display"),t.options.rtl&&(i.tableHighlight.style.left=10*18-13+"px");let a=this.setController_table(t);i.tableController=a,i.resizeButton=a.querySelector("._se_table_resize"),i.resizeText=a.querySelector("._se_table_resize > span > span"),i.columnFixedButton=a.querySelector("._se_table_fixed_column"),i.headerButton=a.querySelector("._se_table_header");let l=this.setController_tableEditor(t,i.cellControllerTop);i.resizeDiv=l,i.splitMenu=l.querySelector(".se-btn-group-sub"),i.mergeButton=l.querySelector("._se_table_merge_button"),i.splitButton=l.querySelector("._se_table_split_button"),i.insertRowAboveButton=l.querySelector("._se_table_insert_row_a"),i.insertRowBelowButton=l.querySelector("._se_table_insert_row_b"),r.addEventListener("mousemove",this.onMouseMove_tablePicker.bind(t,i)),r.addEventListener("click",this.appendTable.bind(t)),l.addEventListener("click",this.onClick_tableController.bind(t)),a.addEventListener("click",this.onClick_tableController.bind(t)),t.initMenuTarget(this.name,e,s),n.element.relative.appendChild(l),n.element.relative.appendChild(a),s=null,r=null,l=null,a=null,i=null},setSubmenu:function(t){const e=t.util.createElement("DIV");return e.className="se-submenu se-selector-table",e.innerHTML='<div class="se-table-size"><div class="se-table-size-picker se-controller-table-picker"></div><div class="se-table-size-highlighted"></div><div class="se-table-size-unhighlighted"></div></div><div class="se-table-size-display">1 x 1</div>',e},setController_table:function(t){const e=t.lang,n=t.icons,i=t.util.createElement("DIV");return i.className="se-controller se-controller-table",i.innerHTML='<div><div class="se-btn-group"><button type="button" data-command="resize" class="se-btn se-tooltip _se_table_resize">'+n.expansion+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.maxSize+'</span></span></button><button type="button" data-command="layout" class="se-btn se-tooltip _se_table_fixed_column">'+n.fixed_column_width+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.fixedColumnWidth+'</span></span></button><button type="button" data-command="header" class="se-btn se-tooltip _se_table_header">'+n.table_header+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.tableHeader+'</span></span></button><button type="button" data-command="remove" class="se-btn se-tooltip">'+n.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.remove+"</span></span></button></div></div>",i},setController_tableEditor:function(t,e){const n=t.lang,i=t.icons,s=t.util.createElement("DIV");return s.className="se-controller se-controller-table-cell",s.innerHTML=(e?"":'<div class="se-arrow se-arrow-up"></div>')+'<div class="se-btn-group"><button type="button" data-command="insert" data-value="row" data-option="up" class="se-btn se-tooltip _se_table_insert_row_a">'+i.insert_row_above+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+n.controller.insertRowAbove+'</span></span></button><button type="button" data-command="insert" data-value="row" data-option="down" class="se-btn se-tooltip _se_table_insert_row_b">'+i.insert_row_below+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+n.controller.insertRowBelow+'</span></span></button><button type="button" data-command="delete" data-value="row" class="se-btn se-tooltip">'+i.delete_row+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+n.controller.deleteRow+'</span></span></button><button type="button" data-command="merge" class="_se_table_merge_button se-btn se-tooltip" disabled>'+i.merge_cell+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+n.controller.mergeCells+'</span></span></button></div><div class="se-btn-group" style="padding-top: 0;"><button type="button" data-command="insert" data-value="cell" data-option="left" class="se-btn se-tooltip">'+i.insert_column_left+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+n.controller.insertColumnBefore+'</span></span></button><button type="button" data-command="insert" data-value="cell" data-option="right" class="se-btn se-tooltip">'+i.insert_column_right+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+n.controller.insertColumnAfter+'</span></span></button><button type="button" data-command="delete" data-value="cell" class="se-btn se-tooltip">'+i.delete_column+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+n.controller.deleteColumn+'</span></span></button><button type="button" data-command="onsplit" class="_se_table_split_button se-btn se-tooltip">'+i.split_cell+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+n.controller.splitCells+'</span></span></button><div class="se-btn-group-sub sun-editor-common se-list-layer se-table-split"><div class="se-list-inner"><ul class="se-list-basic"><li class="se-btn-list" data-command="split" data-value="vertical" style="line-height:32px;" title="'+n.controller.VerticalSplit+'" aria-label="'+n.controller.VerticalSplit+'">'+n.controller.VerticalSplit+'</li><li class="se-btn-list" data-command="split" data-value="horizontal" style="line-height:32px;" title="'+n.controller.HorizontalSplit+'" aria-label="'+n.controller.HorizontalSplit+'">'+n.controller.HorizontalSplit+"</li></ul></div></div></div>",s},appendTable:function(){const t=this.util.createElement("TABLE"),e=this.plugins.table.createCells,n=this.context.table._tableXY[0];let i=this.context.table._tableXY[1],s="<tbody>";for(;i>0;)s+="<tr>"+e.call(this,"td",n)+"</tr>",--i;if(s+="</tbody>",t.innerHTML=s,this.insertComponent(t,!1,!0,!1)){const a=t.querySelector("td div");this.setRange(a,0,a,0),this.plugins.table.reset_table_picker.call(this)}},createCells:function(t,e,n){if(t=t.toLowerCase(),n){const i=this.util.createElement(t);return i.innerHTML="<div><br></div>",i}else{let i="";for(;e>0;)i+="<"+t+"><div><br></div></"+t+">",e--;return i}},onMouseMove_tablePicker:function(t,e){e.stopPropagation();let n=this._w.Math.ceil(e.offsetX/18),i=this._w.Math.ceil(e.offsetY/18);n=n<1?1:n,i=i<1?1:i,t._rtl&&(t.tableHighlight.style.left=n*18-13+"px",n=11-n),t.tableHighlight.style.width=n+"em",t.tableHighlight.style.height=i+"em",this.util.changeTxt(t.tableDisplay,n+" x "+i),t._tableXY=[n,i]},reset_table_picker:function(){if(!this.context.table.tableHighlight)return;const t=this.context.table.tableHighlight.style,e=this.context.table.tableUnHighlight.style;t.width="1em",t.height="1em",e.width="10em",e.height="10em",this.util.changeTxt(this.context.table.tableDisplay,"1 x 1"),this.submenuOff()},init:function(){const t=this.context.table,e=this.plugins.table;if(e._removeEvents.call(this),e._selectedTable){const n=e._selectedTable.querySelectorAll(".se-table-selected-cell");for(let i=0,s=n.length;i<s;i++)this.util.removeClass(n[i],"se-table-selected-cell")}e._toggleEditor.call(this,!0),t._element=null,t._tdElement=null,t._trElement=null,t._trElements=null,t._tableXY=[],t._maxWidth=!0,t._fixedColumn=!1,t._physical_cellCnt=0,t._logical_cellCnt=0,t._rowCnt=0,t._rowIndex=0,t._physical_cellIndex=0,t._logical_cellIndex=0,t._current_colSpan=0,t._current_rowSpan=0,e._shift=!1,e._selectedCells=null,e._selectedTable=null,e._ref=null,e._fixedCell=null,e._selectedCell=null,e._fixedCellName=null},call_controller_tableEdit:function(t){const e=this.plugins.table,n=this.context.table;if(!this.getSelection().isCollapsed&&!e._selectedCell){this.controllersOff(),this.util.removeClass(t,"se-table-selected-cell");return}const i=n._element||this.plugins.table._selectedTable||this.util.getParentElement(t,"TABLE");n._maxWidth=this.util.hasClass(i,"se-table-size-100")||i.style.width==="100%"||!i.style.width&&!this.util.hasClass(i,"se-table-size-auto"),n._fixedColumn=this.util.hasClass(i,"se-table-layout-fixed")||i.style.tableLayout==="fixed",e.setTableStyle.call(this,n._maxWidth?"width|column":"width"),e.setPositionControllerTop.call(this,i),e.setPositionControllerDiv.call(this,t,e._shift),e._shift||this.controllersOn(n.resizeDiv,n.tableController,e.init.bind(this),t,"table")},setPositionControllerTop:function(t){this.setControllerPosition(this.context.table.tableController,t,"top",{left:0,top:0})},setPositionControllerDiv:function(t,e){const n=this.context.table,i=n.resizeDiv;this.plugins.table.setCellInfo.call(this,t,e),n.cellControllerTop?this.setControllerPosition(i,n._element,"top",{left:n.tableController.offsetWidth,top:0}):this.setControllerPosition(i,t,"bottom",{left:0,top:0})},setCellInfo:function(t,e){const n=this.context.table,i=n._element=this.plugins.table._selectedTable||this.util.getParentElement(t,"TABLE");if(/THEAD/i.test(i.firstElementChild.nodeName)?this.util.addClass(n.headerButton,"active"):this.util.removeClass(n.headerButton,"active"),e||n._physical_cellCnt===0){n._tdElement!==t&&(n._tdElement=t,n._trElement=t.parentNode);const s=n._trElements=i.rows,r=t.cellIndex;let a=0;for(let f=0,y=s[0].cells,b=s[0].cells.length;f<b;f++)a+=y[f].colSpan;const l=n._rowIndex=n._trElement.rowIndex;n._rowCnt=s.length,n._physical_cellCnt=n._trElement.cells.length,n._logical_cellCnt=a,n._physical_cellIndex=r,n._current_colSpan=n._tdElement.colSpan-1,n._current_rowSpan-n._trElement.cells[r].rowSpan-1;let o=[],d=[];for(let f=0,y,b;f<=l;f++){y=s[f].cells,b=0;for(let w=0,v=y.length,x,c,u,h;w<v;w++){if(x=y[w],c=x.colSpan-1,u=x.rowSpan-1,h=w+b,d.length>0)for(let p=0,m;p<d.length;p++)m=d[p],!(m.row>f)&&(h>=m.index?(b+=m.cs,h+=m.cs,m.rs-=1,m.row=f+1,m.rs<1&&(d.splice(p,1),p--)):w===v-1&&(m.rs-=1,m.row=f+1,m.rs<1&&(d.splice(p,1),p--)));if(f===l&&w===r){n._logical_cellIndex=h;break}u>0&&o.push({index:h,cs:c+1,rs:u,row:-1}),b+=c}d=d.concat(o).sort(function(w,v){return w.index-v.index}),o=[]}o=null,d=null}},editTable:function(t,e){const n=this.plugins.table,i=this.context.table,s=i._element,r=t==="row";if(r){const a=i._trElement.parentNode;if(/^THEAD$/i.test(a.nodeName)){if(e==="up")return;if(!a.nextElementSibling||!/^TBODY$/i.test(a.nextElementSibling.nodeName)){s.innerHTML+="<tbody><tr>"+n.createCells.call(this,"td",i._logical_cellCnt,!1)+"</tr></tbody>";return}}}if(n._ref){const a=i._tdElement,l=n._selectedCells;if(r)if(e)n.setCellInfo.call(this,e==="up"?l[0]:l[l.length-1],!0),n.editRow.call(this,e,a);else{let o=l[0].parentNode;const d=[l[0]];for(let f=1,y=l.length,b;f<y;f++)b=l[f],o!==b.parentNode&&(d.push(b),o=b.parentNode);for(let f=0,y=d.length;f<y;f++)n.setCellInfo.call(this,d[f],!0),n.editRow.call(this,e)}else{const o=l[0].parentNode;if(e){let d=null;for(let f=0,y=l.length-1;f<y;f++)if(o!==l[f+1].parentNode){d=l[f];break}n.setCellInfo.call(this,e==="left"?l[0]:d||l[0],!0),n.editCell.call(this,e,a)}else{const d=[l[0]];for(let f=1,y=l.length,b;f<y&&(b=l[f],o===b.parentNode);f++)d.push(b);for(let f=0,y=d.length;f<y;f++)n.setCellInfo.call(this,d[f],!0),n.editCell.call(this,e)}}e||n.init.call(this)}else n[r?"editRow":"editCell"].call(this,e);if(!e){const a=s.children;for(let l=0;l<a.length;l++)a[l].children.length===0&&(this.util.removeItem(a[l]),l--);s.children.length===0&&this.util.removeItem(s)}},editRow:function(t,e){const n=this.context.table,i=!t,s=t==="up",r=n._rowIndex,a=i||s?r:r+n._current_rowSpan+1,l=i?-1:1,o=n._trElements;let d=n._logical_cellCnt;for(let f=0,y=r+(i?-1:0),b;f<=y;f++){if(b=o[f].cells,b.length===0)return;for(let w=0,v=b.length,x,c;w<v;w++)x=b[w].rowSpan,c=b[w].colSpan,!(x<2&&c<2)&&x+f>a&&a>f&&(b[w].rowSpan=x+l,d-=c)}if(i){const f=o[r+1];if(f){const y=[];let b=o[r].cells,w=0;for(let v=0,x=b.length,c,u;v<x;v++)c=b[v],u=v+w,w+=c.colSpan-1,c.rowSpan>1&&(c.rowSpan-=1,y.push({cell:c.cloneNode(!1),index:u}));if(y.length>0){let v=y.shift();b=f.cells,w=0;for(let x=0,c=b.length,u,h;x<c&&(u=b[x],h=x+w,w+=u.colSpan-1,!(h>=v.index&&(x--,w--,w+=v.cell.colSpan-1,f.insertBefore(v.cell,u),v=y.shift(),!v)));x++);if(v){f.appendChild(v.cell);for(let x=0,c=y.length;x<c;x++)f.appendChild(y[x].cell)}}}n._element.deleteRow(a)}else{const f=n._element.insertRow(a);f.innerHTML=this.plugins.table.createCells.call(this,"td",d,!1)}i?this.controllersOff():this.plugins.table.setPositionControllerDiv.call(this,e||n._tdElement,!0)},editCell:function(t,e){const n=this.context.table,i=this.util,s=!t,r=t==="left",a=n._current_colSpan,l=s||r?n._logical_cellIndex:n._logical_cellIndex+a+1,o=n._trElements;let d=[],f=[],y=0;const b=[],w=[];for(let v=0,x=n._rowCnt,c,u,h,p,m,g;v<x;v++){c=o[v],u=l,m=!1,h=c.cells,g=0;for(let _=0,C,E=h.length,k,T,O;_<E&&(C=h[_],!!C);_++)if(k=C.rowSpan-1,T=C.colSpan-1,s){if(O=_+g,f.length>0){const M=!h[_+1];for(let F=0,N;F<f.length;F++)N=f[F],!(N.row>v)&&(O>=N.index?(g+=N.cs,O=_+g,N.rs-=1,N.row=v+1,N.rs<1&&(f.splice(F,1),F--)):M&&(N.rs-=1,N.row=v+1,N.rs<1&&(f.splice(F,1),F--)))}k>0&&d.push({rs:k,cs:T+1,index:O,row:-1}),O>=u&&O+T<=u+a?b.push(C):O<=u+a&&O+T>=u?C.colSpan-=i.getOverlapRangeAtIndex(l,l+a,O,O+T):k>0&&(O<u||O+T>u+a)&&w.push({cell:C,i:v,rs:v+k}),g+=T}else{if(_>=u)break;if(T>0){if(y<1&&T+_>=u){C.colSpan+=1,u=null,y=k+1;break}u-=T}if(!m){for(let M=0,F;M<f.length;M++)F=f[M],u-=F.cs,F.rs-=1,F.rs<1&&(f.splice(M,1),M--);m=!0}}if(f=f.concat(d).sort(function(_,C){return _.index-C.index}),d=[],!s){if(y>0){y-=1;continue}u!==null&&h.length>0&&(p=this.plugins.table.createCells.call(this,h[0].nodeName,0,!0),p=c.insertBefore(p,h[u]))}}if(s){let v,x;for(let c=0,u=b.length,h;c<u;c++)h=b[c].parentNode,i.removeItem(b[c]),h.cells.length===0&&(v||(v=i.getArrayIndex(o,h)),x=i.getArrayIndex(o,h),i.removeItem(h));for(let c=0,u=w.length,h;c<u;c++)h=w[c],h.cell.rowSpan=i.getOverlapRangeAtIndex(v,x,h.i,h.rs);this.controllersOff()}else this.plugins.table.setPositionControllerDiv.call(this,e||n._tdElement,!0)},_closeSplitMenu:null,openSplitMenu:function(){this.util.addClass(this.context.table.splitButton,"on"),this.context.table.splitMenu.style.display="inline-table",this.plugins.table._closeSplitMenu=function(){this.util.removeClass(this.context.table.splitButton,"on"),this.context.table.splitMenu.style.display="none",this.removeDocEvent("click",this.plugins.table._closeSplitMenu),this.plugins.table._closeSplitMenu=null}.bind(this),this.addDocEvent("click",this.plugins.table._closeSplitMenu)},splitCells:function(t){const e=this.util,n=t==="vertical",i=this.context.table,s=i._tdElement,r=i._trElements,a=i._trElement,l=i._logical_cellIndex,o=i._rowIndex,d=this.plugins.table.createCells.call(this,s.nodeName,0,!0);if(n){const f=s.colSpan;if(d.rowSpan=s.rowSpan,f>1)d.colSpan=this._w.Math.floor(f/2),s.colSpan=f-d.colSpan,a.insertBefore(d,s.nextElementSibling);else{let y=[],b=[];for(let w=0,v=i._rowCnt,x,c;w<v;w++){x=r[w].cells,c=0;for(let u=0,h=x.length,p,m,g,_;u<h;u++){if(p=x[u],m=p.colSpan-1,g=p.rowSpan-1,_=u+c,b.length>0)for(let C=0,E;C<b.length;C++)E=b[C],!(E.row>w)&&(_>=E.index?(c+=E.cs,_+=E.cs,E.rs-=1,E.row=w+1,E.rs<1&&(b.splice(C,1),C--)):u===h-1&&(E.rs-=1,E.row=w+1,E.rs<1&&(b.splice(C,1),C--)));if(_<=l&&g>0&&y.push({index:_,cs:m+1,rs:g,row:-1}),p!==s&&_<=l&&_+m>=l+f-1){p.colSpan+=1;break}if(_>l)break;c+=m}b=b.concat(y).sort(function(u,h){return u.index-h.index}),y=[]}a.insertBefore(d,s.nextElementSibling)}}else{const f=s.rowSpan;if(d.colSpan=s.colSpan,f>1){d.rowSpan=this._w.Math.floor(f/2);const y=f-d.rowSpan,b=[],w=e.getArrayIndex(r,a)+y;for(let u=0,h,p;u<w;u++){h=r[u].cells,p=0;for(let m=0,g=h.length,_,C,E;m<g&&(E=m+p,!(E>=l));m++)_=h[m],C=_.rowSpan-1,C>0&&C+u>=w&&E<l&&b.push({index:E,cs:_.colSpan}),p+=_.colSpan-1}const v=r[w],x=v.cells;let c=b.shift();for(let u=0,h=x.length,p=0,m,g,_,C;u<h;u++){if(_=u+p,m=x[u],g=m.colSpan-1,C=_+g+1,c&&C>=c.index&&(p+=c.cs,C+=c.cs,c=b.shift()),C>=l||u===h-1){v.insertBefore(d,m.nextElementSibling);break}p+=g}s.rowSpan=y}else{d.rowSpan=s.rowSpan;const y=e.createElement("TR");y.appendChild(d);for(let v=0,x;v<o;v++){if(x=r[v].cells,x.length===0)return;for(let c=0,u=x.length;c<u;c++)v+x[c].rowSpan-1>=o&&(x[c].rowSpan+=1)}const b=i._physical_cellIndex,w=a.cells;for(let v=0,x=w.length;v<x;v++)v!==b&&(w[v].rowSpan+=1);a.parentNode.insertBefore(y,a.nextElementSibling)}}this.focusEdge(s),this.plugins.table.setPositionControllerDiv.call(this,s,!0)},mergeCells:function(){const t=this.plugins.table,e=this.context.table,n=this.util,i=t._ref,s=t._selectedCells,r=s[0];let a=null,l=null,o=i.ce-i.cs+1,d=i.re-i.rs+1,f="",y=null;for(let b=1,w=s.length,v,x;b<w;b++){v=s[b],y!==v.parentNode&&(y=v.parentNode),x=v.children;for(let c=0,u=x.length;c<u;c++)n.isFormatElement(x[c])&&n.onlyZeroWidthSpace(x[c].textContent)&&n.removeItem(x[c]);f+=v.innerHTML,n.removeItem(v),y.cells.length===0&&(a?l=y:a=y,d-=1)}if(a){const b=e._trElements,w=n.getArrayIndex(b,a),v=n.getArrayIndex(b,l||a),x=[];for(let c=0,u;c<=v;c++){if(u=b[c].cells,u.length===0){x.push(b[c]);continue}for(let h=0,p=u.length,m,g;h<p;h++)m=u[h],g=m.rowSpan-1,g>0&&c+g>=w&&(m.rowSpan-=n.getOverlapRangeAtIndex(w,v,c,c+g))}for(let c=0,u=x.length;c<u;c++)n.removeItem(x[c])}r.innerHTML+=f,r.colSpan=o,r.rowSpan=d,this.controllersOff(),t.setActiveButton.call(this,!0,!1),t.call_controller_tableEdit.call(this,r),n.addClass(r,"se-table-selected-cell"),this.focusEdge(r)},toggleHeader:function(){const t=this.util,e=this.context.table.headerButton,n=t.hasClass(e,"active"),i=this.context.table._element;if(n)t.removeItem(i.querySelector("thead"));else{const s=t.createElement("THEAD");s.innerHTML="<tr>"+this.plugins.table.createCells.call(this,"th",this.context.table._logical_cellCnt,!1)+"</tr>",i.insertBefore(s,i.firstElementChild)}t.toggleClass(e,"active"),/TH/i.test(this.context.table._tdElement.nodeName)?this.controllersOff():this.plugins.table.setPositionControllerDiv.call(this,this.context.table._tdElement,!1)},setTableStyle:function(t){const e=this.context.table,n=e._element;let i,s,r,a;t.indexOf("width")>-1&&(i=e.resizeButton.firstElementChild,s=e.resizeText,e._maxWidth?(r=e.icons.reduction,a=e.minText,e.columnFixedButton.style.display="block",this.util.removeClass(n,"se-table-size-auto"),this.util.addClass(n,"se-table-size-100")):(r=e.icons.expansion,a=e.maxText,e.columnFixedButton.style.display="none",this.util.removeClass(n,"se-table-size-100"),this.util.addClass(n,"se-table-size-auto")),this.util.changeElement(i,r),this.util.changeTxt(s,a)),t.indexOf("column")>-1&&(e._fixedColumn?(this.util.removeClass(n,"se-table-layout-auto"),this.util.addClass(n,"se-table-layout-fixed"),this.util.addClass(e.columnFixedButton,"active")):(this.util.removeClass(n,"se-table-layout-fixed"),this.util.addClass(n,"se-table-layout-auto"),this.util.removeClass(e.columnFixedButton,"active")))},setActiveButton:function(t,e){const n=this.context.table;/^TH$/i.test(t.nodeName)?(n.insertRowAboveButton.setAttribute("disabled",!0),n.insertRowBelowButton.setAttribute("disabled",!0)):(n.insertRowAboveButton.removeAttribute("disabled"),n.insertRowBelowButton.removeAttribute("disabled")),!e||t===e?(n.splitButton.removeAttribute("disabled"),n.mergeButton.setAttribute("disabled",!0)):(n.splitButton.setAttribute("disabled",!0),n.mergeButton.removeAttribute("disabled"))},_bindOnSelect:null,_bindOffSelect:null,_bindOffShift:null,_selectedCells:null,_shift:!1,_fixedCell:null,_fixedCellName:null,_selectedCell:null,_selectedTable:null,_ref:null,_toggleEditor:function(t){this.context.element.wysiwyg.setAttribute("contenteditable",t),t?this.util.removeClass(this.context.element.wysiwyg,"se-disabled"):this.util.addClass(this.context.element.wysiwyg,"se-disabled")},_offCellMultiSelect:function(t){t.stopPropagation();const e=this.plugins.table;e._shift?e._initBind&&(this._wd.removeEventListener("touchmove",e._initBind),e._initBind=null):(e._removeEvents.call(this),e._toggleEditor.call(this,!0)),!(!e._fixedCell||!e._selectedTable)&&(e.setActiveButton.call(this,e._fixedCell,e._selectedCell),e.call_controller_tableEdit.call(this,e._selectedCell||e._fixedCell),e._selectedCells=e._selectedTable.querySelectorAll(".se-table-selected-cell"),e._selectedCell&&e._fixedCell&&this.focusEdge(e._selectedCell),e._shift||(e._fixedCell=null,e._selectedCell=null,e._fixedCellName=null))},_onCellMultiSelect:function(t){this._antiBlur=!0;const e=this.plugins.table,n=this.util.getParentElement(t.target,this.util.isCell);if(e._shift)n===e._fixedCell?e._toggleEditor.call(this,!0):e._toggleEditor.call(this,!1);else if(!e._ref){if(n===e._fixedCell)return;e._toggleEditor.call(this,!1)}!n||n===e._selectedCell||e._fixedCellName!==n.nodeName||e._selectedTable!==this.util.getParentElement(n,"TABLE")||(e._selectedCell=n,e._setMultiCells.call(this,e._fixedCell,n))},_setMultiCells:function(t,e){const n=this.plugins.table,i=n._selectedTable.rows,s=this.util,r=n._selectedTable.querySelectorAll(".se-table-selected-cell");for(let f=0,y=r.length;f<y;f++)s.removeClass(r[f],"se-table-selected-cell");if(t===e&&(s.addClass(t,"se-table-selected-cell"),!n._shift))return;let a=!0,l=[],o=[];const d=n._ref={_i:0,cs:null,ce:null,rs:null,re:null};for(let f=0,y=i.length,b,w;f<y;f++){b=i[f].cells,w=0;for(let v=0,x=b.length,c,u,h,p;v<x;v++){if(c=b[v],h=c.colSpan-1,p=c.rowSpan-1,u=v+w,l.length>0)for(let m=0,g;m<l.length;m++)g=l[m],!(g.row>f)&&(u>=g.index?(w+=g.cs,u+=g.cs,g.rs-=1,g.row=f+1,g.rs<1&&(l.splice(m,1),m--)):v===x-1&&(g.rs-=1,g.row=f+1,g.rs<1&&(l.splice(m,1),m--)));if(a){if((c===t||c===e)&&(d.cs=d.cs!==null&&d.cs<u?d.cs:u,d.ce=d.ce!==null&&d.ce>u+h?d.ce:u+h,d.rs=d.rs!==null&&d.rs<f?d.rs:f,d.re=d.re!==null&&d.re>f+p?d.re:f+p,d._i+=1),d._i===2){a=!1,l=[],o=[],f=-1;break}}else if(s.getOverlapRangeAtIndex(d.cs,d.ce,u,u+h)&&s.getOverlapRangeAtIndex(d.rs,d.re,f,f+p)){const m=d.cs<u?d.cs:u,g=d.ce>u+h?d.ce:u+h,_=d.rs<f?d.rs:f,C=d.re>f+p?d.re:f+p;if(d.cs!==m||d.ce!==g||d.rs!==_||d.re!==C){d.cs=m,d.ce=g,d.rs=_,d.re=C,f=-1,l=[],o=[];break}s.addClass(c,"se-table-selected-cell")}p>0&&o.push({index:u,cs:h+1,rs:p,row:-1}),w+=c.colSpan-1}l=l.concat(o).sort(function(v,x){return v.index-x.index}),o=[]}},_removeEvents:function(){const t=this.plugins.table;t._initBind&&(this._wd.removeEventListener("touchmove",t._initBind),t._initBind=null),t._bindOnSelect&&(this._wd.removeEventListener("mousedown",t._bindOnSelect),this._wd.removeEventListener("mousemove",t._bindOnSelect),t._bindOnSelect=null),t._bindOffSelect&&(this._wd.removeEventListener("mouseup",t._bindOffSelect),t._bindOffSelect=null),t._bindOffShift&&(this._wd.removeEventListener("keyup",t._bindOffShift),t._bindOffShift=null)},_initBind:null,onTableCellMultiSelect:function(t,e){const n=this.plugins.table;n._removeEvents.call(this),this.controllersOff(),n._shift=e,n._fixedCell=t,n._fixedCellName=t.nodeName,n._selectedTable=this.util.getParentElement(t,"TABLE");const i=n._selectedTable.querySelectorAll(".se-table-selected-cell");for(let s=0,r=i.length;s<r;s++)this.util.removeClass(i[s],"se-table-selected-cell");this.util.addClass(t,"se-table-selected-cell"),n._bindOnSelect=n._onCellMultiSelect.bind(this),n._bindOffSelect=n._offCellMultiSelect.bind(this),e?(n._bindOffShift=function(){this.controllersOn(this.context.table.resizeDiv,this.context.table.tableController,this.plugins.table.init.bind(this),t,"table"),n._ref||this.controllersOff()}.bind(this),this._wd.addEventListener("keyup",n._bindOffShift,!1),this._wd.addEventListener("mousedown",n._bindOnSelect,!1)):this._wd.addEventListener("mousemove",n._bindOnSelect,!1),this._wd.addEventListener("mouseup",n._bindOffSelect,!1),n._initBind=n.init.bind(this),this._wd.addEventListener("touchmove",n._initBind,!1)},onClick_tableController:function(t){t.stopPropagation();const e=t.target.getAttribute("data-command")?t.target:t.target.parentNode;if(e.getAttribute("disabled"))return;const n=e.getAttribute("data-command"),i=e.getAttribute("data-value"),s=e.getAttribute("data-option"),r=this.plugins.table;if(typeof r._closeSplitMenu=="function"&&(r._closeSplitMenu(),n==="onsplit")||!n)return;t.preventDefault();const a=this.context.table;switch(n){case"insert":case"delete":r.editTable.call(this,i,s);break;case"header":r.toggleHeader.call(this);break;case"onsplit":r.openSplitMenu.call(this);break;case"split":r.splitCells.call(this,i);break;case"merge":r.mergeCells.call(this);break;case"resize":a._maxWidth=!a._maxWidth,r.setTableStyle.call(this,"width"),r.setPositionControllerTop.call(this,a._element),r.setPositionControllerDiv.call(this,a._tdElement,r._shift);break;case"layout":a._fixedColumn=!a._fixedColumn,r.setTableStyle.call(this,"column"),r.setPositionControllerTop.call(this,a._element),r.setPositionControllerDiv.call(this,a._tdElement,r._shift);break;case"remove":const l=a._element.parentNode;this.util.removeItem(a._element),this.controllersOff(),l!==this.context.element.wysiwyg&&this.util.removeItemAllParents(l,function(o){return o.childNodes.length===0},null),this.focus()}this.history.push(!1)}},Bu={name:"formatBlock",display:"submenu",add:function(t,e){const n=t.context;n.formatBlock={targetText:e.querySelector(".txt"),targetTooltip:e.parentNode.querySelector(".se-tooltip-text"),_formatList:null,currentFormat:""};let i=this.setSubmenu(t);i.querySelector("ul").addEventListener("click",this.pickUp.bind(t)),n.formatBlock._formatList=i.querySelectorAll("li button"),t.initMenuTarget(this.name,e,i),i=null},setSubmenu:function(t){const e=t.options,n=t.lang.toolbar,i=t.util.createElement("DIV");i.className="se-submenu se-list-layer se-list-format";const s=["p","div","blockquote","pre","h1","h2","h3","h4","h5","h6"],r=!e.formats||e.formats.length===0?s:e.formats;let a='<div class="se-list-inner"><ul class="se-list-basic">';for(let l=0,o=r.length,d,f,y,b,w,v,x;l<o;l++)d=r[l],typeof d=="string"&&s.indexOf(d)>-1?(f=d.toLowerCase(),y=f==="blockquote"?"range":f==="pre"?"free":"replace",w=/^h/.test(f)?f.match(/\d+/)[0]:"",b=n["tag_"+(w?"h":f)]+w,x="",v=""):(f=d.tag.toLowerCase(),y=d.command,b=d.name||f,x=d.class,v=x?' class="'+x+'"':""),a+='<li><button type="button" class="se-btn-list" data-command="'+y+'" data-value="'+f+'" data-class="'+x+'" title="'+b+'" aria-label="'+b+'"><'+f+v+">"+b+"</"+f+"></button></li>";return a+="</ul></div>",i.innerHTML=a,i},active:function(t){let e=this.lang.toolbar.formats;const n=this.context.formatBlock.targetText;if(!t)this.util.changeTxt(n,e);else if(this.util.isFormatElement(t)){const s=this.context.formatBlock._formatList,r=t.nodeName.toLowerCase(),a=(t.className.match(/(\s|^)__se__format__[^\s]+/)||[""])[0].trim();for(let l=0,o=s.length,d;l<o;l++)if(d=s[l],r===d.getAttribute("data-value")&&a===d.getAttribute("data-class")){e=d.title;break}return this.util.changeTxt(n,e),n.setAttribute("data-value",r),n.setAttribute("data-class",a),!0}return!1},on:function(){const t=this.context.formatBlock,e=t._formatList,n=t.targetText,i=(n.getAttribute("data-value")||"")+(n.getAttribute("data-class")||"");if(i!==t.currentFormat){for(let s=0,r=e.length,a;s<r;s++)a=e[s],i===a.getAttribute("data-value")+a.getAttribute("data-class")?this.util.addClass(a,"active"):this.util.removeClass(a,"active");t.currentFormat=i}},pickUp:function(t){t.preventDefault(),t.stopPropagation();let e=t.target,n=null,i=null,s=null,r="";for(;!n&&!/UL/i.test(e.tagName);){if(n=e.getAttribute("data-command"),i=e.getAttribute("data-value"),r=e.getAttribute("data-class"),n){s=e.firstChild;break}e=e.parentNode}if(n){if(n==="range"){const a=s.cloneNode(!1);this.applyRangeFormatElement(a)}else{let a=this.getRange(),l=this.getSelectedElementsAndComponents(!1);if(l.length===0&&(a=this.getRange_addLine(a,null),l=this.getSelectedElementsAndComponents(!1),l.length===0))return;const o=a.startOffset,d=a.endOffset,f=this.util;let y=l[0],b=l[l.length-1];const w=f.getNodePath(a.startContainer,y,null,null),v=f.getNodePath(a.endContainer,b,null,null),x=this.detachList(l,!1);x.sc&&(y=x.sc),x.ec&&(b=x.ec),this.setRange(f.getNodeFromPath(w,y),o,f.getNodeFromPath(v,b),d);const c=this.getSelectedElementsAndComponents(!1);if(n==="free"){const u=c.length-1;let h=c[u].parentNode,p=s.cloneNode(!1);const m=p;for(let g=u,_,C,E,k,T,O,M=!0;g>=0;g--)if(_=c[g],_!==(c[g+1]?c[g+1].parentNode:null)){if(O=f.isComponent(_),C=O?"":_.innerHTML.replace(/(?!>)\s+(?=<)|\n/g," "),E=f.getParentElement(_,function(F){return F.parentNode===h}),(h!==_.parentNode||O)&&(f.isFormatElement(h)?(h.parentNode.insertBefore(p,h.nextSibling),h=h.parentNode):(h.insertBefore(p,E?E.nextSibling:null),h=_.parentNode),k=p.nextSibling,k&&p.nodeName===k.nodeName&&f.isSameAttributes(p,k)&&(p.innerHTML+="<BR>"+k.innerHTML,f.removeItem(k)),p=s.cloneNode(!1),M=!0),T=p.innerHTML,p.innerHTML=(M||!C||!T||/<br>$/i.test(C)?C:C+"<BR>")+T,g===0){h.insertBefore(p,_),k=_.nextSibling,k&&p.nodeName===k.nodeName&&f.isSameAttributes(p,k)&&(p.innerHTML+="<BR>"+k.innerHTML,f.removeItem(k));const F=p.previousSibling;F&&p.nodeName===F.nodeName&&f.isSameAttributes(p,F)&&(F.innerHTML+="<BR>"+p.innerHTML,f.removeItem(p))}O||f.removeItem(_),C&&(M=!1)}this.setRange(m,0,m,0)}else{for(let u=0,h=c.length,p,m;u<h;u++)p=c[u],(p.nodeName.toLowerCase()!==i.toLowerCase()||(p.className.match(/(\s|^)__se__format__[^\s]+/)||[""])[0].trim()!==r)&&!f.isComponent(p)&&(m=s.cloneNode(!1),f.copyFormatAttributes(m,p),m.innerHTML=p.innerHTML,p.parentNode.replaceChild(m,p)),u===0&&(y=m||p),u===h-1&&(b=m||p),m=null;this.setRange(f.getNodeFromPath(w,y),o,f.getNodeFromPath(v,b),d)}this.history.push(!1)}this.submenuOff()}}},Iu={name:"lineHeight",display:"submenu",add:function(t,e){const n=t.context;n.lineHeight={_sizeList:null,currentSize:-1};let i=this.setSubmenu(t),s=i.querySelector("ul");s.addEventListener("click",this.pickup.bind(t)),n.lineHeight._sizeList=s.querySelectorAll("li button"),t.initMenuTarget(this.name,e,i),i=null,s=null},setSubmenu:function(t){const e=t.options,n=t.lang,i=t.util.createElement("DIV");i.className="se-submenu se-list-layer";const s=e.lineHeights?e.lineHeights:[{text:"1",value:1},{text:"1.15",value:1.15},{text:"1.5",value:1.5},{text:"2",value:2}];let r='<div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="default_value se-btn-list" title="'+n.toolbar.default+'" aria-label="'+n.toolbar.default+'">('+n.toolbar.default+")</button></li>";for(let a=0,l=s.length,o;a<l;a++)o=s[a],r+='<li><button type="button" class="se-btn-list" data-value="'+o.value+'" title="'+o.text+'" aria-label="'+o.text+'">'+o.text+"</button></li>";return r+="</ul></div>",i.innerHTML=r,i},on:function(){const t=this.context.lineHeight,e=t._sizeList,n=this.util.getFormatElement(this.getSelectionNode()),i=n?n.style.lineHeight+"":"";if(i!==t.currentSize){for(let s=0,r=e.length;s<r;s++)i===e[s].getAttribute("data-value")?this.util.addClass(e[s],"active"):this.util.removeClass(e[s],"active");t.currentSize=i}},pickup:function(t){if(!/^BUTTON$/i.test(t.target.tagName))return!1;t.preventDefault(),t.stopPropagation();const e=t.target.getAttribute("data-value")||"",n=this.getSelectedElements();for(let i=0,s=n.length;i<s;i++)n[i].style.lineHeight=e;this.submenuOff(),this.history.push(!1)}},zu={name:"template",display:"submenu",add:function(t,e){const n=t.context;n.template={selectedIndex:-1};let i=this.setSubmenu(t);i.querySelector("ul").addEventListener("click",this.pickup.bind(t)),t.initMenuTarget(this.name,e,i),i=null},setSubmenu:function(t){const e=t.options.templates;if(!e||e.length===0)throw Error('[SUNEDITOR.plugins.template.fail] To use the "template" plugin, please define the "templates" option.');const n=t.util.createElement("DIV");n.className="se-list-layer";let i='<div class="se-submenu se-list-inner"><ul class="se-list-basic">';for(let s=0,r=e.length,a;s<r;s++)a=e[s],i+='<li><button type="button" class="se-btn-list" data-value="'+s+'" title="'+a.name+'" aria-label="'+a.name+'">'+a.name+"</button></li>";return i+="</ul></div>",n.innerHTML=i,n},pickup:function(t){if(!/^BUTTON$/i.test(t.target.tagName))return!1;t.preventDefault(),t.stopPropagation(),this.context.template.selectedIndex=t.target.getAttribute("data-value")*1;const e=this.options.templates[this.context.template.selectedIndex];if(e.html)this.setContents(e.html);else throw this.submenuOff(),Error('[SUNEDITOR.template.fail] cause : "templates[i].html not found"');this.submenuOff()}},Hu={name:"paragraphStyle",display:"submenu",add:function(t,e){const n=t.context;n.paragraphStyle={_classList:null};let i=this.setSubmenu(t);i.querySelector("ul").addEventListener("click",this.pickUp.bind(t)),n.paragraphStyle._classList=i.querySelectorAll("li button"),t.initMenuTarget(this.name,e,i),i=null},setSubmenu:function(t){const e=t.options,n=t.util.createElement("DIV");n.className="se-submenu se-list-layer se-list-format";const i=t.lang.menu,s={spaced:{name:i.spaced,class:"__se__p-spaced",_class:""},bordered:{name:i.bordered,class:"__se__p-bordered",_class:""},neon:{name:i.neon,class:"__se__p-neon",_class:""}},r=!e.paragraphStyles||e.paragraphStyles.length===0?["spaced","bordered","neon"]:e.paragraphStyles;let a='<div class="se-list-inner"><ul class="se-list-basic">';for(let l=0,o=r.length,d,f,y,b;l<o;l++){if(d=r[l],typeof d=="string"){const w=s[d.toLowerCase()];if(!w)continue;d=w}f=d.name,y=d.class?' class="'+d.class+'"':"",b=d._class,a+='<li><button type="button" class="se-btn-list'+(b?" "+b:"")+'" data-value="'+d.class+'" title="'+f+'" aria-label="'+f+'"><div'+y+">"+f+"</div></button></li>"}return a+="</ul></div>",n.innerHTML=a,n},on:function(){const e=this.context.paragraphStyle._classList,n=this.util.getFormatElement(this.getSelectionNode());for(let i=0,s=e.length;i<s;i++)this.util.hasClass(n,e[i].getAttribute("data-value"))?this.util.addClass(e[i],"active"):this.util.removeClass(e[i],"active")},pickUp:function(t){t.preventDefault(),t.stopPropagation();let e=t.target,n=null;for(;!/^UL$/i.test(e.tagName)&&(n=e.getAttribute("data-value"),!n);)e=e.parentNode;if(!n)return;let i=this.getSelectedElements();if(i.length===0&&(this.getRange_addLine(this.getRange(),null),i=this.getSelectedElements(),i.length===0))return;const s=this.util.hasClass(e,"active")?this.util.removeClass.bind(this.util):this.util.addClass.bind(this.util);for(let r=0,a=i.length;r<a;r++)s(i[r],n);this.submenuOff(),this.history.push(!1)}},Vu={name:"textStyle",display:"submenu",add:function(t,e){const n=t.context;n.textStyle={_styleList:null};let i=this.setSubmenu(t),s=i.querySelector("ul");s.addEventListener("click",this.pickup.bind(t)),n.textStyle._styleList=i.querySelectorAll("li button"),t.initMenuTarget(this.name,e,i),i=null,s=null},setSubmenu:function(t){const e=t.options,n=t.util.createElement("DIV");n.className="se-submenu se-list-layer se-list-format";const i={code:{name:t.lang.menu.code,class:"__se__t-code",tag:"code"},translucent:{name:t.lang.menu.translucent,style:"opacity: 0.5;",tag:"span"},shadow:{name:t.lang.menu.shadow,class:"__se__t-shadow",tag:"span"}},s=e.textStyles?e.textStyles:t._w.Object.keys(i);let r='<div class="se-list-inner"><ul class="se-list-basic">';for(let a=0,l=s.length,o,d,f,y,b,w,v;a<l;a++){if(o=s[a],y="",w="",b=[],typeof o=="string"){const x=i[o.toLowerCase()];if(!x)continue;o=x}f=o.name,d=o.tag||"span",v=o._class,o.style&&(y+=' style="'+o.style+'"',w+=o.style.replace(/:[^;]+(;|$)\s*/g,","),b.push("style")),o.class&&(y+=' class="'+o.class+'"',w+="."+o.class.trim().replace(/\s+/g,",."),b.push("class")),w=w.replace(/,$/,""),r+='<li><button type="button" class="se-btn-list'+(v?" "+v:"")+'" data-command="'+d+'" data-value="'+w+'" title="'+f+'" aria-label="'+f+'"><'+d+y+">"+f+"</"+d+"></button></li>"}return r+="</ul></div>",n.innerHTML=r,n},on:function(){const t=this.util,n=this.context.textStyle._styleList,i=this.getSelectionNode();for(let s=0,r=n.length,a,l,o;s<r;s++){a=n[s],l=a.getAttribute("data-value").split(",");for(let d=0,f,y;d<l.length;d++){for(f=i,o=!1;f&&!t.isFormatElement(f)&&!t.isComponent(f);){if(f.nodeName.toLowerCase()===a.getAttribute("data-command").toLowerCase()&&(y=l[d],/^\./.test(y)?t.hasClass(f,y.replace(/^\./,"")):f.style[y])){o=!0;break}f=f.parentNode}if(!o)break}o?t.addClass(a,"active"):t.removeClass(a,"active")}},pickup:function(t){t.preventDefault(),t.stopPropagation();let e=t.target,n=null,i=null;for(;!n&&!/UL/i.test(e.tagName);){if(n=e.getAttribute("data-command"),n){i=e.firstChild;break}e=e.parentNode}if(!n)return;const s=i.style.cssText.replace(/:.+(;|$)/g,",").split(",");s.pop();const r=i.classList;for(let o=0,d=r.length;o<d;o++)s.push("."+r[o]);const a=this.util.hasClass(e,"active")?null:i.cloneNode(!1),l=a?null:[i.nodeName];this.nodeChange(a,s,l,!0),this.submenuOff()}};var Uu={exports:{}};(function(t){(function(e,n){t.exports=e.document?n(e,!0):function(i){if(!i.document)throw new Error("SUNEDITOR_MODULES a window with a document");return n(i)}})(typeof window<"u"?window:Pe,function(e,n){const i={name:"dialog",add:function(s){const r=s.context;r.dialog={kind:"",updateModal:!1,_closeSignal:!1};let a=s.util.createElement("DIV");a.className="se-dialog sun-editor-common";let l=s.util.createElement("DIV");l.className="se-dialog-back",l.style.display="none";let o=s.util.createElement("DIV");o.className="se-dialog-inner",o.style.display="none",a.appendChild(l),a.appendChild(o),r.dialog.modalArea=a,r.dialog.back=l,r.dialog.modal=o,r.dialog.modal.addEventListener("mousedown",this._onMouseDown_dialog.bind(s)),r.dialog.modal.addEventListener("click",this._onClick_dialog.bind(s)),r.element.relative.appendChild(a),a=null,l=null,o=null},_onMouseDown_dialog:function(s){/se-dialog-inner/.test(s.target.className)?this.context.dialog._closeSignal=!0:this.context.dialog._closeSignal=!1},_onClick_dialog:function(s){(/close/.test(s.target.getAttribute("data-command"))||this.context.dialog._closeSignal)&&this.plugins.dialog.close.call(this)},open:function(s,r){if(this.modalForm)return!1;this.plugins.dialog._bindClose&&(this._d.removeEventListener("keydown",this.plugins.dialog._bindClose),this.plugins.dialog._bindClose=null),this.plugins.dialog._bindClose=function(l){/27/.test(l.keyCode)&&this.plugins.dialog.close.call(this)}.bind(this),this._d.addEventListener("keydown",this.plugins.dialog._bindClose),this.context.dialog.updateModal=r,this.options.popupDisplay==="full"?this.context.dialog.modalArea.style.position="fixed":this.context.dialog.modalArea.style.position="absolute",this.context.dialog.kind=s,this.modalForm=this.context[s].modal;const a=this.context[s].focusElement;typeof this.plugins[s].on=="function"&&this.plugins[s].on.call(this,r),this.context.dialog.modalArea.style.display="block",this.context.dialog.back.style.display="block",this.context.dialog.modal.style.display="block",this.modalForm.style.display="block",a&&a.focus()},_bindClose:null,close:function(){this.plugins.dialog._bindClose&&(this._d.removeEventListener("keydown",this.plugins.dialog._bindClose),this.plugins.dialog._bindClose=null);const s=this.context.dialog.kind;this.modalForm.style.display="none",this.context.dialog.back.style.display="none",this.context.dialog.modalArea.style.display="none",this.context.dialog.updateModal=!1,typeof this.plugins[s].init=="function"&&this.plugins[s].init.call(this),this.context.dialog.kind="",this.modalForm=null,this.focus()}};return typeof n>"u"&&(e.SUNEDITOR_MODULES||Object.defineProperty(e,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_MODULES,"dialog",{enumerable:!0,writable:!1,configurable:!1,value:i})),i})})(Uu);var A1=Uu.exports;const Mi=Jt(A1),M1={name:"selectMenu",add:function(t){t.context.selectMenu={caller:{},callerContext:null}},setForm:function(){return'<div class="se-select-list"></div>'},createList:function(t,e,n){t.form.innerHTML="<ul>"+n+"</ul>",t.items=e,t.menus=t.form.querySelectorAll("li")},initEvent:function(t,e){const n=e.querySelector(".se-select-list"),i=this.context.selectMenu.caller[t]={form:n,items:[],menus:[],index:-1,item:null,clickMethod:null,callerName:t};n.addEventListener("mousedown",this.plugins.selectMenu.onMousedown_list),n.addEventListener("mousemove",this.plugins.selectMenu.onMouseMove_list.bind(this,i)),n.addEventListener("click",this.plugins.selectMenu.onClick_list.bind(this,i))},onMousedown_list:function(t){t.preventDefault(),t.stopPropagation()},onMouseMove_list:function(t,e){this.util.addClass(t.form,"__se_select-menu-mouse-move");const n=e.target.getAttribute("data-index");n&&(t.index=n*1)},onClick_list:function(t,e){const n=e.target.getAttribute("data-index");n&&t.clickMethod.call(this,t.items[n])},moveItem:function(t,e){this.util.removeClass(t.form,"__se_select-menu-mouse-move"),e=t.index+e;const n=t.menus,i=n.length,s=t.index=e>=i?0:e<0?i-1:e;for(let r=0;r<i;r++)r===s?this.util.addClass(n[r],"active"):this.util.removeClass(n[r],"active");t.item=t.items[s]},getItem:function(t,e){return e=!e||e<0?t.index:e,t.items[e]},on:function(t,e){const n=this.context.selectMenu.caller[t];this.context.selectMenu.callerContext=n,n.clickMethod=e,n.callerName=t},open:function(t,e){const n=t.form;n.style.visibility="hidden",n.style.display="block",e(n),n.style.visibility=""},close:function(t){t.form.style.display="none",t.items=[],t.menus=[],t.index=-1,t.item=null},init:function(t){t&&(t.items=[],t.menus=[],t.index=-1,t.item=null,t.callerName="",this.context.selectMenu.callerContext=null)}},Wu={name:"anchor",add:function(t){t.addModule([M1]),t.context.anchor={caller:{},forms:this.setDialogForm(t),host:(t._w.location.origin+t._w.location.pathname).replace(/\/$/,""),callerContext:null}},setDialogForm:function(t){const e=t.lang,n=t.options.linkRel,i=(t.options.linkRelDefault.default||"").split(" "),s=t.icons,r=t.util.createElement("DIV");let a='<div class="se-dialog-body"><div class="se-dialog-form"><label>'+e.dialogBox.linkBox.url+'</label><div class="se-dialog-form-files"><input class="se-input-form se-input-url" type="text" placeholder="'+(t.options.protocol||"")+'" /><button type="button" class="se-btn se-dialog-files-edge-button _se_bookmark_button" title="'+e.dialogBox.linkBox.bookmark+'" aria-label="'+e.dialogBox.linkBox.bookmark+'">'+s.bookmark+"</button>"+t.plugins.selectMenu.setForm()+'</div><div class="se-anchor-preview-form"><span class="se-svg se-anchor-preview-icon _se_anchor_bookmark_icon">'+s.bookmark+'</span><span class="se-svg se-anchor-preview-icon _se_anchor_download_icon">'+s.download+'</span><pre class="se-link-preview"></pre></div></div><div class="se-dialog-form"><label>'+e.dialogBox.linkBox.text+'</label><input class="se-input-form _se_anchor_text" type="text" /></div><div class="se-dialog-form-footer"><label><input type="checkbox" class="se-dialog-btn-check _se_anchor_check" />&nbsp;'+e.dialogBox.linkBox.newWindowCheck+'</label><label><input type="checkbox" class="se-dialog-btn-check _se_anchor_download" />&nbsp;'+e.dialogBox.linkBox.downloadLinkCheck+"</label>";if(n.length>0){a+='<div class="se-anchor-rel"><button type="button" class="se-btn se-btn-select se-anchor-rel-btn">&lt;rel&gt;</button><div class="se-anchor-rel-wrapper"><pre class="se-link-preview se-anchor-rel-preview"></pre></div><div class="se-list-layer"><div class="se-list-inner"><ul class="se-list-basic se-list-checked">';for(let l=0,o=n.length,d;l<o;l++)d=n[l],a+='<li><button type="button" class="se-btn-list'+(i.indexOf(d)>-1?" se-checked":"")+'" data-command="'+d+'" title="'+d+'" aria-label="'+d+'"><span class="se-svg">'+s.checked+"</span>"+d+"</button></li>";a+="</ul></div></div></div>"}return a+="</div></div>",r.innerHTML=a,r},initEvent:function(t,e){const n=this.plugins.anchor,i=this.context.anchor.caller[t]={modal:e,urlInput:null,linkDefaultRel:this.options.linkRelDefault,defaultRel:this.options.linkRelDefault.default||"",currentRel:[],linkAnchor:null,linkValue:"",_change:!1,callerName:t};typeof i.linkDefaultRel.default=="string"&&(i.linkDefaultRel.default=i.linkDefaultRel.default.trim()),typeof i.linkDefaultRel.check_new_window=="string"&&(i.linkDefaultRel.check_new_window=i.linkDefaultRel.check_new_window.trim()),typeof i.linkDefaultRel.check_bookmark=="string"&&(i.linkDefaultRel.check_bookmark=i.linkDefaultRel.check_bookmark.trim()),i.urlInput=e.querySelector(".se-input-url"),i.anchorText=e.querySelector("._se_anchor_text"),i.newWindowCheck=e.querySelector("._se_anchor_check"),i.downloadCheck=e.querySelector("._se_anchor_download"),i.download=e.querySelector("._se_anchor_download_icon"),i.preview=e.querySelector(".se-link-preview"),i.bookmark=e.querySelector("._se_anchor_bookmark_icon"),i.bookmarkButton=e.querySelector("._se_bookmark_button"),this.plugins.selectMenu.initEvent.call(this,t,e);const s=this.context.selectMenu.caller[t];this.options.linkRel.length>0&&(i.relButton=e.querySelector(".se-anchor-rel-btn"),i.relList=e.querySelector(".se-list-layer"),i.relPreview=e.querySelector(".se-anchor-rel-preview"),i.relButton.addEventListener("click",n.onClick_relButton.bind(this,i)),i.relList.addEventListener("click",n.onClick_relList.bind(this,i))),i.newWindowCheck.addEventListener("change",n.onChange_newWindowCheck.bind(this,i)),i.downloadCheck.addEventListener("change",n.onChange_downloadCheck.bind(this,i)),i.anchorText.addEventListener("input",n.onChangeAnchorText.bind(this,i)),i.urlInput.addEventListener("input",n.onChangeUrlInput.bind(this,i)),i.urlInput.addEventListener("keydown",n.onKeyDownUrlInput.bind(this,s)),i.urlInput.addEventListener("focus",n.onFocusUrlInput.bind(this,i,s)),i.urlInput.addEventListener("blur",n.onBlurUrlInput.bind(this,s)),i.bookmarkButton.addEventListener("click",n.onClick_bookmarkButton.bind(this,i))},on:function(t,e){const n=this.plugins.anchor;if(!e)n.init.call(this,t),t.anchorText.value=this.getSelection().toString().trim(),t.newWindowCheck.checked=this.options.linkTargetNewWindow;else if(t.linkAnchor){this.context.dialog.updateModal=!0;const i=t.linkAnchor.getAttribute("href");t.linkValue=t.preview.textContent=t.urlInput.value=n.selfPathBookmark.call(this,i)?i.substr(i.lastIndexOf("#")):i,t.anchorText.value=t.linkAnchor.textContent,t.newWindowCheck.checked=!!/_blank/i.test(t.linkAnchor.target),t.downloadCheck.checked=t.linkAnchor.download}this.context.anchor.callerContext=t,n.setRel.call(this,t,e&&t.linkAnchor?t.linkAnchor.rel:t.defaultRel),n.setLinkPreview.call(this,t,t.linkValue),this.plugins.selectMenu.on.call(this,t.callerName,this.plugins.anchor.setHeaderBookmark)},selfPathBookmark:function(t){const e=this._w.location.href.replace(/\/$/,"");return t.indexOf("#")===0||t.indexOf(e)===0&&t.indexOf("#")===(e.indexOf("#")===-1?e.length:e.substr(0,e.indexOf("#")).length)},_closeRelMenu:null,toggleRelList:function(t,e){if(!e)this.plugins.anchor._closeRelMenu&&this.plugins.anchor._closeRelMenu();else{const n=t.relButton,i=t.relList;this.util.addClass(n,"active"),i.style.visibility="hidden",i.style.display="block",this.options.rtl?i.style.left=n.offsetLeft-i.offsetWidth-1+"px":i.style.left=n.offsetLeft+n.offsetWidth+1+"px",i.style.top=n.offsetTop+n.offsetHeight/2-i.offsetHeight/2+"px",i.style.visibility="",this.plugins.anchor._closeRelMenu=function(s,r,a){a&&(s.relButton.contains(a.target)||s.relList.contains(a.target))||(this.util.removeClass(r,"active"),s.relList.style.display="none",this.modalForm.removeEventListener("click",this.plugins.anchor._closeRelMenu),this.plugins.anchor._closeRelMenu=null)}.bind(this,t,n),this.modalForm.addEventListener("click",this.plugins.anchor._closeRelMenu)}},onClick_relButton:function(t,e){this.plugins.anchor.toggleRelList.call(this,t,!this.util.hasClass(e.target,"active"))},onClick_relList:function(t,e){const n=e.target,i=n.getAttribute("data-command");if(!i)return;const s=t.currentRel,r=this.util.toggleClass(n,"se-checked"),a=s.indexOf(i);r?a===-1&&s.push(i):a>-1&&s.splice(a,1),t.relPreview.title=t.relPreview.textContent=s.join(" ")},setRel:function(t,e){const n=t.relList,i=t.currentRel=e?e.split(" "):[];if(!n)return;const s=n.querySelectorAll("button");for(let r=0,a=s.length,l;r<a;r++)l=s[r].getAttribute("data-command"),i.indexOf(l)>-1?this.util.addClass(s[r],"se-checked"):this.util.removeClass(s[r],"se-checked");t.relPreview.title=t.relPreview.textContent=i.join(" ")},createHeaderList:function(t,e,n){const i=this.util.getListChildren(this.context.element.wysiwyg,function(l){return/h[1-6]/i.test(l.nodeName)});if(i.length===0)return;const s=new this._w.RegExp("^"+n.replace(/^#/,""),"i"),r=[];let a="";for(let l=0,o=i.length,d;l<o;l++)d=i[l],s.test(d.textContent)&&(r.push(d),a+='<li class="se-select-item" data-index="'+l+'">'+d.textContent+"</li>");r.length===0?this.plugins.selectMenu.close.call(this,e):(this.plugins.selectMenu.createList(e,r,a),this.plugins.selectMenu.open.call(this,e,this.plugins.anchor._setMenuListPosition.bind(this,t)))},_setMenuListPosition:function(t,e){e.style.top=t.urlInput.offsetHeight+1+"px"},onKeyDownUrlInput:function(t,e){switch(e.keyCode){case 38:e.preventDefault(),e.stopPropagation(),this.plugins.selectMenu.moveItem.call(this,t,-1);break;case 40:e.preventDefault(),e.stopPropagation(),this.plugins.selectMenu.moveItem.call(this,t,1);break;case 13:t.index>-1&&(e.preventDefault(),e.stopPropagation(),this.plugins.anchor.setHeaderBookmark.call(this,this.plugins.selectMenu.getItem(t,null)));break}},setHeaderBookmark:function(t){const e=this.context.anchor.callerContext,n=t.id||"h_"+this._w.Math.random().toString().replace(/.+\./,"");t.id=n,e.urlInput.value="#"+n,(!e.anchorText.value.trim()||!e._change)&&(e.anchorText.value=t.textContent),this.plugins.anchor.setLinkPreview.call(this,e,e.urlInput.value),this.plugins.selectMenu.close.call(this,this.context.selectMenu.callerContext),this.context.anchor.callerContext.urlInput.focus()},onChangeAnchorText:function(t,e){t._change=!!e.target.value.trim()},onChangeUrlInput:function(t,e){const n=e.target.value.trim();this.plugins.anchor.setLinkPreview.call(this,t,n),this.plugins.anchor.selfPathBookmark.call(this,n)?this.plugins.anchor.createHeaderList.call(this,t,this.context.selectMenu.callerContext,n):this.plugins.selectMenu.close.call(this,this.context.selectMenu.callerContext)},onFocusUrlInput:function(t,e){const n=t.urlInput.value;this.plugins.anchor.selfPathBookmark.call(this,n)&&this.plugins.anchor.createHeaderList.call(this,t,e,n)},onBlurUrlInput:function(t){this.plugins.selectMenu.close.call(this,t)},setLinkPreview:function(t,e){const n=t.preview,i=this.options.linkProtocol,s=this.options.linkNoPrefix,r=/^(mailto\:|tel\:|sms\:|https*\:\/\/|#)/.test(e)||e.indexOf(i)===0,a=i?this._w.RegExp("^"+e.substr(0,i.length)).test(i):!1;e=t.linkValue=n.textContent=e?s?e:i&&!r&&!a?i+e:r?e:/^www\./.test(e)?"http://"+e:this.context.anchor.host+(/^\//.test(e)?"":"/")+e:"",this.plugins.anchor.selfPathBookmark.call(this,e)?(t.bookmark.style.display="block",this.util.addClass(t.bookmarkButton,"active")):(t.bookmark.style.display="none",this.util.removeClass(t.bookmarkButton,"active")),!this.plugins.anchor.selfPathBookmark.call(this,e)&&t.downloadCheck.checked?t.download.style.display="block":t.download.style.display="none"},setCtx:function(t,e){t&&(e.linkAnchor=t,e.linkValue=t.href,e.currentRel=t.rel.split(" "))},updateAnchor:function(t,e,n,i,s){!this.plugins.anchor.selfPathBookmark.call(this,e)&&i.downloadCheck.checked?t.setAttribute("download",n||e):t.removeAttribute("download"),i.newWindowCheck.checked?t.target="_blank":t.removeAttribute("target");const r=i.currentRel.join(" ");r?t.rel=r:t.removeAttribute("rel"),t.href=e,s?t.children.length===0&&(t.textContent=""):t.textContent=n},createAnchor:function(t,e){if(t.linkValue.length===0)return null;const n=t.linkValue,i=t.anchorText,s=i.value.length===0?n:i.value,r=t.linkAnchor||this.util.createElement("A");return this.plugins.anchor.updateAnchor.call(this,r,n,s,t,e),t.linkValue=t.preview.textContent=t.urlInput.value=t.anchorText.value="",r},onClick_bookmarkButton:function(t){let e=t.urlInput.value;this.plugins.anchor.selfPathBookmark.call(this,e)?(e=e.substr(1),t.bookmark.style.display="none",this.util.removeClass(t.bookmarkButton,"active"),this.plugins.selectMenu.close.call(this,this.context.selectMenu.callerContext)):(e="#"+e,t.bookmark.style.display="block",this.util.addClass(t.bookmarkButton,"active"),t.downloadCheck.checked=!1,t.download.style.display="none",this.plugins.anchor.createHeaderList.call(this,t,this.context.selectMenu.callerContext,e)),t.urlInput.value=e,this.plugins.anchor.setLinkPreview.call(this,t,e),t.urlInput.focus()},onChange_newWindowCheck:function(t,e){typeof t.linkDefaultRel.check_new_window=="string"&&(e.target.checked?this.plugins.anchor.setRel.call(this,t,this.plugins.anchor._relMerge.call(this,t,t.linkDefaultRel.check_new_window)):this.plugins.anchor.setRel.call(this,t,this.plugins.anchor._relDelete.call(this,t,t.linkDefaultRel.check_new_window)))},onChange_downloadCheck:function(t,e){e.target.checked?(t.download.style.display="block",t.bookmark.style.display="none",this.util.removeClass(t.bookmarkButton,"active"),t.linkValue=t.preview.textContent=t.urlInput.value=t.urlInput.value.replace(/^\#+/,""),typeof t.linkDefaultRel.check_bookmark=="string"&&this.plugins.anchor.setRel.call(this,t,this.plugins.anchor._relMerge.call(this,t,t.linkDefaultRel.check_bookmark))):(t.download.style.display="none",typeof t.linkDefaultRel.check_bookmark=="string"&&this.plugins.anchor.setRel.call(this,t,this.plugins.anchor._relDelete.call(this,t,t.linkDefaultRel.check_bookmark)))},_relMerge:function(t,e){const n=t.currentRel;if(!e)return n.join(" ");if(/^only\:/.test(e))return e=e.replace(/^only\:/,"").trim(),t.currentRel=e.split(" "),e;const i=e.split(" ");for(let s=0,r=i.length,a;s<r;s++)a=n.indexOf(i[s]),a===-1&&n.push(i[s]);return n.join(" ")},_relDelete:function(t,e){if(!e)return t.currentRel.join(" ");/^only\:/.test(e)&&(e=e.replace(/^only\:/,"").trim());const n=t.currentRel.join(" ").replace(this._w.RegExp(e+"\\s*"),"");return t.currentRel=n.split(" "),n},init:function(t){t.linkAnchor=null,t.linkValue=t.preview.textContent=t.urlInput.value="",t.anchorText.value="",t.newWindowCheck.checked=!1,t.downloadCheck.checked=!1,t._change=!1,this.plugins.anchor.setRel.call(this,t,t.defaultRel),t.relList&&this.plugins.anchor.toggleRelList.call(this,t,!1),this.context.anchor.callerContext=null,this.plugins.selectMenu.init.call(this,this.context.selectMenu.callerContext)}},qu={name:"link",display:"dialog",add:function(t){t.addModule([Mi,Wu]);const e=t.context,n=e.link={focusElement:null,_linkAnchor:null,anchorCtx:null};let i=this.setDialog(t);n.modal=i;let s=this.setController_LinkButton(t);n.linkController=s,i.querySelector("form").addEventListener("submit",this.submit.bind(t)),s.addEventListener("click",this.onClick_linkController.bind(t)),e.dialog.modal.appendChild(i),e.element.relative.appendChild(s),t.plugins.anchor.initEvent.call(t,"link",i),n.focusElement=e.anchor.caller.link.urlInput,i=null,s=null},setDialog:function(t){const e=t.lang,n=t.util.createElement("DIV"),i=t.icons;n.className="se-dialog-content",n.style.display="none";let s='<form><div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" title="'+e.dialogBox.close+'" aria-label="'+e.dialogBox.close+'">'+i.cancel+'</button><span class="se-modal-title">'+e.dialogBox.linkBox.title+"</span></div>"+t.context.anchor.forms.innerHTML+'<div class="se-dialog-footer"><button type="submit" class="se-btn-primary" title="'+e.dialogBox.submitButton+'" aria-label="'+e.dialogBox.submitButton+'"><span>'+e.dialogBox.submitButton+"</span></button></div></form>";return n.innerHTML=s,n},setController_LinkButton:function(t){const e=t.lang,n=t.icons,i=t.util.createElement("DIV");return i.className="se-controller se-controller-link",i.innerHTML='<div class="se-arrow se-arrow-up"></div><div class="link-content"><span><a target="_blank" href=""></a>&nbsp;</span><div class="se-btn-group"><button type="button" data-command="update" tabindex="-1" class="se-btn se-tooltip">'+n.edit+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.edit+'</span></span></button><button type="button" data-command="unlink" tabindex="-1" class="se-btn se-tooltip">'+n.unlink+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.unlink+'</span></span></button><button type="button" data-command="delete" tabindex="-1" class="se-btn se-tooltip">'+n.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.remove+"</span></span></button></div></div>",i},open:function(){this.plugins.dialog.open.call(this,"link",this.currentControllerName==="link")},submit:function(t){this.showLoading(),t.preventDefault(),t.stopPropagation();try{const e=this.plugins.anchor.createAnchor.call(this,this.context.anchor.caller.link,!1);if(e===null)return;if(this.context.dialog.updateModal){const n=this.context.link._linkAnchor.childNodes[0];this.setRange(n,0,n,n.textContent.length)}else{const n=this.getSelectedElements();if(n.length>1){const i=this.util.createElement(n[0].nodeName);if(i.appendChild(e),!this.insertNode(i,null,!0))return}else if(!this.insertNode(e,null,!0))return;this.setRange(e.childNodes[0],0,e.childNodes[0],e.textContent.length)}}finally{this.plugins.dialog.close.call(this),this.closeLoading(),this.history.push(!1)}return!1},active:function(t){if(!t)this.controllerArray.indexOf(this.context.link.linkController)>-1&&this.controllersOff();else if(this.util.isAnchor(t)&&t.getAttribute("data-image-link")===null)return this.controllerArray.indexOf(this.context.link.linkController)<0&&this.plugins.link.call_controller.call(this,t),!0;return!1},on:function(t){this.plugins.anchor.on.call(this,this.context.anchor.caller.link,t)},call_controller:function(t){this.editLink=this.context.link._linkAnchor=this.context.anchor.caller.link.linkAnchor=t;const e=this.context.link.linkController,n=e.querySelector("a");n.href=t.href,n.title=t.textContent,n.textContent=t.textContent,this.util.addClass(t,"on"),this.setControllerPosition(e,t,"bottom",{left:0,top:0}),this.controllersOn(e,t,"link",this.util.removeClass.bind(this.util,this.context.link._linkAnchor,"on"))},onClick_linkController:function(t){t.stopPropagation();const e=t.target.getAttribute("data-command")||t.target.parentNode.getAttribute("data-command");if(e){if(t.preventDefault(),/update/.test(e))this.plugins.dialog.open.call(this,"link",!0);else if(/unlink/.test(e)){const n=this.util.getChildElement(this.context.link._linkAnchor,function(s){return s.childNodes.length===0||s.nodeType===3},!1),i=this.util.getChildElement(this.context.link._linkAnchor,function(s){return s.childNodes.length===0||s.nodeType===3},!0);this.setRange(n,0,i,i.textContent.length),this.nodeChange(null,null,["A"],!1)}else this.util.removeItem(this.context.link._linkAnchor),this.context.anchor.caller.link.linkAnchor=null,this.focus(),this.history.push(!1);this.controllersOff()}},init:function(){this.context.link.linkController.style.display="none",this.plugins.anchor.init.call(this,this.context.anchor.caller.link)}};var $u={exports:{}};(function(t){(function(e,n){t.exports=e.document?n(e,!0):function(i){if(!i.document)throw new Error("SUNEDITOR_MODULES a window with a document");return n(i)}})(typeof window<"u"?window:Pe,function(e,n){const i={name:"component",set_container:function(s,r){const a=this.util.createElement("DIV");return a.className="se-component "+r,a.appendChild(s),a},set_cover:function(s){const r=this.util.createElement("FIGURE");return r.appendChild(s),r},create_caption:function(){const s=this.util.createElement("FIGCAPTION");return s.innerHTML="<div>"+this.lang.dialogBox.caption+"</div>",s}};return typeof n>"u"&&(e.SUNEDITOR_MODULES||Object.defineProperty(e,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_MODULES,"component",{enumerable:!0,writable:!1,configurable:!1,value:i})),i})})($u);var N1=$u.exports;const To=Jt(N1);var Zu={exports:{}};(function(t){(function(e,n){t.exports=e.document?n(e,!0):function(i){if(!i.document)throw new Error("SUNEDITOR_MODULES a window with a document");return n(i)}})(typeof window<"u"?window:Pe,function(e,n){const i={name:"resizing",add:function(s){const r=s.icons,a=s.context;a.resizing={_resizeClientX:0,_resizeClientY:0,_resize_plugin:"",_resize_w:0,_resize_h:0,_origin_w:0,_origin_h:0,_rotateVertical:!1,_resize_direction:"",_move_path:null,_isChange:!1,alignIcons:{basic:r.align_justify,left:r.align_left,right:r.align_right,center:r.align_center}};let l=this.setController_resize(s);a.resizing.resizeContainer=l,a.resizing.resizeDiv=l.querySelector(".se-modal-resize"),a.resizing.resizeDot=l.querySelector(".se-resize-dot"),a.resizing.resizeDisplay=l.querySelector(".se-resize-display");let o=this.setController_button(s);a.resizing.resizeButton=o;let d=a.resizing.resizeHandles=a.resizing.resizeDot.querySelectorAll("span");a.resizing.resizeButtonGroup=o.querySelector("._se_resizing_btn_group"),a.resizing.rotationButtons=o.querySelectorAll("._se_resizing_btn_group ._se_rotation"),a.resizing.percentageButtons=o.querySelectorAll("._se_resizing_btn_group ._se_percentage"),a.resizing.alignMenu=o.querySelector(".se-resizing-align-list"),a.resizing.alignMenuList=a.resizing.alignMenu.querySelectorAll("button"),a.resizing.alignButton=o.querySelector("._se_resizing_align_button"),a.resizing.autoSizeButton=o.querySelector("._se_resizing_btn_group ._se_auto_size"),a.resizing.captionButton=o.querySelector("._se_resizing_caption_button"),l.addEventListener("mousedown",function(f){f.preventDefault()}),d[0].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(s)),d[1].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(s)),d[2].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(s)),d[3].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(s)),d[4].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(s)),d[5].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(s)),d[6].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(s)),d[7].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(s)),o.addEventListener("click",this.onClick_resizeButton.bind(s)),a.element.relative.appendChild(l),a.element.relative.appendChild(o),l=null,o=null,d=null},setController_resize:function(s){const r=s.util.createElement("DIV");return r.className="se-controller se-resizing-container",r.style.display="none",r.innerHTML='<div class="se-modal-resize"></div><div class="se-resize-dot"><span class="tl"></span><span class="tr"></span><span class="bl"></span><span class="br"></span><span class="lw"></span><span class="th"></span><span class="rw"></span><span class="bh"></span><div class="se-resize-display"></div></div>',r},setController_button:function(s){const r=s.lang,a=s.icons,l=s.util.createElement("DIV");return l.className="se-controller se-controller-resizing",l.innerHTML='<div class="se-arrow se-arrow-up"></div><div class="se-btn-group _se_resizing_btn_group"><button type="button" data-command="percent" data-value="1" class="se-tooltip _se_percentage"><span>100%</span><span class="se-tooltip-inner"><span class="se-tooltip-text">'+r.controller.resize100+'</span></span></button><button type="button" data-command="percent" data-value="0.75" class="se-tooltip _se_percentage"><span>75%</span><span class="se-tooltip-inner"><span class="se-tooltip-text">'+r.controller.resize75+'</span></span></button><button type="button" data-command="percent" data-value="0.5" class="se-tooltip _se_percentage"><span>50%</span><span class="se-tooltip-inner"><span class="se-tooltip-text">'+r.controller.resize50+'</span></span></button><button type="button" data-command="auto" class="se-btn se-tooltip _se_auto_size">'+a.auto_size+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+r.controller.autoSize+'</span></span></button><button type="button" data-command="rotate" data-value="-90" class="se-btn se-tooltip _se_rotation">'+a.rotate_left+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+r.controller.rotateLeft+'</span></span></button><button type="button" data-command="rotate" data-value="90" class="se-btn se-tooltip _se_rotation">'+a.rotate_right+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+r.controller.rotateRight+'</span></span></button></div><div class="se-btn-group" style="padding-top: 0;"><button type="button" data-command="mirror" data-value="h" class="se-btn se-tooltip">'+a.mirror_horizontal+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+r.controller.mirrorHorizontal+'</span></span></button><button type="button" data-command="mirror" data-value="v" class="se-btn se-tooltip">'+a.mirror_vertical+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+r.controller.mirrorVertical+'</span></span></button><button type="button" data-command="onalign" class="se-btn se-tooltip _se_resizing_align_button">'+a.align_justify+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+r.toolbar.align+'</span></span></button><div class="se-btn-group-sub sun-editor-common se-list-layer se-resizing-align-list"><div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="se-btn-list se-tooltip" data-command="align" data-value="basic">'+a.align_justify+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+r.dialogBox.basic+'</span></span></button></li><li><button type="button" class="se-btn-list se-tooltip" data-command="align" data-value="left">'+a.align_left+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+r.dialogBox.left+'</span></span></button></li><li><button type="button" class="se-btn-list se-tooltip" data-command="align" data-value="center">'+a.align_center+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+r.dialogBox.center+'</span></span></button></li><li><button type="button" class="se-btn-list se-tooltip" data-command="align" data-value="right">'+a.align_right+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+r.dialogBox.right+'</span></span></button></li></ul></div></div><button type="button" data-command="caption" class="se-btn se-tooltip _se_resizing_caption_button">'+a.caption+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+r.dialogBox.caption+'</span></span></button><button type="button" data-command="revert" class="se-btn se-tooltip">'+a.revert+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+r.dialogBox.revertButton+'</span></span></button><button type="button" data-command="update" class="se-btn se-tooltip">'+a.modify+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+r.controller.edit+'</span></span></button><button type="button" data-command="delete" class="se-btn se-tooltip">'+a.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+r.controller.remove+"</span></span></button></div>",l},_module_getSizeX:function(s,r,a,l){return r||(r=s._element),a||(a=s._cover),l||(l=s._container),r?/%$/.test(r.style.width)?(l&&this.util.getNumber(l.style.width,2)||100)+"%":r.style.width:""},_module_getSizeY:function(s,r,a,l){return r||(r=s._element),a||(a=s._cover),l||(l=s._container),!l||!a?r&&r.style.height||"":this.util.getNumber(a.style.paddingBottom,0)>0&&!this.context.resizing._rotateVertical?a.style.height:!/%$/.test(r.style.height)||!/%$/.test(r.style.width)?r.style.height:(l&&this.util.getNumber(l.style.height,2)||100)+"%"},_module_setModifyInputSize:function(s,r){const a=s._onlyPercentage&&this.context.resizing._rotateVertical;s.proportion.checked=s._proportionChecked=s._element.getAttribute("data-proportion")!=="false";let l=a?"":this.plugins.resizing._module_getSizeX.call(this,s);if(l===s._defaultSizeX&&(l=""),s._onlyPercentage&&(l=this.util.getNumber(l,2)),s.inputX.value=l,r.setInputSize.call(this,"x"),!s._onlyPercentage){let o=a?"":this.plugins.resizing._module_getSizeY.call(this,s);o===s._defaultSizeY&&(o=""),s._onlyPercentage&&(o=this.util.getNumber(o,2)),s.inputY.value=o}s.inputX.disabled=!!a,s.inputY.disabled=!!a,s.proportion.disabled=!!a,r.setRatio.call(this)},_module_setInputSize:function(s,r){if(s._onlyPercentage){r==="x"&&s.inputX.value>100&&(s.inputX.value=100);return}if(s.proportion.checked&&s._ratio&&/\d/.test(s.inputX.value)&&/\d/.test(s.inputY.value)){const a=s.inputX.value.replace(/\d+|\./g,"")||s.sizeUnit,l=s.inputY.value.replace(/\d+|\./g,"")||s.sizeUnit;if(a!==l)return;const o=a==="%"?2:0;r==="x"?s.inputY.value=this.util.getNumber(s._ratioY*this.util.getNumber(s.inputX.value,o),o)+l:s.inputX.value=this.util.getNumber(s._ratioX*this.util.getNumber(s.inputY.value,o),o)+a}},_module_setRatio:function(s){const r=s.inputX.value,a=s.inputY.value;if(s.proportion.checked&&/\d+/.test(r)&&/\d+/.test(a)){const l=r.replace(/\d+|\./g,"")||s.sizeUnit,o=a.replace(/\d+|\./g,"")||s.sizeUnit;if(l!==o)s._ratio=!1;else if(!s._ratio){const d=this.util.getNumber(r,0),f=this.util.getNumber(a,0);s._ratio=!0,s._ratioX=d/f,s._ratioY=f/d}}else s._ratio=!1},_module_sizeRevert:function(s){s._onlyPercentage?s.inputX.value=s._origin_w>100?100:s._origin_w:(s.inputX.value=s._origin_w,s.inputY.value=s._origin_h)},_module_saveCurrentSize:function(s){const r=this.plugins.resizing._module_getSizeX.call(this,s),a=this.plugins.resizing._module_getSizeY.call(this,s);s._element.setAttribute("data-size",r+","+a),s._videoRatio&&(s._videoRatio=a)},call_controller_resize:function(s,r){const a=this.context.resizing,l=this.context[r];a._resize_plugin=r;const o=a.resizeContainer,d=a.resizeDiv,f=this.util.getOffset(s,this.context.element.wysiwygFrame),y=a._rotateVertical=/^(90|270)$/.test(Math.abs(s.getAttribute("data-rotate")).toString()),b=y?s.offsetHeight:s.offsetWidth,w=y?s.offsetWidth:s.offsetHeight,v=f.top,x=f.left-this.context.element.wysiwygFrame.scrollLeft;o.style.top=v+"px",o.style.left=x+"px",o.style.width=b+"px",o.style.height=w+"px",d.style.top="0px",d.style.left="0px",d.style.width=b+"px",d.style.height=w+"px";let c=s.getAttribute("data-align")||"basic";c=c==="none"?"basic":c;const u=this.util.getParentElement(s,this.util.isComponent),h=this.util.getParentElement(s,"FIGURE"),p=this.plugins.resizing._module_getSizeX.call(this,l,s,h,u)||"auto",m=l._onlyPercentage&&r==="image"?"":", "+(this.plugins.resizing._module_getSizeY.call(this,l,s,h,u)||"auto");this.util.changeTxt(a.resizeDisplay,this.lang.dialogBox[c]+" ("+p+m+")"),a.resizeButtonGroup.style.display=l._resizing?"":"none";const g=l._resizing&&!l._resizeDotHide&&!l._onlyPercentage?"flex":"none",_=a.resizeHandles;for(let O=0,M=_.length;O<M;O++)_[O].style.display=g;if(l._resizing){const O=a.rotationButtons;O[0].style.display=O[1].style.display=l._rotation?"":"none"}if(l._alignHide)a.alignButton.style.display="none";else{a.alignButton.style.display="";const O=a.alignMenuList;this.util.changeElement(a.alignButton.firstElementChild,a.alignIcons[c]);for(let M=0,F=O.length;M<F;M++)O[M].getAttribute("data-value")===c?this.util.addClass(O[M],"on"):this.util.removeClass(O[M],"on")}const C=a.percentageButtons,E=/%$/.test(s.style.width)&&/%$/.test(u.style.width)?this.util.getNumber(u.style.width,0)/100+"":"";for(let O=0,M=C.length;O<M;O++)C[O].getAttribute("data-value")===E?this.util.addClass(C[O],"active"):this.util.removeClass(C[O],"active");l._captionShow?(a.captionButton.style.display="",this.util.getChildElement(s.parentNode,"figcaption")?(this.util.addClass(a.captionButton,"active"),l._captionChecked=!0):(this.util.removeClass(a.captionButton,"active"),l._captionChecked=!1)):a.captionButton.style.display="none",o.style.display="block";const k={left:0,top:50};this.options.iframe&&(k.left-=this.context.element.wysiwygFrame.parentElement.offsetLeft,k.top-=this.context.element.wysiwygFrame.parentElement.offsetTop),this.setControllerPosition(a.resizeButton,o,"bottom",k),this.controllersOn(o,a.resizeButton,this.util.setDisabledButtons.bind(this.util,!1,this.resizingDisabledButtons),s,r),this.util.setDisabledButtons(!0,this.resizingDisabledButtons),a._resize_w=b,a._resize_h=w;const T=(s.getAttribute("origin-size")||"").split(",");return a._origin_w=T[0]||s.naturalWidth,a._origin_h=T[1]||s.naturalHeight,{w:b,h:w,t:v,l:x}},_closeAlignMenu:null,openAlignMenu:function(){const s=this.context.resizing.alignButton;this.util.addClass(s,"on"),this.context.resizing.alignMenu.style.top=s.offsetTop+s.offsetHeight+"px",this.context.resizing.alignMenu.style.left=s.offsetLeft-s.offsetWidth/2+"px",this.context.resizing.alignMenu.style.display="block",this.plugins.resizing._closeAlignMenu=function(){this.util.removeClass(this.context.resizing.alignButton,"on"),this.context.resizing.alignMenu.style.display="none",this.removeDocEvent("click",this.plugins.resizing._closeAlignMenu),this.plugins.resizing._closeAlignMenu=null}.bind(this),this.addDocEvent("click",this.plugins.resizing._closeAlignMenu)},onClick_resizeButton:function(s){s.stopPropagation();const r=s.target,a=r.getAttribute("data-command")||r.parentNode.getAttribute("data-command");if(!a)return;const l=r.getAttribute("data-value")||r.parentNode.getAttribute("data-value"),o=this.context.resizing._resize_plugin,d=this.context[o],f=d._element,y=this.plugins[o];if(s.preventDefault(),!(typeof this.plugins.resizing._closeAlignMenu=="function"&&(this.plugins.resizing._closeAlignMenu(),a==="onalign"))){switch(a){case"auto":this.plugins.resizing.resetTransform.call(this,f),y.setAutoSize.call(this),this.selectComponent(f,o);break;case"percent":let b=this.plugins.resizing._module_getSizeY.call(this,d);if(this.context.resizing._rotateVertical){const g=f.getAttribute("data-percentage");g&&(b=g.split(",")[1])}this.plugins.resizing.resetTransform.call(this,f),y.setPercentSize.call(this,l*100,this.util.getNumber(b,0)===null||!/%$/.test(b)?"":b),this.selectComponent(f,o);break;case"mirror":const w=f.getAttribute("data-rotate")||"0";let v=f.getAttribute("data-rotateX")||"",x=f.getAttribute("data-rotateY")||"";l==="h"&&!this.context.resizing._rotateVertical||l==="v"&&this.context.resizing._rotateVertical?x=x?"":"180":v=v?"":"180",f.setAttribute("data-rotateX",v),f.setAttribute("data-rotateY",x),this.plugins.resizing._setTransForm(f,w,v,x);break;case"rotate":const c=this.context.resizing,u=f.getAttribute("data-rotate")*1+l*1,h=this._w.Math.abs(u)>=360?0:u;f.setAttribute("data-rotate",h),c._rotateVertical=/^(90|270)$/.test(this._w.Math.abs(h).toString()),this.plugins.resizing.setTransformSize.call(this,f,null,null),this.selectComponent(f,o);break;case"onalign":this.plugins.resizing.openAlignMenu.call(this);return;case"align":const p=l==="basic"?"none":l;y.setAlign.call(this,p,null,null,null),this.selectComponent(f,o);break;case"caption":const m=!d._captionChecked;if(y.openModify.call(this,!0),d._captionChecked=d.captionCheckEl.checked=m,y.update_image.call(this,!1,!1,!1),m){const g=this.util.getChildElement(d._caption,function(_){return _.nodeType===3});g?this.setRange(g,0,g,g.textContent.length):d._caption.focus(),this.controllersOff()}else this.selectComponent(f,o),y.openModify.call(this,!0);break;case"revert":y.setOriginSize.call(this),this.selectComponent(f,o);break;case"update":y.openModify.call(this),this.controllersOff();break;case"delete":y.destroy.call(this);break}this.history.push(!1)}},resetTransform:function(s){const r=(s.getAttribute("data-size")||s.getAttribute("data-origin")||"").split(",");this.context.resizing._rotateVertical=!1,s.style.maxWidth="",s.style.transform="",s.style.transformOrigin="",s.setAttribute("data-rotate",""),s.setAttribute("data-rotateX",""),s.setAttribute("data-rotateY",""),this.plugins[this.context.resizing._resize_plugin].setSize.call(this,r[0]?r[0]:"auto",r[1]?r[1]:"",!0)},setTransformSize:function(s,r,a){let l=s.getAttribute("data-percentage");const o=this.context.resizing._rotateVertical,d=s.getAttribute("data-rotate")*1;let f="";if(l&&!o)l=l.split(","),l[0]==="auto"&&l[1]==="auto"?this.plugins[this.context.resizing._resize_plugin].setAutoSize.call(this):this.plugins[this.context.resizing._resize_plugin].setPercentSize.call(this,l[0],l[1]);else{const y=this.util.getParentElement(s,"FIGURE"),b=r||s.offsetWidth,w=a||s.offsetHeight,v=(o?w:b)+"px",x=(o?b:w)+"px";if(this.plugins[this.context.resizing._resize_plugin].cancelPercentAttr.call(this),this.plugins[this.context.resizing._resize_plugin].setSize.call(this,b+"px",w+"px",!0),y.style.width=v,y.style.height=this.context[this.context.resizing._resize_plugin]._caption?"":x,o){let c=b/2+"px "+b/2+"px 0",u=w/2+"px "+w/2+"px 0";f=d===90||d===-270?u:c}}s.style.transformOrigin=f,this.plugins.resizing._setTransForm(s,d.toString(),s.getAttribute("data-rotateX")||"",s.getAttribute("data-rotateY")||""),o?s.style.maxWidth="none":s.style.maxWidth="",this.plugins.resizing.setCaptionPosition.call(this,s)},_setTransForm:function(s,r,a,l){let o=(s.offsetWidth-s.offsetHeight)*(/-/.test(r)?1:-1),d="";if(/[1-9]/.test(r)&&(a||l))switch(d=a?"Y":"X",r){case"90":d=a&&l?"X":l?d:"";break;case"270":o*=-1,d=a&&l?"Y":a?d:"";break;case"-90":d=a&&l?"Y":a?d:"";break;case"-270":o*=-1,d=a&&l?"X":l?d:"";break;default:d=""}r%180===0&&(s.style.maxWidth=""),s.style.transform="rotate("+r+"deg)"+(a?" rotateX("+a+"deg)":"")+(l?" rotateY("+l+"deg)":"")+(d?" translate"+d+"("+o+"px)":"")},setCaptionPosition:function(s){const r=this.util.getChildElement(this.util.getParentElement(s,"FIGURE"),"FIGCAPTION");r&&(r.style.marginTop=(this.context.resizing._rotateVertical?s.offsetWidth-s.offsetHeight:0)+"px")},onMouseDown_resize_handle:function(s){s.stopPropagation(),s.preventDefault();const r=this.context.resizing,a=r._resize_direction=s.target.classList[0];r._resizeClientX=s.clientX,r._resizeClientY=s.clientY,this.context.element.resizeBackground.style.display="block",r.resizeButton.style.display="none",r.resizeDiv.style.float=/l/.test(a)?"right":/r/.test(a)?"left":"none";const l=function(f){if(f.type==="keydown"&&f.keyCode!==27)return;const y=r._isChange;r._isChange=!1,this.removeDocEvent("mousemove",o),this.removeDocEvent("mouseup",l),this.removeDocEvent("keydown",l),f.type==="keydown"?(this.controllersOff(),this.context.element.resizeBackground.style.display="none",this.plugins[this.context.resizing._resize_plugin].init.call(this)):(this.plugins.resizing.cancel_controller_resize.call(this,a),y&&this.history.push(!1))}.bind(this),o=this.plugins.resizing.resizing_element.bind(this,r,a,this.context[r._resize_plugin]);this.addDocEvent("mousemove",o),this.addDocEvent("mouseup",l),this.addDocEvent("keydown",l)},resizing_element:function(s,r,a,l){const o=l.clientX,d=l.clientY;let f=a._element_w,y=a._element_h;const b=a._element_w+(/r/.test(r)?o-s._resizeClientX:s._resizeClientX-o),w=a._element_h+(/b/.test(r)?d-s._resizeClientY:s._resizeClientY-d),v=a._element_h/a._element_w*b;/t/.test(r)&&(s.resizeDiv.style.top=a._element_h-(/h/.test(r)?w:v)+"px"),/l/.test(r)&&(s.resizeDiv.style.left=a._element_w-b+"px"),/r|l/.test(r)&&(s.resizeDiv.style.width=b+"px",f=b),/^(t|b)[^h]$/.test(r)?(s.resizeDiv.style.height=v+"px",y=v):/^(t|b)h$/.test(r)&&(s.resizeDiv.style.height=w+"px",y=w),s._resize_w=f,s._resize_h=y,this.util.changeTxt(s.resizeDisplay,this._w.Math.round(f)+" x "+this._w.Math.round(y)),s._isChange=!0},cancel_controller_resize:function(s){const r=this.context.resizing._rotateVertical;this.controllersOff(),this.context.element.resizeBackground.style.display="none";let a=this._w.Math.round(r?this.context.resizing._resize_h:this.context.resizing._resize_w),l=this._w.Math.round(r?this.context.resizing._resize_w:this.context.resizing._resize_h);if(!r&&!/%$/.test(a)){const f=this.context.element.wysiwygFrame.clientWidth-32-2;this.util.getNumber(a,0)>f&&(l=this._w.Math.round(l/a*f),a=f)}const o=this.context.resizing._resize_plugin;this.plugins[o].setSize.call(this,a,l,!1,s),r&&this.plugins.resizing.setTransformSize.call(this,this.context[this.context.resizing._resize_plugin]._element,a,l),this.selectComponent(this.context[o]._element,o)}};return typeof n>"u"&&(e.SUNEDITOR_MODULES||Object.defineProperty(e,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_MODULES,"resizing",{enumerable:!0,writable:!1,configurable:!1,value:i})),i})})(Zu);var O1=Zu.exports;const Yu=Jt(O1);var Ku={exports:{}};(function(t){(function(e,n){t.exports=e.document?n(e,!0):function(i){if(!i.document)throw new Error("SUNEDITOR_MODULES a window with a document");return n(i)}})(typeof window<"u"?window:Pe,function(e,n){const i={name:"fileManager",_xmlHttp:null,_checkMediaComponent:function(s){return/IMG/i.test(s)?!/FIGURE/i.test(s.parentElement.nodeName)||!/FIGURE/i.test(s.parentElement.parentElement.nodeName):!0},upload:function(s,r,a,l,o){this.showLoading();const d=this.plugins.fileManager,f=d._xmlHttp=this.util.getXMLHttpRequest();if(f.onreadystatechange=d._callBackUpload.bind(this,f,l,o),f.open("post",s,!0),r!==null&&typeof r=="object"&&this._w.Object.keys(r).length>0)for(let y in r)f.setRequestHeader(y,r[y]);f.send(a)},_callBackUpload:function(s,r,a){if(s.readyState===4)if(s.status===200)try{r(s)}catch(l){throw Error('[SUNEDITOR.fileManager.upload.callBack.fail] cause : "'+l.message+'"')}finally{this.closeLoading()}else{this.closeLoading();const l=s.responseText?JSON.parse(s.responseText):s;if(typeof a!="function"||a("",l,this)){const o="[SUNEDITOR.fileManager.upload.serverException] status: "+s.status+", response: "+(l.errorMessage||s.responseText);throw this.functions.noticeOpen(o),Error(o)}}},checkInfo:function(s,r,a,l,o){let d=[];for(let u=0,h=r.length;u<h;u++)d=d.concat([].slice.call(this.context.element.wysiwyg.querySelectorAll(r[u]+':not([data-se-embed="true"])')));const f=this.plugins.fileManager,y=this.context[s],b=y._infoList,w=f.setInfo.bind(this);if(d.length===b.length)if(this._componentsInfoReset){for(let u=0,h=d.length;u<h;u++)w(s,d[u],a,null,o);return}else{let u=!1;for(let h=0,p=b.length,m;h<p;h++)if(m=b[h],d.filter(function(g){return m.src===g.src&&m.index.toString()===g.getAttribute("data-index")}).length===0){u=!0;break}if(!u)return}const v=o?this.context.resizing._resize_plugin:"";o&&(this.context.resizing._resize_plugin=s);const x=[],c=[];for(let u=0,h=b.length;u<h;u++)c[u]=b[u].index;for(y.__updateTags=d;d.length>0;){const u=d.shift();!this.util.getParentElement(u,this.util.isMediaComponent)||!f._checkMediaComponent(u)?(x.push(y._infoIndex),l(u)):!u.getAttribute("data-index")||c.indexOf(u.getAttribute("data-index")*1)<0?(x.push(y._infoIndex),u.removeAttribute("data-index"),w(s,u,a,null,o)):x.push(u.getAttribute("data-index")*1)}for(let u=0,h;u<b.length;u++)h=b[u].index,!(x.indexOf(h)>-1)&&(b.splice(u,1),typeof a=="function"&&a(null,h,"delete",null,0,this),u--);o&&(this.context.resizing._resize_plugin=v)},setInfo:function(s,r,a,l,o){const d=o?this.context.resizing._resize_plugin:"";o&&(this.context.resizing._resize_plugin=s);const f=this.plugins[s],y=this.context[s],b=y._infoList;let w=r.getAttribute("data-index"),v=null,x="";if(l||(l={name:r.getAttribute("data-file-name")||(typeof r.src=="string"?r.src.split("/").pop():""),size:r.getAttribute("data-file-size")||0}),!w||this._componentsInfoInit)x="create",w=y._infoIndex++,r.setAttribute("data-index",w),r.setAttribute("data-file-name",l.name),r.setAttribute("data-file-size",l.size),v={src:r.src,index:w*1,name:l.name,size:l.size},b.push(v);else{x="update",w*=1;for(let c=0,u=b.length;c<u;c++)if(w===b[c].index){v=b[c];break}v||(w=y._infoIndex++,v={index:w},b.push(v)),v.src=r.src,v.name=r.getAttribute("data-file-name"),v.size=r.getAttribute("data-file-size")*1}if(v.element=r,v.delete=f.destroy.bind(this,r),v.select=function(c){c.scrollIntoView(!0),this._w.setTimeout(f.select.bind(this,c))}.bind(this,r),o){if(!r.getAttribute("origin-size")&&r.naturalWidth&&r.setAttribute("origin-size",r.naturalWidth+","+r.naturalHeight),!r.getAttribute("data-origin")){const c=this.util.getParentElement(r,this.util.isMediaComponent),u=this.util.getParentElement(r,"FIGURE"),h=this.plugins.resizing._module_getSizeX.call(this,y,r,u,c),p=this.plugins.resizing._module_getSizeY.call(this,y,r,u,c);r.setAttribute("data-origin",h+","+p),r.setAttribute("data-size",h+","+p)}if(!r.style.width){const c=(r.getAttribute("data-size")||r.getAttribute("data-origin")||"").split(",");f.onModifyMode.call(this,r,null),f.applySize.call(this,c[0],c[1])}this.context.resizing._resize_plugin=d}typeof a=="function"&&a(r,w,x,v,--y._uploadFileLength<0?0:y._uploadFileLength,this)},deleteInfo:function(s,r,a){if(r>=0){const l=this.context[s]._infoList;for(let o=0,d=l.length;o<d;o++)if(r===l[o].index){l.splice(o,1),typeof a=="function"&&a(null,r,"delete",null,0,this);return}}},resetInfo:function(s,r){const a=this.context[s];if(typeof r=="function"){const l=a._infoList;for(let o=0,d=l.length;o<d;o++)r(null,l[o].index,"delete",null,0,this)}a._infoList=[],a._infoIndex=0}};return typeof n>"u"&&(e.SUNEDITOR_MODULES||Object.defineProperty(e,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_MODULES,"fileManager",{enumerable:!0,writable:!1,configurable:!1,value:i})),i})})(Ku);var R1=Ku.exports;const Lo=Jt(R1),Xu={name:"image",display:"dialog",add:function(t){t.addModule([Mi,Wu,To,Yu,Lo]);const e=t.options,n=t.context,i=n.image={_infoList:[],_infoIndex:0,_uploadFileLength:0,focusElement:null,sizeUnit:e._imageSizeUnit,_linkElement:"",_altText:"",_align:"none",_floatClassRegExp:"__se__float\\-[a-z]+",_v_src:{_linkValue:""},svgDefaultSize:"30%",base64RenderIndex:0,_element:null,_cover:null,_container:null,inputX:null,inputY:null,_element_w:1,_element_h:1,_element_l:0,_element_t:0,_defaultSizeX:"auto",_defaultSizeY:"auto",_origin_w:e.imageWidth==="auto"?"":e.imageWidth,_origin_h:e.imageHeight==="auto"?"":e.imageHeight,_proportionChecked:!0,_resizing:e.imageResizing,_resizeDotHide:!e.imageHeightShow,_rotation:e.imageRotation,_alignHide:!e.imageAlignShow,_onlyPercentage:e.imageSizeOnlyPercentage,_ratio:!1,_ratioX:1,_ratioY:1,_captionShow:!0,_captionChecked:!1,_caption:null,captionCheckEl:null};let s=this.setDialog(t);i.modal=s,i.imgInputFile=s.querySelector("._se_image_file"),i.imgUrlFile=s.querySelector("._se_image_url"),i.focusElement=i.imgInputFile||i.imgUrlFile,i.altText=s.querySelector("._se_image_alt"),i.captionCheckEl=s.querySelector("._se_image_check_caption"),i.previewSrc=s.querySelector("._se_tab_content_image .se-link-preview"),s.querySelector(".se-dialog-tabs").addEventListener("click",this.openTab.bind(t)),s.querySelector("form").addEventListener("submit",this.submit.bind(t)),i.imgInputFile&&s.querySelector(".se-file-remove").addEventListener("click",this._removeSelectedFiles.bind(i.imgInputFile,i.imgUrlFile,i.previewSrc)),i.imgUrlFile&&i.imgUrlFile.addEventListener("input",this._onLinkPreview.bind(i.previewSrc,i._v_src,e.linkProtocol)),i.imgInputFile&&i.imgUrlFile&&i.imgInputFile.addEventListener("change",this._fileInputChange.bind(i));const r=s.querySelector(".__se__gallery");r&&r.addEventListener("click",this._openGallery.bind(t)),i.proportion={},i.inputX={},i.inputY={},e.imageResizing&&(i.proportion=s.querySelector("._se_image_check_proportion"),i.inputX=s.querySelector("._se_image_size_x"),i.inputY=s.querySelector("._se_image_size_y"),i.inputX.value=e.imageWidth,i.inputY.value=e.imageHeight,i.inputX.addEventListener("keyup",this.setInputSize.bind(t,"x")),i.inputY.addEventListener("keyup",this.setInputSize.bind(t,"y")),i.inputX.addEventListener("change",this.setRatio.bind(t)),i.inputY.addEventListener("change",this.setRatio.bind(t)),i.proportion.addEventListener("change",this.setRatio.bind(t)),s.querySelector(".se-dialog-btn-revert").addEventListener("click",this.sizeRevert.bind(t))),n.dialog.modal.appendChild(s),t.plugins.anchor.initEvent.call(t,"image",s.querySelector("._se_tab_content_url")),i.anchorCtx=t.context.anchor.caller.image,s=null},setDialog:function(t){const e=t.options,n=t.lang,i=t.util.createElement("DIV");i.className="se-dialog-content se-dialog-image",i.style.display="none";let s='<div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" class="close" title="'+n.dialogBox.close+'" aria-label="'+n.dialogBox.close+'">'+t.icons.cancel+'</button><span class="se-modal-title">'+n.dialogBox.imageBox.title+'</span></div><div class="se-dialog-tabs"><button type="button" class="_se_tab_link active" data-tab-link="image">'+n.toolbar.image+'</button><button type="button" class="_se_tab_link" data-tab-link="url">'+n.toolbar.link+'</button></div><form method="post" enctype="multipart/form-data"><div class="_se_tab_content _se_tab_content_image"><div class="se-dialog-body"><div style="border-bottom: 1px dashed #ccc;">';if(e.imageFileInput&&(s+='<div class="se-dialog-form"><label>'+n.dialogBox.imageBox.file+'</label><div class="se-dialog-form-files"><input class="se-input-form _se_image_file" type="file" accept="'+e.imageAccept+'"'+(e.imageMultipleFile?' multiple="multiple"':"")+'/><button type="button" class="se-btn se-dialog-files-edge-button se-file-remove" title="'+n.controller.remove+'" aria-label="'+n.controller.remove+'">'+t.icons.cancel+"</button></div></div>"),e.imageUrlInput&&(s+='<div class="se-dialog-form"><label>'+n.dialogBox.imageBox.url+'</label><div class="se-dialog-form-files"><input class="se-input-form se-input-url _se_image_url" type="text" />'+(e.imageGalleryUrl&&t.plugins.imageGallery?'<button type="button" class="se-btn se-dialog-files-edge-button __se__gallery" title="'+n.toolbar.imageGallery+'" aria-label="'+n.toolbar.imageGallery+'">'+t.icons.image_gallery+"</button>":"")+'</div><pre class="se-link-preview"></pre></div>'),s+='</div><div class="se-dialog-form"><label>'+n.dialogBox.imageBox.altText+'</label><input class="se-input-form _se_image_alt" type="text" /></div>',e.imageResizing){const r=e.imageSizeOnlyPercentage,a=r?' style="display: none !important;"':"",l=e.imageHeightShow?"":' style="display: none !important;"';s+='<div class="se-dialog-form">',r||!e.imageHeightShow?s+='<div class="se-dialog-size-text"><label class="size-w">'+n.dialogBox.size+"</label></div>":s+='<div class="se-dialog-size-text"><label class="size-w">'+n.dialogBox.width+'</label><label class="se-dialog-size-x">&nbsp;</label><label class="size-h">'+n.dialogBox.height+"</label></div>",s+='<input class="se-input-control _se_image_size_x" placeholder="auto"'+(r?' type="number" min="1"':'type="text"')+(r?' max="100"':"")+' /><label class="se-dialog-size-x"'+l+">"+(r?"%":"x")+'</label><input type="text" class="se-input-control _se_image_size_y" placeholder="auto"'+a+(r?' max="100"':"")+l+"/><label"+a+l+'><input type="checkbox" class="se-dialog-btn-check _se_image_check_proportion" checked/>&nbsp;'+n.dialogBox.proportion+'</label><button type="button" title="'+n.dialogBox.revertButton+'" aria-label="'+n.dialogBox.revertButton+'" class="se-btn se-dialog-btn-revert" style="float: right;">'+t.icons.revert+"</button></div>"}return s+='<div class="se-dialog-form se-dialog-form-footer"><label><input type="checkbox" class="se-dialog-btn-check _se_image_check_caption" />&nbsp;'+n.dialogBox.caption+'</label></div></div></div><div class="_se_tab_content _se_tab_content_url" style="display: none">'+t.context.anchor.forms.innerHTML+'</div><div class="se-dialog-footer"><div'+(e.imageAlignShow?"":' style="display: none"')+'><label><input type="radio" name="suneditor_image_radio" class="se-dialog-btn-radio" value="none" checked>'+n.dialogBox.basic+'</label><label><input type="radio" name="suneditor_image_radio" class="se-dialog-btn-radio" value="left">'+n.dialogBox.left+'</label><label><input type="radio" name="suneditor_image_radio" class="se-dialog-btn-radio" value="center">'+n.dialogBox.center+'</label><label><input type="radio" name="suneditor_image_radio" class="se-dialog-btn-radio" value="right">'+n.dialogBox.right+'</label></div><button type="submit" class="se-btn-primary" title="'+n.dialogBox.submitButton+'" aria-label="'+n.dialogBox.submitButton+'"><span>'+n.dialogBox.submitButton+"</span></button></div></form>",i.innerHTML=s,i},_fileInputChange:function(){this.imgInputFile.value?(this.imgUrlFile.setAttribute("disabled",!0),this.previewSrc.style.textDecoration="line-through"):(this.imgUrlFile.removeAttribute("disabled"),this.previewSrc.style.textDecoration="")},_removeSelectedFiles:function(t,e){this.value="",t&&(t.removeAttribute("disabled"),e.style.textDecoration="")},_openGallery:function(){this.callPlugin("imageGallery",this.plugins.imageGallery.open.bind(this,this.plugins.image._setUrlInput.bind(this.context.image)),null)},_setUrlInput:function(t){this.altText.value=t.alt,this._v_src._linkValue=this.previewSrc.textContent=this.imgUrlFile.value=t.src,this.imgUrlFile.focus()},_onLinkPreview:function(t,e,n){const i=n.target.value.trim();t._linkValue=this.textContent=i?e&&i.indexOf("://")===-1&&i.indexOf("#")!==0?e+i:i.indexOf("://")===-1?"/"+i:i:""},fileTags:["img"],select:function(t){this.plugins.image.onModifyMode.call(this,t,this.plugins.resizing.call_controller_resize.call(this,t,"image"))},destroy:function(t){const e=t||this.context.image._element,n=this.util.getParentElement(e,this.util.isMediaComponent)||e,i=e.getAttribute("data-index")*1;let s=n.previousElementSibling||n.nextElementSibling;const r=n.parentNode;this.util.removeItem(n),this.plugins.image.init.call(this),this.controllersOff(),r!==this.context.element.wysiwyg&&this.util.removeItemAllParents(r,function(a){return a.childNodes.length===0},null),this.focusEdge(s),this.plugins.fileManager.deleteInfo.call(this,"image",i,this.functions.onImageUpload),this.history.push(!1)},on:function(t){const e=this.context.image;t?e.imgInputFile&&this.options.imageMultipleFile&&e.imgInputFile.removeAttribute("multiple"):(e.inputX.value=e._origin_w=this.options.imageWidth===e._defaultSizeX?"":this.options.imageWidth,e.inputY.value=e._origin_h=this.options.imageHeight===e._defaultSizeY?"":this.options.imageHeight,e.imgInputFile&&this.options.imageMultipleFile&&e.imgInputFile.setAttribute("multiple","multiple")),this.plugins.anchor.on.call(this,e.anchorCtx,t)},open:function(){this.plugins.dialog.open.call(this,"image",this.currentControllerName==="image")},openTab:function(t){const e=this.context.image.modal,n=t==="init"?e.querySelector("._se_tab_link"):t.target;if(!/^BUTTON$/i.test(n.tagName))return!1;const i=n.getAttribute("data-tab-link"),s="_se_tab_content";let r,a,l;for(a=e.getElementsByClassName(s),r=0;r<a.length;r++)a[r].style.display="none";for(l=e.getElementsByClassName("_se_tab_link"),r=0;r<l.length;r++)this.util.removeClass(l[r],"active");return e.querySelector("."+s+"_"+i).style.display="block",this.util.addClass(n,"active"),i==="image"&&this.context.image.focusElement?this.context.image.focusElement.focus():i==="url"&&this.context.anchor.caller.image.urlInput.focus(),!1},submit:function(t){const e=this.context.image,n=this.plugins.image;t.preventDefault(),t.stopPropagation(),e._altText=e.altText.value,e._align=e.modal.querySelector('input[name="suneditor_image_radio"]:checked').value,e._captionChecked=e.captionCheckEl.checked,e._resizing&&(e._proportionChecked=e.proportion.checked);try{this.context.dialog.updateModal&&n.update_image.call(this,!1,!0,!1),e.imgInputFile&&e.imgInputFile.files.length>0?(this.showLoading(),n.submitAction.call(this,this.context.image.imgInputFile.files)):e.imgUrlFile&&e._v_src._linkValue.length>0&&(this.showLoading(),n.onRender_imgUrl.call(this,e._v_src._linkValue))}catch(i){throw this.closeLoading(),Error('[SUNEDITOR.image.submit.fail] cause : "'+i.message+'"')}finally{this.plugins.dialog.close.call(this)}return!1},submitAction:function(t){if(t.length===0)return;let e=0,n=[];for(let l=0,o=t.length;l<o;l++)/image/i.test(t[l].type)&&(n.push(t[l]),e+=t[l].size);const i=this.options.imageUploadSizeLimit;if(i>0){let l=0;const o=this.context.image._infoList;for(let d=0,f=o.length;d<f;d++)l+=o[d].size*1;if(e+l>i){this.closeLoading();const d="[SUNEDITOR.imageUpload.fail] Size of uploadable total images: "+i/1e3+"KB";(typeof this.functions.onImageUploadError!="function"||this.functions.onImageUploadError(d,{limitSize:i,currentSize:l,uploadSize:e},this))&&this.functions.noticeOpen(d);return}}const s=this.context.image;s._uploadFileLength=n.length;const a={anchor:this.plugins.anchor.createAnchor.call(this,s.anchorCtx,!0),inputWidth:s.inputX.value,inputHeight:s.inputY.value,align:s._align,isUpdate:this.context.dialog.updateModal,alt:s._altText,element:s._element};if(typeof this.functions.onImageUploadBefore=="function"){const l=this.functions.onImageUploadBefore(n,a,this,function(o){o&&this._w.Array.isArray(o.result)?this.plugins.image.register.call(this,a,o):this.plugins.image.upload.call(this,a,o)}.bind(this));if(typeof l>"u")return;if(!l){this.closeLoading();return}this._w.Array.isArray(l)&&l.length>0&&(n=l)}this.plugins.image.upload.call(this,a,n)},error:function(t,e){if(this.closeLoading(),typeof this.functions.onImageUploadError!="function"||this.functions.onImageUploadError(t,e,this))throw this.functions.noticeOpen(t),Error("[SUNEDITOR.plugin.image.error] response: "+t)},upload:function(t,e){if(!e){this.closeLoading();return}if(typeof e=="string"){this.plugins.image.error.call(this,e,null);return}const n=this.options.imageUploadUrl,i=this.context.dialog.updateModal?1:e.length;if(typeof n=="string"&&n.length>0){const s=new FormData;for(let r=0;r<i;r++)s.append("file-"+r,e[r]);this.plugins.fileManager.upload.call(this,n,this.options.imageUploadHeader,s,this.plugins.image.callBack_imgUpload.bind(this,t),this.functions.onImageUploadError)}else this.plugins.image.setup_reader.call(this,e,t.anchor,t.inputWidth,t.inputHeight,t.align,t.alt,i,t.isUpdate)},callBack_imgUpload:function(t,e){if(typeof this.functions.imageUploadHandler=="function")this.functions.imageUploadHandler(e,t,this);else{const n=JSON.parse(e.responseText);n.errorMessage?this.plugins.image.error.call(this,n.errorMessage,n):this.plugins.image.register.call(this,t,n)}},register:function(t,e){const n=e.result;for(let i=0,s=n.length,r;i<s;i++)if(r={name:n[i].name,size:n[i].size},t.isUpdate){this.plugins.image.update_src.call(this,n[i].url,t.element,r);break}else this.plugins.image.create_image.call(this,n[i].url,t.anchor,t.inputWidth,t.inputHeight,t.align,r,t.alt);this.closeLoading()},setup_reader:function(t,e,n,i,s,r,a,l){try{this.context.image.base64RenderIndex=a;const o=this._w.FileReader,d=[a];this.context.image.inputX.value=n,this.context.image.inputY.value=i;for(let f=0,y,b;f<a;f++)y=new o,b=t[f],y.onload=function(w,v,x,c,u){d[u]={result:w.result,file:c},--this.context.image.base64RenderIndex===0&&(this.plugins.image.onRender_imgBase64.call(this,v,d,x,e,n,i,s,r),this.closeLoading())}.bind(this,y,l,this.context.image._element,b,f),y.readAsDataURL(b)}catch(o){throw this.closeLoading(),Error('[SUNEDITOR.image.setup_reader.fail] cause : "'+o.message+'"')}},onRender_imgBase64:function(t,e,n,i,s,r,a,l){const o=this.plugins.image.update_src,d=this.plugins.image.create_image;for(let f=0,y=e.length;f<y;f++)t?(this.context.image._element.setAttribute("data-file-name",e[f].file.name),this.context.image._element.setAttribute("data-file-size",e[f].file.size),o.call(this,e[f].result,n,e[f].file)):d.call(this,e[f].result,i,s,r,a,e[f].file,l)},onRender_imgUrl:function(t){if(t||(t=this.context.image._v_src._linkValue),!t)return!1;const e=this.context.image;try{const n={name:t.split("/").pop(),size:0};this.context.dialog.updateModal?this.plugins.image.update_src.call(this,t,e._element,n):this.plugins.image.create_image.call(this,t,this.plugins.anchor.createAnchor.call(this,e.anchorCtx,!0),e.inputX.value,e.inputY.value,e._align,n,e._altText)}catch(n){throw Error('[SUNEDITOR.image.URLRendering.fail] cause : "'+n.message+'"')}finally{this.closeLoading()}},onRender_link:function(t,e){return e?(e.setAttribute("data-image-link","image"),t.setAttribute("data-image-link",e.href),e.appendChild(t),e):t},setInputSize:function(t,e){if(e&&e.keyCode===32){e.preventDefault();return}this.plugins.resizing._module_setInputSize.call(this,this.context.image,t)},setRatio:function(){this.plugins.resizing._module_setRatio.call(this,this.context.image)},checkFileInfo:function(){const t=this.plugins.image,e=this.context.image,n=function(i){t.onModifyMode.call(this,i,null),t.openModify.call(this,!0),e.inputX.value=e._origin_w,e.inputY.value=e._origin_h;const s=this.util.getFormatElement(i);s&&(e._align=s.style.textAlign||s.style.float),this.util.isAnchor(i.parentNode)&&!e.anchorCtx.linkValue&&(e.anchorCtx.linkValue=" "),t.update_image.call(this,!0,!1,!0),t.init.call(this)}.bind(this);this.plugins.fileManager.checkInfo.call(this,"image",["img"],this.functions.onImageUpload,n,!0)},resetFileInfo:function(){this.plugins.fileManager.resetInfo.call(this,"image",this.functions.onImageUpload)},create_image:function(t,e,n,i,s,r,a){const l=this.plugins.image,o=this.context.image;this.context.resizing._resize_plugin="image";let d=this.util.createElement("IMG");d.src=t,d.alt=a,d.setAttribute("data-rotate","0"),e=l.onRender_link.call(this,d,e?e.cloneNode(!1):null),o._resizing&&d.setAttribute("data-proportion",o._proportionChecked);const f=this.plugins.component.set_cover.call(this,e),y=this.plugins.component.set_container.call(this,f,"se-image-container");o._captionChecked&&(o._caption=this.plugins.component.create_caption.call(this),f.appendChild(o._caption)),o._element=d,o._cover=f,o._container=y,l.applySize.call(this,n,i),l.setAlign.call(this,s,d,f,y),d.onload=l._image_create_onload.bind(this,d,o.svgDefaultSize,y),this.insertComponent(y,!0,!0,!0)&&this.plugins.fileManager.setInfo.call(this,"image",d,this.functions.onImageUpload,r,!0),this.context.resizing._resize_plugin=""},_image_create_onload:function(t,e,n){if(t.offsetWidth===0&&this.plugins.image.applySize.call(this,e,""),this.options.mediaAutoSelect)this.selectComponent(t,"image");else{const i=this.appendFormatTag(n,null);i&&this.setRange(i,0,i,0)}},update_image:function(t,e,n){const i=this.context.image;let s=i._element,r=i._cover,a=i._container,l=!1;r===null&&(l=!0,s=i._element.cloneNode(!0),r=this.plugins.component.set_cover.call(this,s)),a===null?(r=r.cloneNode(!0),s=r.querySelector("img"),l=!0,a=this.plugins.component.set_container.call(this,r,"se-image-container")):l&&(a.innerHTML="",a.appendChild(r),i._cover=r,i._element=s,l=!1);let o;const d=this.util.isNumber(i.inputX.value)?i.inputX.value+i.sizeUnit:i.inputX.value,f=this.util.isNumber(i.inputY.value)?i.inputY.value+i.sizeUnit:i.inputY.value;/%$/.test(s.style.width)?o=d!==a.style.width||f!==a.style.height:o=d!==s.style.width||f!==s.style.height,s.alt=i._altText;let y=!1;i._captionChecked?i._caption||(i._caption=this.plugins.component.create_caption.call(this),r.appendChild(i._caption),y=!0):i._caption&&(this.util.removeItem(i._caption),i._caption=null,y=!0);let b=null;const w=this.plugins.anchor.createAnchor.call(this,i.anchorCtx,!0);if(w)i._linkElement!==w||l&&!a.contains(w)?(i._linkElement=w.cloneNode(!1),r.insertBefore(this.plugins.image.onRender_link.call(this,s,i._linkElement),i._caption),b=i._element):i._linkElement.setAttribute("data-image-link","image");else if(i._linkElement!==null){const x=s;if(x.setAttribute("data-image-link",""),r.contains(i._linkElement)){const c=x.cloneNode(!0);r.removeChild(i._linkElement),r.insertBefore(c,i._caption),i._element=s=c}}let v=null;if(l){if(v=this.util.isRangeFormatElement(i._element.parentNode)||this.util.isWysiwygDiv(i._element.parentNode)?i._element:this.util.isAnchor(i._element.parentNode)?i._element.parentNode:this.util.getFormatElement(i._element)||i._element,this.util.getParentElement(i._element,this.util.isNotCheckingNode))v=b?w:i._element,v.parentNode.replaceChild(a,v);else if(this.util.isListCell(v)){const x=this.util.getParentElement(i._element,function(c){return c.parentNode===v});v.insertBefore(a,x),this.util.removeItem(i._element),this.util.removeEmptyNode(x,null,!0)}else if(this.util.isFormatElement(v)){const x=this.util.getParentElement(i._element,function(c){return c.parentNode===v});v=this.util.splitElement(v,x),v.parentNode.insertBefore(a,v),this.util.removeItem(i._element),this.util.removeEmptyNode(v,null,!0),v.children.length===0&&(v.innerHTML=this.util.htmlRemoveWhiteSpace(v.innerHTML))}else if(this.util.isFormatElement(v.parentNode)){const x=v.parentNode;x.parentNode.insertBefore(a,v.previousSibling?x.nextElementSibling:x),i.__updateTags.map(function(c){return v.contains(c)}).length===0&&this.util.removeItem(v)}else v.parentNode.replaceChild(a,v);s=a.querySelector("img"),i._element=s,i._cover=r,i._container=a}b&&(l?(this.util.removeItem(b),this.util.getListChildren(w,function(x){return/IMG/i.test(x.tagName)}).length===0&&this.util.removeItem(w)):this.util.removeItem(w)),(y||!i._onlyPercentage&&o)&&!t&&(/\d+/.test(s.style.height)||this.context.resizing._rotateVertical&&i._captionChecked)&&(/%$/.test(i.inputX.value)||/%$/.test(i.inputY.value)?this.plugins.resizing.resetTransform.call(this,s):this.plugins.resizing.setTransformSize.call(this,s,this.util.getNumber(i.inputX.value,0),this.util.getNumber(i.inputY.value,0))),i._resizing&&(s.setAttribute("data-proportion",i._proportionChecked),o&&this.plugins.image.applySize.call(this)),this.plugins.image.setAlign.call(this,null,s,null,null),t&&this.plugins.fileManager.setInfo.call(this,"image",s,this.functions.onImageUpload,null,!0),e&&this.selectComponent(s,"image"),n||this.history.push(!1)},update_src:function(t,e,n){e.src=t,this._w.setTimeout(this.plugins.fileManager.setInfo.bind(this,"image",e,this.functions.onImageUpload,n,!0)),this.selectComponent(e,"image")},onModifyMode:function(t,e){if(!t)return;const n=this.context.image;n._linkElement=n.anchorCtx.linkAnchor=this.util.isAnchor(t.parentNode)?t.parentNode:null,n._element=t,n._cover=this.util.getParentElement(t,"FIGURE"),n._container=this.util.getParentElement(t,this.util.isMediaComponent),n._caption=this.util.getChildElement(n._cover,"FIGCAPTION"),n._align=t.getAttribute("data-align")||t.style.float||"none",t.style.float="",this.plugins.anchor.setCtx(n._linkElement,n.anchorCtx),e&&(n._element_w=e.w,n._element_h=e.h,n._element_t=e.t,n._element_l=e.l);let i=n._element.getAttribute("data-size")||n._element.getAttribute("data-origin"),s,r;i?(i=i.split(","),s=i[0],r=i[1]):e&&(s=e.w,r=e.h),n._origin_w=s||t.style.width||t.width||"",n._origin_h=r||t.style.height||t.height||""},openModify:function(t){const e=this.context.image;e.imgUrlFile&&(e._v_src._linkValue=e.previewSrc.textContent=e.imgUrlFile.value=e._element.src),e._altText=e.altText.value=e._element.alt,(e.modal.querySelector('input[name="suneditor_image_radio"][value="'+e._align+'"]')||e.modal.querySelector('input[name="suneditor_image_radio"][value="none"]')).checked=!0,e._align=e.modal.querySelector('input[name="suneditor_image_radio"]:checked').value,e._captionChecked=e.captionCheckEl.checked=!!e._caption,e._resizing&&this.plugins.resizing._module_setModifyInputSize.call(this,e,this.plugins.image),t||this.plugins.dialog.open.call(this,"image",!0)},applySize:function(t,e){const n=this.context.image;return t||(t=n.inputX.value||this.options.imageWidth),e||(e=n.inputY.value||this.options.imageHeight),n._onlyPercentage&&t||/%$/.test(t)?(this.plugins.image.setPercentSize.call(this,t,e),!0):((!t||t==="auto")&&(!e||e==="auto")?this.plugins.image.setAutoSize.call(this):this.plugins.image.setSize.call(this,t,e,!1),!1)},sizeRevert:function(){this.plugins.resizing._module_sizeRevert.call(this,this.context.image)},setSize:function(t,e,n,i){const s=this.context.image,r=/^(rw|lw)$/.test(i)&&/\d+/.test(s._element.style.height);/^(th|bh)$/.test(i)&&/\d+/.test(s._element.style.width)||(s._element.style.width=this.util.isNumber(t)?t+s.sizeUnit:t,this.plugins.image.cancelPercentAttr.call(this)),r||(s._element.style.height=this.util.isNumber(e)?e+s.sizeUnit:/%$/.test(e)?"":e),s._align==="center"&&this.plugins.image.setAlign.call(this,null,null,null,null),n||s._element.removeAttribute("data-percentage"),this.plugins.resizing._module_saveCurrentSize.call(this,s)},setAutoSize:function(){const t=this.context.image;t._caption&&(t._caption.style.marginTop=""),this.plugins.resizing.resetTransform.call(this,t._element),this.plugins.image.cancelPercentAttr.call(this),t._element.style.maxWidth="",t._element.style.width="",t._element.style.height="",t._cover.style.width="",t._cover.style.height="",this.plugins.image.setAlign.call(this,null,null,null,null),t._element.setAttribute("data-percentage","auto,auto"),this.plugins.resizing._module_saveCurrentSize.call(this,t)},setOriginSize:function(){const t=this.context.image;t._element.removeAttribute("data-percentage"),this.plugins.resizing.resetTransform.call(this,t._element),this.plugins.image.cancelPercentAttr.call(this);const e=(t._element.getAttribute("data-origin")||"").split(","),n=e[0],i=e[1];e&&(t._onlyPercentage||/%$/.test(n)&&(/%$/.test(i)||!/\d/.test(i))?this.plugins.image.setPercentSize.call(this,n,i):this.plugins.image.setSize.call(this,n,i),this.plugins.resizing._module_saveCurrentSize.call(this,t))},setPercentSize:function(t,e){const n=this.context.image;e=e&&!/%$/.test(e)&&!this.util.getNumber(e,0)?this.util.isNumber(e)?e+"%":e:this.util.isNumber(e)?e+n.sizeUnit:e||"";const i=/%$/.test(e);n._container.style.width=this.util.isNumber(t)?t+"%":t,n._container.style.height="",n._cover.style.width="100%",n._cover.style.height=i?e:"",n._element.style.width="100%",n._element.style.height=i?"":e,n._element.style.maxWidth="",n._align==="center"&&this.plugins.image.setAlign.call(this,null,null,null,null),n._element.setAttribute("data-percentage",t+","+e),this.plugins.resizing.setCaptionPosition.call(this,n._element),this.plugins.resizing._module_saveCurrentSize.call(this,n)},cancelPercentAttr:function(){const t=this.context.image;t._cover.style.width="",t._cover.style.height="",t._container.style.width="",t._container.style.height="",this.util.removeClass(t._container,this.context.image._floatClassRegExp),this.util.addClass(t._container,"__se__float-"+t._align),t._align==="center"&&this.plugins.image.setAlign.call(this,null,null,null,null)},setAlign:function(t,e,n,i){const s=this.context.image;t||(t=s._align),e||(e=s._element),n||(n=s._cover),i||(i=s._container),/%$/.test(e.style.width)&&t==="center"?(i.style.minWidth="100%",n.style.width=i.style.width):(i.style.minWidth="",n.style.width=this.context.resizing._rotateVertical?e.style.height||e.offsetHeight:!e.style.width||e.style.width==="auto"?"":e.style.width||"100%"),this.util.hasClass(i,"__se__float-"+t)||(this.util.removeClass(i,s._floatClassRegExp),this.util.addClass(i,"__se__float-"+t)),e.setAttribute("data-align",t)},init:function(){const t=this.context.image;t.imgInputFile&&(t.imgInputFile.value=""),t.imgUrlFile&&(t._v_src._linkValue=t.previewSrc.textContent=t.imgUrlFile.value=""),t.imgInputFile&&t.imgUrlFile&&(t.imgUrlFile.removeAttribute("disabled"),t.previewSrc.style.textDecoration=""),t.altText.value="",t.modal.querySelector('input[name="suneditor_image_radio"][value="none"]').checked=!0,t.captionCheckEl.checked=!1,t._element=null,this.plugins.image.openTab.call(this,"init"),t._resizing&&(t.inputX.value=this.options.imageWidth===t._defaultSizeX?"":this.options.imageWidth,t.inputY.value=this.options.imageHeight===t._defaultSizeY?"":this.options.imageHeight,t.proportion.checked=!0,t._ratio=!1,t._ratioX=1,t._ratioY=1),this.plugins.anchor.init.call(this,t.anchorCtx)}},Gu={name:"video",display:"dialog",add:function(t){t.addModule([Mi,To,Yu,Lo]);const e=t.options,n=t.context,i=n.video={_infoList:[],_infoIndex:0,_uploadFileLength:0,focusElement:null,sizeUnit:e._videoSizeUnit,_align:"none",_floatClassRegExp:"__se__float\\-[a-z]+",_youtubeQuery:e.youtubeQuery,_videoRatio:e.videoRatio*100+"%",_defaultRatio:e.videoRatio*100+"%",_linkValue:"",_element:null,_cover:null,_container:null,inputX:null,inputY:null,_element_w:1,_element_h:1,_element_l:0,_element_t:0,_defaultSizeX:"100%",_defaultSizeY:e.videoRatio*100+"%",_origin_w:e.videoWidth==="100%"?"":e.videoWidth,_origin_h:e.videoHeight==="56.25%"?"":e.videoHeight,_proportionChecked:!0,_resizing:e.videoResizing,_resizeDotHide:!e.videoHeightShow,_rotation:e.videoRotation,_alignHide:!e.videoAlignShow,_onlyPercentage:e.videoSizeOnlyPercentage,_ratio:!1,_ratioX:1,_ratioY:1,_captionShow:!1};let s=this.setDialog(t);i.modal=s,i.videoInputFile=s.querySelector("._se_video_file"),i.videoUrlFile=s.querySelector(".se-input-url"),i.focusElement=i.videoUrlFile||i.videoInputFile,i.preview=s.querySelector(".se-link-preview"),s.querySelector("form").addEventListener("submit",this.submit.bind(t)),i.videoInputFile&&s.querySelector(".se-dialog-files-edge-button").addEventListener("click",this._removeSelectedFiles.bind(i.videoInputFile,i.videoUrlFile,i.preview)),i.videoInputFile&&i.videoUrlFile&&i.videoInputFile.addEventListener("change",this._fileInputChange.bind(i)),i.videoUrlFile&&i.videoUrlFile.addEventListener("input",this._onLinkPreview.bind(i.preview,i,e.linkProtocol)),i.proportion={},i.videoRatioOption={},i.inputX={},i.inputY={},e.videoResizing&&(i.proportion=s.querySelector("._se_video_check_proportion"),i.videoRatioOption=s.querySelector(".se-video-ratio"),i.inputX=s.querySelector("._se_video_size_x"),i.inputY=s.querySelector("._se_video_size_y"),i.inputX.value=e.videoWidth,i.inputY.value=e.videoHeight,i.inputX.addEventListener("keyup",this.setInputSize.bind(t,"x")),i.inputY.addEventListener("keyup",this.setInputSize.bind(t,"y")),i.inputX.addEventListener("change",this.setRatio.bind(t)),i.inputY.addEventListener("change",this.setRatio.bind(t)),i.proportion.addEventListener("change",this.setRatio.bind(t)),i.videoRatioOption.addEventListener("change",this.setVideoRatio.bind(t)),s.querySelector(".se-dialog-btn-revert").addEventListener("click",this.sizeRevert.bind(t))),n.dialog.modal.appendChild(s),s=null},setDialog:function(t){const e=t.options,n=t.lang,i=t.util.createElement("DIV");i.className="se-dialog-content",i.style.display="none";let s='<form method="post" enctype="multipart/form-data"><div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" title="'+n.dialogBox.close+'" aria-label="'+n.dialogBox.close+'">'+t.icons.cancel+'</button><span class="se-modal-title">'+n.dialogBox.videoBox.title+'</span></div><div class="se-dialog-body">';if(e.videoFileInput&&(s+='<div class="se-dialog-form"><label>'+n.dialogBox.videoBox.file+'</label><div class="se-dialog-form-files"><input class="se-input-form _se_video_file" type="file" accept="'+e.videoAccept+'"'+(e.videoMultipleFile?' multiple="multiple"':"")+'/><button type="button" data-command="filesRemove" class="se-btn se-dialog-files-edge-button se-file-remove" title="'+n.controller.remove+'" aria-label="'+n.controller.remove+'">'+t.icons.cancel+"</button></div></div>"),e.videoUrlInput&&(s+='<div class="se-dialog-form"><label>'+n.dialogBox.videoBox.url+'</label><input class="se-input-form se-input-url" type="text" /><pre class="se-link-preview"></pre></div>'),e.videoResizing){const r=e.videoRatioList||[{name:"16:9",value:.5625},{name:"4:3",value:.75},{name:"21:9",value:.4285}],a=e.videoRatio,l=e.videoSizeOnlyPercentage,o=l?' style="display: none !important;"':"",d=e.videoHeightShow?"":' style="display: none !important;"',f=e.videoRatioShow?"":' style="display: none !important;"',y=!l&&!e.videoHeightShow&&!e.videoRatioShow?' style="display: none !important;"':"";s+='<div class="se-dialog-form"><div class="se-dialog-size-text"><label class="size-w">'+n.dialogBox.width+'</label><label class="se-dialog-size-x">&nbsp;</label><label class="size-h"'+d+">"+n.dialogBox.height+'</label><label class="size-h"'+f+">("+n.dialogBox.ratio+')</label></div><input class="se-input-control _se_video_size_x" placeholder="100%"'+(l?' type="number" min="1"':'type="text"')+(l?' max="100"':"")+'/><label class="se-dialog-size-x"'+y+">"+(l?"%":"x")+'</label><input class="se-input-control _se_video_size_y" placeholder="'+e.videoRatio*100+'%"'+(l?' type="number" min="1"':'type="text"')+(l?' max="100"':"")+d+'/><select class="se-input-select se-video-ratio" title="'+n.dialogBox.ratio+'" aria-label="'+n.dialogBox.ratio+'"'+f+">",d||(s+='<option value=""> - </option>');for(let b=0,w=r.length;b<w;b++)s+='<option value="'+r[b].value+'"'+(a.toString()===r[b].value.toString()?" selected":"")+">"+r[b].name+"</option>";s+='</select><button type="button" title="'+n.dialogBox.revertButton+'" aria-label="'+n.dialogBox.revertButton+'" class="se-btn se-dialog-btn-revert" style="float: right;">'+t.icons.revert+'</button></div><div class="se-dialog-form se-dialog-form-footer"'+o+y+'><label><input type="checkbox" class="se-dialog-btn-check _se_video_check_proportion" checked/>&nbsp;'+n.dialogBox.proportion+"</label></div>"}return s+='</div><div class="se-dialog-footer"><div'+(e.videoAlignShow?"":' style="display: none"')+'><label><input type="radio" name="suneditor_video_radio" class="se-dialog-btn-radio" value="none" checked>'+n.dialogBox.basic+'</label><label><input type="radio" name="suneditor_video_radio" class="se-dialog-btn-radio" value="left">'+n.dialogBox.left+'</label><label><input type="radio" name="suneditor_video_radio" class="se-dialog-btn-radio" value="center">'+n.dialogBox.center+'</label><label><input type="radio" name="suneditor_video_radio" class="se-dialog-btn-radio" value="right">'+n.dialogBox.right+'</label></div><button type="submit" class="se-btn-primary" title="'+n.dialogBox.submitButton+'" aria-label="'+n.dialogBox.submitButton+'"><span>'+n.dialogBox.submitButton+"</span></button></div></form>",i.innerHTML=s,i},_fileInputChange:function(){this.videoInputFile.value?(this.videoUrlFile.setAttribute("disabled",!0),this.preview.style.textDecoration="line-through"):(this.videoUrlFile.removeAttribute("disabled"),this.preview.style.textDecoration="")},_removeSelectedFiles:function(t,e){this.value="",t&&(t.removeAttribute("disabled"),e.style.textDecoration="")},_onLinkPreview:function(t,e,n){const i=n.target.value.trim();/^<iframe.*\/iframe>$/.test(i)?(t._linkValue=i,this.textContent='<IFrame :src=".."></IFrame>'):t._linkValue=this.textContent=i?e&&i.indexOf("://")===-1&&i.indexOf("#")!==0?e+i:i.indexOf("://")===-1?"/"+i:i:""},_setTagAttrs:function(t){t.setAttribute("controls",!0);const e=this.options.videoTagAttrs;if(e)for(let n in e)this.util.hasOwn(e,n)&&t.setAttribute(n,e[n])},createVideoTag:function(){const t=this.util.createElement("VIDEO");return this.plugins.video._setTagAttrs.call(this,t),t},_setIframeAttrs:function(t){t.frameBorder="0",t.allowFullscreen=!0;const e=this.options.videoIframeAttrs;if(e)for(let n in e)this.util.hasOwn(e,n)&&t.setAttribute(n,e[n])},createIframeTag:function(){const t=this.util.createElement("IFRAME");return this.plugins.video._setIframeAttrs.call(this,t),t},fileTags:["iframe","video"],select:function(t){this.plugins.video.onModifyMode.call(this,t,this.plugins.resizing.call_controller_resize.call(this,t,"video"))},destroy:function(t){const e=t||this.context.video._element,n=this.context.video._container,i=e.getAttribute("data-index")*1;let s=n.previousElementSibling||n.nextElementSibling;const r=n.parentNode;this.util.removeItem(n),this.plugins.video.init.call(this),this.controllersOff(),r!==this.context.element.wysiwyg&&this.util.removeItemAllParents(r,function(a){return a.childNodes.length===0},null),this.focusEdge(s),this.plugins.fileManager.deleteInfo.call(this,"video",i,this.functions.onVideoUpload),this.history.push(!1)},on:function(t){const e=this.context.video;t?e.videoInputFile&&this.options.videoMultipleFile&&e.videoInputFile.removeAttribute("multiple"):(e.inputX.value=e._origin_w=this.options.videoWidth===e._defaultSizeX?"":this.options.videoWidth,e.inputY.value=e._origin_h=this.options.videoHeight===e._defaultSizeY?"":this.options.videoHeight,e.proportion.disabled=!0,e.videoInputFile&&this.options.videoMultipleFile&&e.videoInputFile.setAttribute("multiple","multiple")),e._resizing&&this.plugins.video.setVideoRatioSelect.call(this,e._origin_h||e._defaultRatio)},open:function(){this.plugins.dialog.open.call(this,"video",this.currentControllerName==="video")},setVideoRatio:function(t){const e=this.context.video,n=t.target.options[t.target.selectedIndex].value;e._defaultSizeY=e._videoRatio=n?n*100+"%":e._defaultSizeY,e.inputY.placeholder=n?n*100+"%":"",e.inputY.value=""},setInputSize:function(t,e){if(e&&e.keyCode===32){e.preventDefault();return}const n=this.context.video;this.plugins.resizing._module_setInputSize.call(this,n,t),t==="y"&&this.plugins.video.setVideoRatioSelect.call(this,e.target.value||n._defaultRatio)},setRatio:function(){this.plugins.resizing._module_setRatio.call(this,this.context.video)},submit:function(t){const e=this.context.video,n=this.plugins.video;t.preventDefault(),t.stopPropagation(),e._align=e.modal.querySelector('input[name="suneditor_video_radio"]:checked').value;try{e.videoInputFile&&e.videoInputFile.files.length>0?(this.showLoading(),n.submitAction.call(this,this.context.video.videoInputFile.files)):e.videoUrlFile&&e._linkValue.length>0&&(this.showLoading(),n.setup_url.call(this,e._linkValue))}catch(i){throw this.closeLoading(),Error('[SUNEDITOR.video.submit.fail] cause : "'+i.message+'"')}finally{this.plugins.dialog.close.call(this)}return!1},submitAction:function(t){if(t.length===0)return;let e=0,n=[];for(let a=0,l=t.length;a<l;a++)/video/i.test(t[a].type)&&(n.push(t[a]),e+=t[a].size);const i=this.options.videoUploadSizeLimit;if(i>0){let a=0;const l=this.context.video._infoList;for(let o=0,d=l.length;o<d;o++)a+=l[o].size*1;if(e+a>i){this.closeLoading();const o="[SUNEDITOR.videoUpload.fail] Size of uploadable total videos: "+i/1e3+"KB";(typeof this.functions.onVideoUploadError!="function"||this.functions.onVideoUploadError(o,{limitSize:i,currentSize:a,uploadSize:e},this))&&this.functions.noticeOpen(o);return}}const s=this.context.video;s._uploadFileLength=n.length;const r={inputWidth:s.inputX.value,inputHeight:s.inputY.value,align:s._align,isUpdate:this.context.dialog.updateModal,element:s._element};if(typeof this.functions.onVideoUploadBefore=="function"){const a=this.functions.onVideoUploadBefore(n,r,this,function(l){l&&this._w.Array.isArray(l.result)?this.plugins.video.register.call(this,r,l):this.plugins.video.upload.call(this,r,l)}.bind(this));if(typeof a>"u")return;if(!a){this.closeLoading();return}typeof a=="object"&&a.length>0&&(n=a)}this.plugins.video.upload.call(this,r,n)},error:function(t,e){if(this.closeLoading(),typeof this.functions.onVideoUploadError!="function"||this.functions.onVideoUploadError(t,e,this))throw this.functions.noticeOpen(t),Error("[SUNEDITOR.plugin.video.error] response: "+t)},upload:function(t,e){if(!e){this.closeLoading();return}if(typeof e=="string"){this.plugins.video.error.call(this,e,null);return}const n=this.options.videoUploadUrl,i=this.context.dialog.updateModal?1:e.length;if(typeof n=="string"&&n.length>0){const s=new FormData;for(let r=0;r<i;r++)s.append("file-"+r,e[r]);this.plugins.fileManager.upload.call(this,n,this.options.videoUploadHeader,s,this.plugins.video.callBack_videoUpload.bind(this,t),this.functions.onVideoUploadError)}else throw Error('[SUNEDITOR.videoUpload.fail] cause : There is no "videoUploadUrl" option.')},callBack_videoUpload:function(t,e){if(typeof this.functions.videoUploadHandler=="function")this.functions.videoUploadHandler(e,t,this);else{const n=JSON.parse(e.responseText);n.errorMessage?this.plugins.video.error.call(this,n.errorMessage,n):this.plugins.video.register.call(this,t,n)}},register:function(t,e){const n=e.result,i=this.plugins.video.createVideoTag.call(this);for(let s=0,r=n.length,a;s<r;s++)a={name:n[s].name,size:n[s].size},this.plugins.video.create_video.call(this,t.isUpdate?t.element:i.cloneNode(!1),n[s].url,t.inputWidth,t.inputHeight,t.align,a,t.isUpdate);this.closeLoading()},setup_url:function(t){try{const e=this.context.video;if(t||(t=e._linkValue),!t||/^<iframe.*\/iframe>$/.test(t)&&(t=new this._w.DOMParser().parseFromString(t,"text/html").querySelector("iframe").src,t.length===0))return!1;if(/youtu\.?be/.test(t)){if(/^http/.test(t)||(t="https://"+t),t=t.replace("watch?v=",""),/^\/\/.+\/embed\//.test(t)||(t=t.replace(t.match(/\/\/.+\//)[0],"//www.youtube.com/embed/").replace("&","?&")),e._youtubeQuery.length>0)if(/\?/.test(t)){const n=t.split("?");t=n[0]+"?"+e._youtubeQuery+"&"+n[1]}else t+="?"+e._youtubeQuery}else/vimeo\.com/.test(t)&&(t.endsWith("/")&&(t=t.slice(0,-1)),t="https://player.vimeo.com/video/"+t.slice(t.lastIndexOf("/")+1));this.plugins.video.create_video.call(this,this.plugins.video[!/embed|iframe|player|\/e\/|\.php|\.html?/.test(t)&&!/vimeo\.com/.test(t)?"createVideoTag":"createIframeTag"].call(this),t,e.inputX.value,e.inputY.value,e._align,null,this.context.dialog.updateModal)}catch(e){throw Error('[SUNEDITOR.video.upload.fail] cause : "'+e.message+'"')}finally{this.closeLoading()}},create_video:function(t,e,n,i,s,r,a){this.context.resizing._resize_plugin="video";const l=this.context.video;let o=null,d=null,f=!1;if(a){if(t=l._element,t.src!==e){f=!0;const x=/youtu\.?be/.test(e),c=/vimeo\.com/.test(e);if((x||c)&&!/^iframe$/i.test(t.nodeName)){const u=this.plugins.video.createIframeTag.call(this);u.src=e,t.parentNode.replaceChild(u,t),l._element=t=u}else if(!x&&!c&&!/^videoo$/i.test(t.nodeName)){const u=this.plugins.video.createVideoTag.call(this);u.src=e,t.parentNode.replaceChild(u,t),l._element=t=u}else t.src=e}d=l._container,o=this.util.getParentElement(t,"FIGURE")}else f=!0,t.src=e,l._element=t,o=this.plugins.component.set_cover.call(this,t),d=this.plugins.component.set_container.call(this,o,"se-video-container");l._cover=o,l._container=d;const y=this.plugins.resizing._module_getSizeX.call(this,l)!==(n||l._defaultSizeX)||this.plugins.resizing._module_getSizeY.call(this,l)!==(i||l._videoRatio),b=!a||y;l._resizing&&(this.context.video._proportionChecked=l.proportion.checked,t.setAttribute("data-proportion",l._proportionChecked));let w=!1;b&&(w=this.plugins.video.applySize.call(this)),w&&s==="center"||this.plugins.video.setAlign.call(this,null,t,o,d);let v=!0;if(a)l._resizing&&this.context.resizing._rotateVertical&&b&&this.plugins.resizing.setTransformSize.call(this,t,null,null);else if(v=this.insertComponent(d,!1,!0,!this.options.mediaAutoSelect),!this.options.mediaAutoSelect){const x=this.appendFormatTag(d,null);x&&this.setRange(x,0,x,0)}v&&(f&&this.plugins.fileManager.setInfo.call(this,"video",t,this.functions.onVideoUpload,r,!0),a&&(this.selectComponent(t,"video"),this.history.push(!1))),this.context.resizing._resize_plugin=""},_update_videoCover:function(t){if(!t)return;const e=this.context.video;/^video$/i.test(t.nodeName)?this.plugins.video._setTagAttrs.call(this,t):this.plugins.video._setIframeAttrs.call(this,t);let n=this.util.isRangeFormatElement(t.parentNode)||this.util.isWysiwygDiv(t.parentNode)?t:this.util.getFormatElement(t)||t;const i=t;e._element=t=t.cloneNode(!0);const s=e._cover=this.plugins.component.set_cover.call(this,t),r=e._container=this.plugins.component.set_container.call(this,s,"se-video-container");try{const a=n.querySelector("figcaption");let l=null;a&&(l=this.util.createElement("DIV"),l.innerHTML=a.innerHTML,this.util.removeItem(a));const o=(t.getAttribute("data-size")||t.getAttribute("data-origin")||"").split(",");this.plugins.video.applySize.call(this,o[0]||i.style.width||i.width||"",o[1]||i.style.height||i.height||"");const d=this.util.getFormatElement(i);if(d&&(e._align=d.style.textAlign||d.style.float),this.plugins.video.setAlign.call(this,null,t,s,r),this.util.getParentElement(i,this.util.isNotCheckingNode))i.parentNode.replaceChild(r,i);else if(this.util.isListCell(n)){const f=this.util.getParentElement(i,function(y){return y.parentNode===n});n.insertBefore(r,f),this.util.removeItem(i),this.util.removeEmptyNode(f,null,!0)}else if(this.util.isFormatElement(n)){const f=this.util.getParentElement(i,function(y){return y.parentNode===n});n=this.util.splitElement(n,f),n.parentNode.insertBefore(r,n),this.util.removeItem(i),this.util.removeEmptyNode(n,null,!0),n.children.length===0&&(n.innerHTML=this.util.htmlRemoveWhiteSpace(n.innerHTML))}else n.parentNode.replaceChild(r,n);l&&n.parentNode.insertBefore(l,r.nextElementSibling)}catch(a){console.warn("[SUNEDITOR.video.error] Maybe the video tag is nested.",a)}this.plugins.fileManager.setInfo.call(this,"video",t,this.functions.onVideoUpload,null,!0),this.plugins.video.init.call(this)},onModifyMode:function(t,e){const n=this.context.video;n._element=t,n._cover=this.util.getParentElement(t,"FIGURE"),n._container=this.util.getParentElement(t,this.util.isMediaComponent),n._align=t.style.float||t.getAttribute("data-align")||"none",t.style.float="",e&&(n._element_w=e.w,n._element_h=e.h,n._element_t=e.t,n._element_l=e.l);let i=n._element.getAttribute("data-size")||n._element.getAttribute("data-origin"),s,r;i?(i=i.split(","),s=i[0],r=i[1]):e&&(s=e.w,r=e.h),n._origin_w=s||t.style.width||t.width||"",n._origin_h=r||t.style.height||t.height||""},openModify:function(t){const e=this.context.video;if(e.videoUrlFile&&(e._linkValue=e.preview.textContent=e.videoUrlFile.value=e._element.src||(e._element.querySelector("source")||"").src||""),(e.modal.querySelector('input[name="suneditor_video_radio"][value="'+e._align+'"]')||e.modal.querySelector('input[name="suneditor_video_radio"][value="none"]')).checked=!0,e._resizing){this.plugins.resizing._module_setModifyInputSize.call(this,e,this.plugins.video);const n=e._videoRatio=this.plugins.resizing._module_getSizeY.call(this,e);this.plugins.video.setVideoRatioSelect.call(this,n)||(e.inputY.value=e._onlyPercentage?this.util.getNumber(n,2):n)}t||this.plugins.dialog.open.call(this,"video",!0)},setVideoRatioSelect:function(t){let e=!1;const n=this.context.video,i=n.videoRatioOption.options;/%$/.test(t)||n._onlyPercentage?t=this.util.getNumber(t,2)/100+"":(!this.util.isNumber(t)||t*1>=1)&&(t=""),n.inputY.placeholder="";for(let s=0,r=i.length;s<r;s++)i[s].value===t?(e=i[s].selected=!0,n.inputY.placeholder=t?t*100+"%":""):i[s].selected=!1;return e},checkFileInfo:function(){this.plugins.fileManager.checkInfo.call(this,"video",["iframe","video"],this.functions.onVideoUpload,this.plugins.video._update_videoCover.bind(this),!0)},resetFileInfo:function(){this.plugins.fileManager.resetInfo.call(this,"video",this.functions.onVideoUpload)},applySize:function(t,e){const n=this.context.video;return t||(t=n.inputX.value||this.options.videoWidth),e||(e=n.inputY.value||this.options.videoHeight),n._onlyPercentage||/%$/.test(t)||!t?(this.plugins.video.setPercentSize.call(this,t||"100%",e||(/%$/.test(n._videoRatio)?n._videoRatio:n._defaultRatio)),!0):((!t||t==="auto")&&(!e||e==="auto")?this.plugins.video.setAutoSize.call(this):this.plugins.video.setSize.call(this,t,e||n._videoRatio||n._defaultRatio,!1),!1)},sizeRevert:function(){this.plugins.resizing._module_sizeRevert.call(this,this.context.video)},setSize:function(t,e,n,i){const s=this.context.video,r=/^(rw|lw)$/.test(i),a=/^(th|bh)$/.test(i);a||(t=this.util.getNumber(t,0)),r||(e=this.util.isNumber(e)?e+s.sizeUnit:e||""),t=t?t+s.sizeUnit:"",a||(s._element.style.width=t),r||(s._cover.style.paddingBottom=s._cover.style.height=e),!a&&!/%$/.test(t)&&(s._cover.style.width=t,s._container.style.width=""),!r&&!/%$/.test(e)?s._element.style.height=e:s._element.style.height="",n||s._element.removeAttribute("data-percentage"),this.plugins.resizing._module_saveCurrentSize.call(this,s)},setAutoSize:function(){this.plugins.video.setPercentSize.call(this,100,this.context.video._defaultRatio)},setOriginSize:function(t){const e=this.context.video;e._element.removeAttribute("data-percentage"),this.plugins.resizing.resetTransform.call(this,e._element),this.plugins.video.cancelPercentAttr.call(this);const n=((t?e._element.getAttribute("data-size"):"")||e._element.getAttribute("data-origin")||"").split(",");if(n){const i=n[0],s=n[1];e._onlyPercentage||/%$/.test(i)&&(/%$/.test(s)||!/\d/.test(s))?this.plugins.video.setPercentSize.call(this,i,s):this.plugins.video.setSize.call(this,i,s),this.plugins.resizing._module_saveCurrentSize.call(this,e)}},setPercentSize:function(t,e){const n=this.context.video;e=e&&!/%$/.test(e)&&!this.util.getNumber(e,0)?this.util.isNumber(e)?e+"%":e:this.util.isNumber(e)?e+n.sizeUnit:e||n._defaultRatio,n._container.style.width=this.util.isNumber(t)?t+"%":t,n._container.style.height="",n._cover.style.width="100%",n._cover.style.height=e,n._cover.style.paddingBottom=e,n._element.style.width="100%",n._element.style.height="100%",n._element.style.maxWidth="",n._align==="center"&&this.plugins.video.setAlign.call(this,null,null,null,null),n._element.setAttribute("data-percentage",t+","+e),this.plugins.resizing._module_saveCurrentSize.call(this,n)},cancelPercentAttr:function(){const t=this.context.video;t._cover.style.width="",t._cover.style.height="",t._cover.style.paddingBottom="",t._container.style.width="",t._container.style.height="",this.util.removeClass(t._container,this.context.video._floatClassRegExp),this.util.addClass(t._container,"__se__float-"+t._align),t._align==="center"&&this.plugins.video.setAlign.call(this,null,null,null,null)},setAlign:function(t,e,n,i){const s=this.context.video;t||(t=s._align),e||(e=s._element),n||(n=s._cover),i||(i=s._container),/%$/.test(e.style.width)&&t==="center"?(i.style.minWidth="100%",n.style.width=i.style.width,n.style.height=n.style.height,n.style.paddingBottom=/%$/.test(n.style.height)?this.util.getNumber(this.util.getNumber(n.style.height,2)/100*this.util.getNumber(n.style.width,2),2)+"%":n.style.height):(i.style.minWidth="",n.style.width=this.context.resizing._rotateVertical?e.style.height||e.offsetHeight:e.style.width||"100%",n.style.paddingBottom=n.style.height),this.util.hasClass(i,"__se__float-"+t)||(this.util.removeClass(i,s._floatClassRegExp),this.util.addClass(i,"__se__float-"+t)),e.setAttribute("data-align",t)},init:function(){const t=this.context.video;t.videoInputFile&&(t.videoInputFile.value=""),t.videoUrlFile&&(t._linkValue=t.preview.textContent=t.videoUrlFile.value=""),t.videoInputFile&&t.videoUrlFile&&(t.videoUrlFile.removeAttribute("disabled"),t.preview.style.textDecoration=""),t._origin_w=this.options.videoWidth,t._origin_h=this.options.videoHeight,t.modal.querySelector('input[name="suneditor_video_radio"][value="none"]').checked=!0,t._resizing&&(t.inputX.value=this.options.videoWidth===t._defaultSizeX?"":this.options.videoWidth,t.inputY.value=this.options.videoHeight===t._defaultSizeY?"":this.options.videoHeight,t.proportion.checked=!0,t.proportion.disabled=!0,this.plugins.video.setVideoRatioSelect.call(this,t._defaultRatio))}},Qu={name:"audio",display:"dialog",add:function(t){t.addModule([Mi,To,Lo]);const e=t.context,n=e.audio={_infoList:[],_infoIndex:0,_uploadFileLength:0,focusElement:null,targetSelect:null,_origin_w:t.options.audioWidth,_origin_h:t.options.audioHeight,_linkValue:"",_element:null,_cover:null,_container:null};let i=this.setDialog(t);n.modal=i,n.audioInputFile=i.querySelector("._se_audio_files"),n.audioUrlFile=i.querySelector(".se-input-url"),n.focusElement=n.audioInputFile||n.audioUrlFile,n.preview=i.querySelector(".se-link-preview");let s=this.setController(t);n.controller=s,i.querySelector("form").addEventListener("submit",this.submit.bind(t)),n.audioInputFile&&i.querySelector(".se-dialog-files-edge-button").addEventListener("click",this._removeSelectedFiles.bind(n.audioInputFile,n.audioUrlFile,n.preview)),n.audioInputFile&&n.audioUrlFile&&n.audioInputFile.addEventListener("change",this._fileInputChange.bind(n)),s.addEventListener("click",this.onClick_controller.bind(t)),n.audioUrlFile&&n.audioUrlFile.addEventListener("input",this._onLinkPreview.bind(n.preview,n,t.options.linkProtocol)),e.dialog.modal.appendChild(i),e.element.relative.appendChild(s),i=null,s=null},setDialog:function(t){const e=t.options,n=t.lang,i=t.util.createElement("DIV");i.className="se-dialog-content",i.style.display="none";let s='<form method="post" enctype="multipart/form-data"><div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" title="'+n.dialogBox.close+'" aria-label="'+n.dialogBox.close+'">'+t.icons.cancel+'</button><span class="se-modal-title">'+n.dialogBox.audioBox.title+'</span></div><div class="se-dialog-body">';return e.audioFileInput&&(s+='<div class="se-dialog-form"><label>'+n.dialogBox.audioBox.file+'</label><div class="se-dialog-form-files"><input class="se-input-form _se_audio_files" type="file" accept="'+e.audioAccept+'"'+(e.audioMultipleFile?' multiple="multiple"':"")+'/><button type="button" data-command="filesRemove" class="se-btn se-dialog-files-edge-button se-file-remove" title="'+n.controller.remove+'" aria-label="'+n.controller.remove+'">'+t.icons.cancel+"</button></div></div>"),e.audioUrlInput&&(s+='<div class="se-dialog-form"><label>'+n.dialogBox.audioBox.url+'</label><input class="se-input-form se-input-url" type="text" /><pre class="se-link-preview"></pre></div>'),s+='</div><div class="se-dialog-footer"><button type="submit" class="se-btn-primary" title="'+n.dialogBox.submitButton+'" aria-label="'+n.dialogBox.submitButton+'"><span>'+n.dialogBox.submitButton+"</span></button></div></form>",i.innerHTML=s,i},setController:function(t){const e=t.lang,n=t.icons,i=t.util.createElement("DIV");return i.className="se-controller se-controller-link",i.innerHTML='<div class="se-arrow se-arrow-up"></div><div class="link-content"><div class="se-btn-group"><button type="button" data-command="update" tabindex="-1" class="se-tooltip">'+n.edit+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.edit+'</span></span></button><button type="button" data-command="delete" tabindex="-1" class="se-tooltip">'+n.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.remove+"</span></span></button></div></div>",i},_fileInputChange:function(){this.audioInputFile.value?(this.audioUrlFile.setAttribute("disabled",!0),this.preview.style.textDecoration="line-through"):(this.audioUrlFile.removeAttribute("disabled"),this.preview.style.textDecoration="")},_removeSelectedFiles:function(t,e){this.value="",t&&(t.removeAttribute("disabled"),e.style.textDecoration="")},_createAudioTag:function(){const t=this.util.createElement("AUDIO");this.plugins.audio._setTagAttrs.call(this,t);const e=this.context.audio._origin_w,n=this.context.audio._origin_h;return t.setAttribute("origin-size",e+","+n),t.style.cssText=(e?"width:"+e+"; ":"")+(n?"height:"+n+";":""),t},_setTagAttrs:function(t){t.setAttribute("controls",!0);const e=this.options.audioTagAttrs;if(e)for(let n in e)this.util.hasOwn(e,n)&&t.setAttribute(n,e[n])},_onLinkPreview:function(t,e,n){const i=n.target.value.trim();t._linkValue=this.textContent=i?e&&i.indexOf("://")===-1&&i.indexOf("#")!==0?e+i:i.indexOf("://")===-1?"/"+i:i:""},fileTags:["audio"],select:function(t){this.plugins.audio.onModifyMode.call(this,t)},destroy:function(t){t=t||this.context.audio._element;const e=this.util.getParentElement(t,this.util.isComponent)||t,n=t.getAttribute("data-index")*1,i=e.previousElementSibling||e.nextElementSibling,s=e.parentNode;this.util.removeItem(e),this.plugins.audio.init.call(this),this.controllersOff(),s!==this.context.element.wysiwyg&&this.util.removeItemAllParents(s,function(r){return r.childNodes.length===0},null),this.focusEdge(i),this.plugins.fileManager.deleteInfo.call(this,"audio",n,this.functions.onAudioUpload),this.history.push(!1)},checkFileInfo:function(){this.plugins.fileManager.checkInfo.call(this,"audio",["audio"],this.functions.onAudioUpload,this.plugins.audio.updateCover.bind(this),!1)},resetFileInfo:function(){this.plugins.fileManager.resetInfo.call(this,"audio",this.functions.onAudioUpload)},on:function(t){const e=this.context.audio;t?e._element?(this.context.dialog.updateModal=!0,e._linkValue=e.preview.textContent=e.audioUrlFile.value=e._element.src,e.audioInputFile&&this.options.audioMultipleFile&&e.audioInputFile.removeAttribute("multiple")):e.audioInputFile&&this.options.audioMultipleFile&&e.audioInputFile.removeAttribute("multiple"):(this.plugins.audio.init.call(this),e.audioInputFile&&this.options.audioMultipleFile&&e.audioInputFile.setAttribute("multiple","multiple"))},open:function(){this.plugins.dialog.open.call(this,"audio",this.currentControllerName==="audio")},submit:function(t){const e=this.context.audio;t.preventDefault(),t.stopPropagation();try{e.audioInputFile&&e.audioInputFile.files.length>0?(this.showLoading(),this.plugins.audio.submitAction.call(this,e.audioInputFile.files)):e.audioUrlFile&&e._linkValue.length>0&&(this.showLoading(),this.plugins.audio.setupUrl.call(this,e._linkValue))}catch(n){throw this.closeLoading(),Error('[SUNEDITOR.audio.submit.fail] cause : "'+n.message+'"')}finally{this.plugins.dialog.close.call(this)}return!1},submitAction:function(t){if(t.length===0)return;let e=0,n=[];for(let a=0,l=t.length;a<l;a++)/audio/i.test(t[a].type)&&(n.push(t[a]),e+=t[a].size);const i=this.options.audioUploadSizeLimit;if(i>0){let a=0;const l=this.context.audio._infoList;for(let o=0,d=l.length;o<d;o++)a+=l[o].size*1;if(e+a>i){this.closeLoading();const o="[SUNEDITOR.audioUpload.fail] Size of uploadable total audios: "+i/1e3+"KB";(typeof this.functions.onAudioUploadError!="function"||this.functions.onAudioUploadError(o,{limitSize:i,currentSize:a,uploadSize:e},this))&&this.functions.noticeOpen(o);return}}const s=this.context.audio;s._uploadFileLength=n.length;const r={isUpdate:this.context.dialog.updateModal,element:s._element};if(typeof this.functions.onAudioUploadBefore=="function"){const a=this.functions.onAudioUploadBefore(n,r,this,function(l){l&&this._w.Array.isArray(l.result)?this.plugins.audio.register.call(this,r,l):this.plugins.audio.upload.call(this,r,l)}.bind(this));if(typeof a>"u")return;if(!a){this.closeLoading();return}typeof a=="object"&&a.length>0&&(n=a)}this.plugins.audio.upload.call(this,r,n)},error:function(t,e){if(this.closeLoading(),typeof this.functions.onAudioUploadError!="function"||this.functions.onAudioUploadError(t,e,this))throw this.functions.noticeOpen(t),Error("[SUNEDITOR.plugin.audio.exception] response: "+t)},upload:function(t,e){if(!e){this.closeLoading();return}if(typeof e=="string"){this.plugins.audio.error.call(this,e,null);return}const n=this.options.audioUploadUrl,i=this.context.dialog.updateModal?1:e.length,s=new FormData;for(let r=0;r<i;r++)s.append("file-"+r,e[r]);this.plugins.fileManager.upload.call(this,n,this.options.audioUploadHeader,s,this.plugins.audio.callBack_upload.bind(this,t),this.functions.onAudioUploadError)},callBack_upload:function(t,e){if(typeof this.functions.audioUploadHandler=="function")this.functions.audioUploadHandler(e,t,this);else{const n=JSON.parse(e.responseText);n.errorMessage?this.plugins.audio.error.call(this,n.errorMessage,n):this.plugins.audio.register.call(this,t,n)}},register:function(t,e){const n=e.result;for(let i=0,s=n.length,r,a;i<s;i++)t.isUpdate?a=t.element:a=this.plugins.audio._createAudioTag.call(this),r={name:n[i].name,size:n[i].size},this.plugins.audio.create_audio.call(this,a,n[i].url,r,t.isUpdate);this.closeLoading()},setupUrl:function(t){try{if(t.length===0)return!1;this.plugins.audio.create_audio.call(this,this.plugins.audio._createAudioTag.call(this),t,null,this.context.dialog.updateModal)}catch(e){throw Error('[SUNEDITOR.audio.audio.fail] cause : "'+e.message+'"')}finally{this.closeLoading()}},create_audio:function(t,e,n,i){const s=this.context.audio;if(i)if(s._element&&(t=s._element),t&&t.src!==e)t.src=e,this.selectComponent(t,"audio");else{this.selectComponent(t,"audio");return}else{t.src=e;const r=this.plugins.component.set_cover.call(this,t),a=this.plugins.component.set_container.call(this,r,"");if(!this.insertComponent(a,!1,!0,!this.options.mediaAutoSelect)){this.focus();return}if(!this.options.mediaAutoSelect){const l=this.appendFormatTag(a,null);l&&this.setRange(l,0,l,0)}}this.plugins.fileManager.setInfo.call(this,"audio",t,this.functions.onAudioUpload,n,!1),i&&this.history.push(!1)},updateCover:function(t){const e=this.context.audio;this.plugins.audio._setTagAttrs.call(this,t);let n=this.util.isRangeFormatElement(t.parentNode)||this.util.isWysiwygDiv(t.parentNode)?t:this.util.getFormatElement(t)||t;const i=t;e._element=t=t.cloneNode(!1);const s=this.plugins.component.set_cover.call(this,t),r=this.plugins.component.set_container.call(this,s,"se-audio-container");try{if(this.util.getParentElement(i,this.util.isNotCheckingNode))i.parentNode.replaceChild(r,i);else if(this.util.isListCell(n)){const a=this.util.getParentElement(i,function(l){return l.parentNode===n});n.insertBefore(r,a),this.util.removeItem(i),this.util.removeEmptyNode(a,null,!0)}else if(this.util.isFormatElement(n)){const a=this.util.getParentElement(i,function(l){return l.parentNode===n});n=this.util.splitElement(n,a),n.parentNode.insertBefore(r,n),this.util.removeItem(i),this.util.removeEmptyNode(n,null,!0),n.children.length===0&&(n.innerHTML=this.util.htmlRemoveWhiteSpace(n.innerHTML))}else n.parentNode.replaceChild(r,n)}catch(a){console.warn("[SUNEDITOR.audio.error] Maybe the audio tag is nested.",a)}this.plugins.fileManager.setInfo.call(this,"audio",t,this.functions.onAudioUpload,null,!1),this.plugins.audio.init.call(this)},onModifyMode:function(t){const e=this.context.audio;this.setControllerPosition(e.controller,t,"bottom",{left:0,top:0}),this.controllersOn(e.controller,t,this.plugins.audio.onControllerOff.bind(this,t),"audio"),this.util.addClass(t,"active"),e._element=t,e._cover=this.util.getParentElement(t,"FIGURE"),e._container=this.util.getParentElement(t,this.util.isComponent)},openModify:function(t){if(this.context.audio.audioUrlFile){const e=this.context.audio;e._linkValue=e.preview.textContent=e.audioUrlFile.value=e._element.src}t||this.plugins.dialog.open.call(this,"audio",!0)},onClick_controller:function(t){t.stopPropagation();const e=t.target.getAttribute("data-command");e&&(t.preventDefault(),/update/.test(e)?this.plugins.audio.openModify.call(this,!1):this.plugins.audio.destroy.call(this,this.context.audio._element),this.controllersOff())},onControllerOff:function(t){this.util.removeClass(t,"active"),this.context.audio.controller.style.display="none"},init:function(){if(this.context.dialog.updateModal)return;const t=this.context.audio;t.audioInputFile&&(t.audioInputFile.value=""),t.audioUrlFile&&(t._linkValue=t.preview.textContent=t.audioUrlFile.value=""),t.audioInputFile&&t.audioUrlFile&&(t.audioUrlFile.removeAttribute("disabled"),t.preview.style.textDecoration=""),t._element=null}},yl="https://katex.org/docs/supported.html",Ju={name:"math",display:"dialog",add:function(t){t.addModule([Mi]);const e=t.context;e.math={focusElement:null,previewElement:null,fontSizeElement:null,defaultFontSize:"",_mathExp:null};let n=this.setDialog(t);e.math.modal=n,e.math.focusElement=n.querySelector(".se-math-exp"),e.math.previewElement=n.querySelector(".se-math-preview"),e.math.fontSizeElement=n.querySelector(".se-math-size"),e.math.focusElement.addEventListener(t.util.isIE?"textinput":"input",this._renderMathExp.bind(t,e.math),!1),e.math.fontSizeElement.addEventListener("change",function(s){this.fontSize=s.target.value}.bind(e.math.previewElement.style),!1);let i=this.setController_MathButton(t);e.math.mathController=i,e.math._mathExp=null,n.querySelector("form").addEventListener("submit",this.submit.bind(t),!1),i.addEventListener("click",this.onClick_mathController.bind(t)),e.math.previewElement.style.fontSize=e.math.defaultFontSize,e.dialog.modal.appendChild(n),e.element.relative.appendChild(i),n=null,i=null},setDialog:function(t){const e=t.lang,n=t.util.createElement("DIV"),i=t.options.mathFontSize;let s=i[0].value;n.className="se-dialog-content",n.style.display="none";let r='<form><div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" title="'+e.dialogBox.close+'" aria-label="'+e.dialogBox.close+'">'+t.icons.cancel+'</button><span class="se-modal-title">'+e.dialogBox.mathBox.title+'</span></div><div class="se-dialog-body"><div class="se-dialog-form"><label>'+e.dialogBox.mathBox.inputLabel+' (<a href="'+yl+'" target="_blank">KaTeX</a>)</label><textarea class="se-input-form se-math-exp" type="text"></textarea></div><div class="se-dialog-form"><label>'+e.dialogBox.mathBox.fontSizeLabel+'</label><select class="se-input-select se-math-size">';for(let a=0,l=i.length,o;a<l;a++)o=i[a],o.default&&(s=o.value),r+='<option value="'+o.value+'"'+(o.default?" selected":"")+">"+o.text+"</option>";return r+='</select></div><div class="se-dialog-form"><label>'+e.dialogBox.mathBox.previewLabel+'</label><p class="se-math-preview"></p></div></div><div class="se-dialog-footer"><button type="submit" class="se-btn-primary" title="'+e.dialogBox.submitButton+'" aria-label="'+e.dialogBox.submitButton+'"><span>'+e.dialogBox.submitButton+"</span></button></div></form>",t.context.math.defaultFontSize=s,n.innerHTML=r,n},setController_MathButton:function(t){const e=t.lang,n=t.util.createElement("DIV");return n.className="se-controller se-controller-link",n.innerHTML='<div class="se-arrow se-arrow-up"></div><div class="link-content"><div class="se-btn-group"><button type="button" data-command="update" tabindex="-1" class="se-btn se-tooltip">'+t.icons.edit+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.edit+'</span></span></button><button type="button" data-command="delete" tabindex="-1" class="se-btn se-tooltip">'+t.icons.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.remove+"</span></span></button></div></div>",n},open:function(){this.plugins.dialog.open.call(this,"math",this.currentControllerName==="math")},managedTags:function(){return{className:"katex",method:function(t){if(!t.getAttribute("data-exp")||!this.options.katex)return;const e=this._d.createRange().createContextualFragment(this.plugins.math._renderer.call(this,this.util.HTMLDecoder(t.getAttribute("data-exp"))));t.innerHTML=e.querySelector(".katex").innerHTML,t.setAttribute("contenteditable",!1)}}},_renderer:function(t){let e="";try{this.util.removeClass(this.context.math.focusElement,"se-error"),e=this.options.katex.src.renderToString(t,{throwOnError:!0,displayMode:!0})}catch(n){this.util.addClass(this.context.math.focusElement,"se-error"),e='<span class="se-math-katex-error">Katex syntax error. (Refer <a href="'+yl+'" target="_blank">KaTeX</a>)</span>',console.warn("[SUNEDITOR.math.Katex.error] ",n)}return e},_renderMathExp:function(t,e){t.previewElement.innerHTML=this.plugins.math._renderer.call(this,e.target.value)},submit:function(t){this.showLoading(),t.preventDefault(),t.stopPropagation();const e=function(){if(this.context.math.focusElement.value.trim().length===0)return!1;const n=this.context.math,i=n.focusElement.value,s=n.previewElement.querySelector(".katex");if(!s)return!1;if(s.className="__se__katex "+s.className,s.setAttribute("contenteditable",!1),s.setAttribute("data-exp",this.util.HTMLEncoder(i)),s.setAttribute("data-font-size",n.fontSizeElement.value),s.style.fontSize=n.fontSizeElement.value,this.context.dialog.updateModal){const r=this.util.getParentElement(n._mathExp,".katex");r.parentNode.replaceChild(s,r),this.setRange(s,0,s,1)}else{const r=this.getSelectedElements();if(r.length>1){const l=this.util.createElement(r[0].nodeName);if(l.appendChild(s),!this.insertNode(l,null,!0))return!1}else if(!this.insertNode(s,null,!0))return!1;const a=this.util.createTextNode(this.util.zeroWidthSpace);s.parentNode.insertBefore(a,s.nextSibling),this.setRange(s,0,s,1)}return n.focusElement.value="",n.fontSizeElement.value="1em",n.previewElement.style.fontSize="1em",n.previewElement.innerHTML="",!0}.bind(this);try{e()&&(this.plugins.dialog.close.call(this),this.history.push(!1))}catch{this.plugins.dialog.close.call(this)}finally{this.closeLoading()}return!1},active:function(t){if(!t)this.controllerArray.indexOf(this.context.math.mathController)>-1&&this.controllersOff();else if(t.getAttribute("data-exp"))return this.controllerArray.indexOf(this.context.math.mathController)<0&&(this.setRange(t,0,t,1),this.plugins.math.call_controller.call(this,t)),!0;return!1},on:function(t){if(!t)this.plugins.math.init.call(this);else{const e=this.context.math;if(e._mathExp){const n=this.util.HTMLDecoder(e._mathExp.getAttribute("data-exp")),i=e._mathExp.getAttribute("data-font-size")||"1em";this.context.dialog.updateModal=!0,e.focusElement.value=n,e.fontSizeElement.value=i,e.previewElement.innerHTML=this.plugins.math._renderer.call(this,n),e.previewElement.style.fontSize=i}}},call_controller:function(t){this.context.math._mathExp=t;const e=this.context.math.mathController;this.setControllerPosition(e,t,"bottom",{left:0,top:0}),this.controllersOn(e,t,"math")},onClick_mathController:function(t){t.stopPropagation();const e=t.target.getAttribute("data-command")||t.target.parentNode.getAttribute("data-command");e&&(t.preventDefault(),/update/.test(e)?(this.context.math.focusElement.value=this.util.HTMLDecoder(this.context.math._mathExp.getAttribute("data-exp")),this.plugins.dialog.open.call(this,"math",!0)):(this.util.removeItem(this.context.math._mathExp),this.context.math._mathExp=null,this.focus(),this.history.push(!1)),this.controllersOff())},init:function(){const t=this.context.math;t.mathController.style.display="none",t._mathExp=null,t.focusElement.value="",t.previewElement.innerHTML=""}};var ef={exports:{}};(function(t){(function(e,n){t.exports=e.document?n(e,!0):function(i){if(!i.document)throw new Error("SUNEDITOR_MODULES a window with a document");return n(i)}})(typeof window<"u"?window:Pe,function(e,n){const i={name:"fileBrowser",_xmlHttp:null,_loading:null,add:function(s){const r=s.context;r.fileBrowser={_closeSignal:!1,area:null,header:null,tagArea:null,body:null,list:null,tagElements:null,items:[],selectedTags:[],selectorHandler:null,contextPlugin:"",columnSize:4};let a=s.util.createElement("DIV");a.className="se-file-browser sun-editor-common";let l=s.util.createElement("DIV");l.className="se-file-browser-back";let o=s.util.createElement("DIV");o.className="se-file-browser-inner",o.innerHTML=this.set_browser(s),a.appendChild(l),a.appendChild(o),this._loading=a.querySelector(".se-loading-box"),r.fileBrowser.area=a,r.fileBrowser.header=o.querySelector(".se-file-browser-header"),r.fileBrowser.titleArea=o.querySelector(".se-file-browser-title"),r.fileBrowser.tagArea=o.querySelector(".se-file-browser-tags"),r.fileBrowser.body=o.querySelector(".se-file-browser-body"),r.fileBrowser.list=o.querySelector(".se-file-browser-list"),r.fileBrowser.tagArea.addEventListener("click",this.onClickTag.bind(s)),r.fileBrowser.list.addEventListener("click",this.onClickFile.bind(s)),o.addEventListener("mousedown",this._onMouseDown_browser.bind(s)),o.addEventListener("click",this._onClick_browser.bind(s)),r.element.relative.appendChild(a),a=null,l=null,o=null},set_browser:function(s){const r=s.lang;return'<div class="se-file-browser-content"><div class="se-file-browser-header"><button type="button" data-command="close" class="se-btn se-file-browser-close" class="close" title="'+r.dialogBox.close+'" aria-label="'+r.dialogBox.close+'">'+s.icons.cancel+'</button><span class="se-file-browser-title"></span><div class="se-file-browser-tags"></div></div><div class="se-file-browser-body"><div class="se-loading-box sun-editor-common"><div class="se-loading-effect"></div></div><div class="se-file-browser-list"></div></div></div>'},_onMouseDown_browser:function(s){/se-file-browser-inner/.test(s.target.className)?this.context.fileBrowser._closeSignal=!0:this.context.fileBrowser._closeSignal=!1},_onClick_browser:function(s){s.stopPropagation(),(/close/.test(s.target.getAttribute("data-command"))||this.context.fileBrowser._closeSignal)&&this.plugins.fileBrowser.close.call(this)},open:function(s,r){this.plugins.fileBrowser._bindClose&&(this._d.removeEventListener("keydown",this.plugins.fileBrowser._bindClose),this.plugins.fileBrowser._bindClose=null),this.plugins.fileBrowser._bindClose=function(d){/27/.test(d.keyCode)&&this.plugins.fileBrowser.close.call(this)}.bind(this),this._d.addEventListener("keydown",this.plugins.fileBrowser._bindClose);const a=this.context.fileBrowser;a.contextPlugin=s,a.selectorHandler=r;const l=this.context[s],o=l.listClass;this.util.hasClass(a.list,o)||(a.list.className="se-file-browser-list "+o),this.options.popupDisplay==="full"?a.area.style.position="fixed":a.area.style.position="absolute",a.titleArea.textContent=l.title,a.area.style.display="block",this.plugins.fileBrowser._drawFileList.call(this,this.context[s].url,this.context[s].header)},_bindClose:null,close:function(){const s=this.plugins.fileBrowser;s._xmlHttp&&s._xmlHttp.abort(),s._bindClose&&(this._d.removeEventListener("keydown",s._bindClose),s._bindClose=null);const r=this.context.fileBrowser;r.area.style.display="none",r.selectorHandler=null,r.selectedTags=[],r.items=[],r.list.innerHTML=r.tagArea.innerHTML=r.titleArea.textContent="",typeof this.plugins[r.contextPlugin].init=="function"&&this.plugins[r.contextPlugin].init.call(this),r.contextPlugin=""},showBrowserLoading:function(){this._loading.style.display="block"},closeBrowserLoading:function(){this._loading.style.display="none"},_drawFileList:function(s,r){const a=this.plugins.fileBrowser,l=a._xmlHttp=this.util.getXMLHttpRequest();if(l.onreadystatechange=a._callBackGet.bind(this,l),l.open("get",s,!0),r!==null&&typeof r=="object"&&this._w.Object.keys(r).length>0)for(let o in r)l.setRequestHeader(o,r[o]);l.send(null),this.plugins.fileBrowser.showBrowserLoading()},_callBackGet:function(s){if(s.readyState===4){if(this.plugins.fileBrowser._xmlHttp=null,s.status===200)try{const r=JSON.parse(s.responseText);r.result.length>0?this.plugins.fileBrowser._drawListItem.call(this,r.result,!0):r.nullMessage&&(this.context.fileBrowser.list.innerHTML=r.nullMessage)}catch(r){throw Error('[SUNEDITOR.fileBrowser.drawList.fail] cause : "'+r.message+'"')}finally{this.plugins.fileBrowser.closeBrowserLoading(),this.context.fileBrowser.body.style.maxHeight=this._w.innerHeight-this.context.fileBrowser.header.offsetHeight-50+"px"}else if(this.plugins.fileBrowser.closeBrowserLoading(),s.status!==0){const r=s.responseText?JSON.parse(s.responseText):s,a="[SUNEDITOR.fileBrowser.get.serverException] status: "+s.status+", response: "+(r.errorMessage||s.responseText);throw Error(a)}}},_drawListItem:function(s,r){const a=this.context.fileBrowser,l=this.context[a.contextPlugin],o=[],d=s.length,f=l.columnSize||a.columnSize,y=f<=1?1:Math.round(d/f)||1,b=l.itemTemplateHandler;let w="",v='<div class="se-file-item-column">',x=1;for(let c=0,u,h;c<d;c++)if(u=s[c],h=u.tag?typeof u.tag=="string"?u.tag.split(","):u.tag:[],h=u.tag=h.map(function(p){return p.trim()}),v+=b(u),(c+1)%y===0&&x<f&&c+1<d&&(x++,v+='</div><div class="se-file-item-column">'),r&&h.length>0)for(let p=0,m=h.length,g;p<m;p++)g=h[p],g&&o.indexOf(g)===-1&&(o.push(g),w+='<a title="'+g+'" aria-label="'+g+'">'+g+"</a>");v+="</div>",a.list.innerHTML=v,r&&(a.items=s,a.tagArea.innerHTML=w,a.tagElements=a.tagArea.querySelectorAll("A"))},onClickTag:function(s){const r=s.target;if(!this.util.isAnchor(r))return;const a=r.textContent,l=this.plugins.fileBrowser,o=this.context.fileBrowser,d=o.tagArea.querySelector('a[title="'+a+'"]'),f=o.selectedTags,y=f.indexOf(a);y>-1?(f.splice(y,1),this.util.removeClass(d,"on")):(f.push(a),this.util.addClass(d,"on")),l._drawListItem.call(this,f.length===0?o.items:o.items.filter(function(b){return b.tag.some(function(w){return f.indexOf(w)>-1})}),!1)},onClickFile:function(s){s.preventDefault(),s.stopPropagation();const r=this.context.fileBrowser,a=r.list;let l=s.target,o=null;if(l===a)return;for(;a!==l.parentNode&&(o=l.getAttribute("data-command"),!o);)l=l.parentNode;if(!o)return;(r.selectorHandler||this.context[r.contextPlugin].selectorHandler)(l,l.parentNode.querySelector(".__se__img_name").textContent),this.plugins.fileBrowser.close.call(this)}};return typeof n>"u"&&(e.SUNEDITOR_MODULES||Object.defineProperty(e,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_MODULES,"fileBrowser",{enumerable:!0,writable:!1,configurable:!1,value:i})),i})})(ef);var D1=ef.exports;const P1=Jt(D1),tf={name:"imageGallery",add:function(t){t.addModule([P1]);const e=t.context;e.imageGallery={title:t.lang.toolbar.imageGallery,url:t.options.imageGalleryUrl,header:t.options.imageGalleryHeader,listClass:"se-image-list",itemTemplateHandler:this.drawItems,selectorHandler:this.setImage.bind(t),columnSize:4}},open:function(t){this.plugins.fileBrowser.open.call(this,"imageGallery",t)},drawItems:function(t){const e=t.src.split("/").pop();return'<div class="se-file-item-img"><img src="'+(t.thumbnail||t.src)+'" alt="'+(t.alt||e)+'" data-command="pick" data-value="'+(t.src||t.thumbnail)+'"><div class="se-file-img-name se-file-name-back"></div><div class="se-file-img-name __se__img_name">'+(t.name||e)+"</div></div>"},setImage:function(t,e){this.callPlugin("image",function(){const n={name:e,size:0};this.plugins.image.create_image.call(this,t.getAttribute("data-value"),null,this.context.image._origin_w,this.context.image._origin_h,"none",n,t.alt)}.bind(this),null)}},j1={blockquote:Lu,align:Au,font:Mu,fontSize:Nu,fontColor:Ru,hiliteColor:Du,horizontalRule:Pu,list:ju,table:Fu,formatBlock:Bu,lineHeight:Iu,template:zu,paragraphStyle:Hu,textStyle:Vu,link:qu,image:Xu,video:Gu,audio:Qu,math:Ju,imageGallery:tf},F1=Object.freeze(Object.defineProperty({__proto__:null,align:Au,audio:Qu,blockquote:Lu,default:j1,font:Mu,fontColor:Ru,fontSize:Nu,formatBlock:Bu,hiliteColor:Du,horizontalRule:Pu,image:Xu,imageGallery:tf,lineHeight:Iu,link:qu,list:ju,math:Ju,paragraphStyle:Hu,table:Fu,template:zu,textStyle:Vu,video:Gu},Symbol.toStringTag,{value:"Module"})),B1=Pl(F1),bl={rtl:{italic:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10.5 15.8" xml:space="preserve"><g><path d="M0.3,0.1c0.3,0,0.5,0,0.7,0c1,0.1,1.7,0.1,2.2,0.1H4L7.2,0l0.2,1.1H7c-0.5,0-1,0.1-1.5,0.3v0.4l0.3,1.9L6,4.4L6.3,6 l0.1,0.4l0.1,0.5c0.1,0.2,0.1,0.4,0.2,0.7s0.1,0.6,0.2,0.9L7,9.1l0.6,2.8l0.3,1.4c0.1,0.4,0.2,0.7,0.4,1c0.4,0.2,0.8,0.3,1.2,0.4 l0.8,0.2l0.2,0.9l-1.1,0c-0.9-0.1-1.5-0.1-1.8-0.1h-2c-0.9,0.1-1.4,0.2-1.5,0.2c-0.1,0-0.2,0-0.3,0H3.4c-0.1,0-0.2,0-0.2,0 l-0.1-0.4c0-0.2-0.1-0.4-0.1-0.6l0.7-0.1c0.4,0,0.8-0.1,1.2-0.2c0-0.1,0-0.2,0-0.3l-0.1-0.5l-0.4-2.4L4,9.6L3.4,6.4 C3.2,5.7,3,4.7,2.7,3.3c0-0.3-0.1-0.5-0.1-0.8C2.5,2.1,2.4,1.9,2.3,1.6C2,1.4,1.6,1.3,1.3,1.2C0.9,1.2,0.5,1.1,0.2,0.9L0,0.4L0,0 L0.3,0.1L0.3,0.1z"/></g></svg>',indent:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 12.4" xml:space="preserve"><g><g><path d="M15.5,10.1L15.5,10.1c0.1,0,0.3,0.1,0.3,0.3v1.7c0,0.1,0,0.1-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1l-15.2,0 c-0.1,0-0.1,0-0.2-0.1C0,12.2,0,12.2,0,12.1l0-1.7c0-0.1,0-0.1,0.1-0.2c0.1-0.1,0.1-0.1,0.2-0.1C0.3,10.1,15.5,10.1,15.5,10.1z M9.8,6.7c0.1,0,0.1,0,0.2,0.1C10.1,6.9,10.1,7,10.1,7v1.7c0,0.1,0,0.2-0.1,0.2C10,9,9.9,9,9.8,9L0.3,9C0.2,9,0.1,9,0.1,8.9 C0,8.9,0,8.8,0,8.7V7C0,7,0,6.9,0.1,6.8c0.1-0.1,0.1-0.1,0.2-0.1C0.3,6.7,9.8,6.7,9.8,6.7z M0.3,3.4h9.6h0c0.1,0,0.3,0.1,0.3,0.3 v1.7v0c0,0.1-0.1,0.3-0.3,0.3H0.3c-0.1,0-0.1,0-0.2-0.1C0,5.5,0,5.4,0,5.3V3.6c0-0.1,0-0.1,0.1-0.2C0.1,3.4,0.2,3.4,0.3,3.4 L0.3,3.4z M0.3,0l15.2,0c0.1,0,0.1,0,0.2,0.1c0.1,0.1,0.1,0.1,0.1,0.2V2c0,0.1,0,0.2-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1H0.3 c-0.1,0-0.1,0-0.2-0.1C0,2.1,0,2,0,2l0-1.7c0-0.1,0-0.1,0.1-0.2C0.1,0,0.2,0,0.3,0z"/></g><path d="M13.1,3.5L15.7,6c0.1,0.1,0.1,0.3,0,0.4l-2.5,2.5C13.1,9,13,9,12.9,9c-0.1,0-0.1,0-0.2-0.1c-0.1-0.1-0.1-0.1-0.1-0.2V3.7 c0-0.1,0-0.2,0.1-0.2c0.1-0.1,0.1-0.1,0.2-0.1C13,3.4,13.1,3.4,13.1,3.5z"/></g></svg>',outdent:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 12.4" xml:space="preserve"><g><g><path d="M15.5,10.1L15.5,10.1c0.1,0,0.3,0.1,0.3,0.3v1.7c0,0.1,0,0.1-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1l-15.2,0 c-0.1,0-0.1,0-0.2-0.1C0,12.2,0,12.2,0,12.1l0-1.7c0-0.1,0-0.1,0.1-0.2c0.1-0.1,0.1-0.1,0.2-0.1C0.3,10.1,15.5,10.1,15.5,10.1z M9.8,6.7c0.1,0,0.1,0,0.2,0.1C10.1,6.9,10.1,7,10.1,7v1.7c0,0.1,0,0.2-0.1,0.2C10,9,9.9,9,9.8,9L0.3,9C0.2,9,0.1,9,0.1,8.9 C0,8.9,0,8.8,0,8.7V7C0,7,0,6.9,0.1,6.8c0.1-0.1,0.1-0.1,0.2-0.1C0.3,6.7,9.8,6.7,9.8,6.7z M0.3,3.4h9.6h0c0.1,0,0.3,0.1,0.3,0.3 v1.7v0c0,0.1-0.1,0.3-0.3,0.3H0.3c-0.1,0-0.1,0-0.2-0.1C0,5.5,0,5.4,0,5.3V3.6c0-0.1,0-0.1,0.1-0.2C0.1,3.4,0.2,3.4,0.3,3.4 L0.3,3.4z M0.3,0l15.2,0c0.1,0,0.1,0,0.2,0.1c0.1,0.1,0.1,0.1,0.1,0.2V2c0,0.1,0,0.2-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1H0.3 c-0.1,0-0.1,0-0.2-0.1C0,2.1,0,2,0,2l0-1.7c0-0.1,0-0.1,0.1-0.2C0.1,0,0.2,0,0.3,0z"/></g><path d="M15.5,3.4c0.1,0,0.1,0,0.2,0.1c0.1,0.1,0.1,0.1,0.1,0.2v5.1c0,0.1,0,0.1-0.1,0.2C15.6,9,15.5,9,15.5,9 c-0.1,0-0.1,0-0.2-0.1l-2.5-2.5c-0.1-0.1-0.1-0.3,0-0.4l2.5-2.5C15.3,3.4,15.4,3.4,15.5,3.4z"/></g></svg>',list_bullets:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 12.4" xml:space="preserve"><g><path d="M12.4,10.7c0,0.9,0.8,1.7,1.7,1.7c0.9,0,1.7-0.8,1.7-1.7C15.7,9.8,15,9,14.1,9c-0.4,0-0.9,0.2-1.2,0.5 C12.5,9.8,12.4,10.2,12.4,10.7C12.4,10.7,12.4,10.7,12.4,10.7z M12.4,6.2c0,0.9,0.8,1.7,1.7,1.7c0.4,0,0.9-0.2,1.2-0.5 c0.3-0.3,0.4-0.7,0.4-1.1c0-0.9-0.7-1.7-1.6-1.7C13.1,4.6,12.4,5.3,12.4,6.2C12.4,6.2,12.4,6.2,12.4,6.2z M0,9.8v1.7 c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1l10.7,0c0,0,0,0,0,0c0.1,0,0.3-0.1,0.3-0.3V9.8c0-0.1,0-0.1-0.1-0.2 C11.1,9.6,11,9.6,11,9.6l-10.7,0c-0.1,0-0.1,0-0.2,0.1C0,9.7,0,9.8,0,9.8L0,9.8z M12.9,2.9c0.3,0.3,0.7,0.5,1.2,0.5 c0.4,0,0.9-0.2,1.2-0.5c0.7-0.7,0.7-1.7,0-2.4C14.9,0.2,14.5,0,14.1,0c-0.4,0-0.9,0.2-1.2,0.5c-0.3,0.3-0.5,0.7-0.5,1.2 C12.4,2.1,12.5,2.6,12.9,2.9z M0,5.3V7c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1H11c0.1,0,0.1,0,0.2-0.1 c0.1-0.1,0.1-0.1,0.1-0.2V5.3c0,0,0,0,0,0c0-0.1-0.1-0.3-0.3-0.3H0.3c-0.1,0-0.1,0-0.2,0.1C0,5.2,0,5.3,0,5.3L0,5.3z M0,0.8v1.7 c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1h10.7c0.1,0,0.1,0,0.2-0.1c0,0,0.1-0.1,0.1-0.2V0.8c0-0.1,0-0.1-0.1-0.2 c0-0.1-0.1-0.1-0.2-0.1H0.3c-0.1,0-0.1,0-0.2,0.1C0,0.7,0,0.8,0,0.8L0,0.8z"/></g></svg>',list_number:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 15.7" xml:space="preserve"><g><path d="M0,11.5l0,1.7c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1H11c0.1,0,0.2,0,0.2-0.1c0.1-0.1,0.1-0.1,0.1-0.2v-1.7 c0-0.1,0-0.1-0.1-0.2c-0.1-0.1-0.1-0.1-0.2-0.1H0.3c-0.1,0-0.2,0-0.2,0.1C0,11.4,0,11.4,0,11.5L0,11.5z M0,8.7c0,0.1,0,0.1,0.1,0.2 C0.1,8.9,0.2,9,0.3,9H11c0.1,0,0.2,0,0.2-0.1c0.1-0.1,0.1-0.1,0.1-0.2V7c0-0.1,0-0.1-0.1-0.2c-0.1-0.1-0.1-0.1-0.2-0.1l-10.7,0 c-0.1,0-0.2,0-0.2,0.1C0,6.8,0,6.9,0,7C0,7,0,8.7,0,8.7z M0,2.5v1.7c0,0.1,0,0.1,0.1,0.2c0,0,0.1,0.1,0.2,0.1l10.7,0 c0.1,0,0.2,0,0.2-0.1c0.1-0.1,0.1-0.1,0.1-0.2V2.4c0-0.1,0-0.1-0.1-0.2c-0.1,0-0.1,0-0.2,0H0.3c-0.1,0-0.1,0-0.2,0 C0,2.3,0,2.4,0,2.5L0,2.5z"/></g><path d="M15.6,14.2c0-0.3-0.1-0.6-0.3-0.8c-0.2-0.2-0.4-0.4-0.7-0.4l0.9-1v-0.8h-2.9v1.3h0.9v-0.5h0.9l0,0c-0.1,0.1-0.2,0.2-0.3,0.3 s-0.2,0.3-0.4,0.5l-0.3,0.3l0.2,0.5c0.6,0,0.9,0.1,0.9,0.5c0,0.1-0.1,0.3-0.2,0.4c-0.1,0.1-0.3,0.1-0.4,0.1c-0.3,0-0.7-0.1-0.9-0.3 l-0.5,0.8c0.4,0.4,0.9,0.6,1.5,0.6c0.4,0,0.9-0.1,1.2-0.4C15.5,15.1,15.6,14.7,15.6,14.2z"/><path d="M15.6,8.7h-0.9v0.5h-1.1c0-0.2,0.2-0.4,0.4-0.5c0.2-0.2,0.4-0.3,0.7-0.4c0.3-0.2,0.5-0.3,0.7-0.6c0.2-0.2,0.3-0.5,0.3-0.8 c0-0.4-0.2-0.8-0.5-1c-0.6-0.4-1.4-0.5-2-0.1c-0.3,0.2-0.5,0.4-0.6,0.7L13.3,7c0.1-0.3,0.4-0.5,0.7-0.5c0.1,0,0.3,0,0.3,0.1 c0.1,0.1,0.1,0.2,0.1,0.3c0,0.2-0.1,0.3-0.2,0.4c-0.2,0.1-0.3,0.3-0.5,0.4c-0.2,0.1-0.4,0.3-0.6,0.4c-0.2,0.2-0.4,0.4-0.5,0.6 c-0.1,0.2-0.2,0.5-0.2,0.8c0,0.2,0,0.3,0,0.5h3.2L15.6,8.7L15.6,8.7z"/><path d="M15.6,3.6h-1V0h-0.9l-1.2,1.1l0.6,0.7c0.2-0.1,0.3-0.3,0.4-0.5l0,0v2.2h-0.9v0.9h3L15.6,3.6L15.6,3.6z"/></svg>',link:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 15.7" xml:space="preserve"><g><path d="M7.4,9.9l3.1,3.1c0.3,0.3,0.8,0.5,1.3,0.5c0.5,0,0.9-0.2,1.3-0.5c0,0,0,0,0,0c0.7-0.7,0.7-1.9,0-2.6L9.9,7.3 c0-0.1,0-0.2,0-0.3C9.9,7,10,7,10.1,7l2.2-0.2c0.1,0,0.1,0,0.2,0.1l2.1,2.1c0.4,0.4,0.7,0.8,0.9,1.3c0.2,0.5,0.3,1,0.3,1.5 c0,0.5-0.1,1-0.3,1.5c-0.8,2-3.2,3-5.2,2.2c-0.5-0.2-0.9-0.5-1.3-0.9l-2.1-2.1c-0.1,0-0.1-0.1-0.1-0.2L7,10.1C7,10,7,9.9,7.1,9.9 C7.2,9.8,7.3,9.9,7.4,9.9z M1.2,1.1C1.6,0.7,2,0.4,2.5,0.3c1-0.4,2.1-0.4,3.1,0C6,0.4,6.5,0.7,6.8,1.1L9,3.2C9,3.3,9.1,3.3,9,3.4 L8.8,5.6c0,0.1-0.1,0.2-0.2,0.2c-0.1,0.1-0.2,0.1-0.3,0L5.3,2.7C5,2.3,4.5,2.1,4,2.1c-0.5,0-0.9,0.2-1.3,0.5c0,0,0,0,0,0 C2,3.4,2,4.5,2.7,5.2l3.1,3.2c0.1,0.1,0.1,0.2,0,0.3c0,0.1-0.1,0.1-0.2,0.1L3.5,9C3.4,9,3.4,9,3.3,8.9L1.2,6.8c0,0,0,0,0,0 C-0.4,5.2-0.4,2.7,1.2,1.1L1.2,1.1z M14.3,6h-2.6c0,0,0,0,0,0c-0.1,0-0.2-0.1-0.2-0.2c0-0.1,0-0.2,0.1-0.3l2.5-0.7 c0.1,0,0.1,0,0.2,0c0.1,0,0.1,0.1,0.1,0.2l0.1,0.8c0,0.1,0,0.1-0.1,0.2C14.5,6,14.4,6,14.3,6L14.3,6z M10.2,4.1 c0,0.1-0.1,0.2-0.2,0.2l0,0c0,0,0,0,0,0C9.8,4.2,9.7,4.1,9.8,4L9.7,1.4c0-0.1,0-0.1,0.1-0.2c0.1,0,0.1,0,0.2,0h0.8 c0.1,0,0.1,0,0.2,0.1c0,0.1,0,0.1,0,0.2L10.2,4.1L10.2,4.1z M1.5,9.7h1.3h1.3c0.1,0,0.2,0.1,0.2,0.2c0,0.1,0,0.2-0.1,0.3l-2.5,0.6 H1.6c0,0-0.1,0-0.1,0c-0.1,0-0.1-0.1-0.1-0.2L1.2,9.9c0-0.1,0-0.1,0.1-0.2c0-0.1,0.1-0.1,0.2-0.1L1.5,9.7z M5.6,11.6 C5.6,11.6,5.6,11.6,5.6,11.6c0-0.1,0.1-0.2,0.3-0.1c0,0,0,0,0,0c0.1,0,0.2,0.1,0.2,0.2v2.6c0,0.1,0,0.1-0.1,0.2 c0,0-0.1,0.1-0.2,0.1L5,14.5c-0.1,0-0.1,0-0.2-0.1c0-0.1,0-0.1,0-0.2L5.6,11.6L5.6,11.6z"/></g></svg>',unlink:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 15.7" xml:space="preserve"><g><path d="M14.6,14.6c1.6-1.6,1.6-4.1,0-5.7l0,0l-3.1-3.1l-1.2,1.6l2.9,2.9c0.4,0.4,0.6,0.9,0.6,1.5c0,1.1-0.9,2.1-2.1,2.1l0,0 c-0.6,0-1.1-0.2-1.5-0.6l-0.4-0.4l-1.7,1l0.8,0.8C10.4,16.2,13,16.2,14.6,14.6L14.6,14.6L14.6,14.6z M3.6,6C3,5.9,2.6,5.5,2.3,5 S1.9,4,2.1,3.4C2.3,2.9,2.6,2.5,3,2.2C3.5,2,4.1,1.9,4.6,2l3.3,1.4l0.5-2L5.1,0.1C4-0.1,2.9,0,2,0.5C1.1,1.1,0.4,1.9,0.2,3 C-0.1,4,0,5.1,0.6,6C1.1,6.9,1.9,7.6,3,7.8l5.4,2l0.5-2L6.2,6.9L3.6,6z"/></g></svg>'},redo:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.59 14.18"><g><path d="M11.58,18.48a6.84,6.84,0,1,1,6.85-6.85s0,.26,0,.67a8,8,0,0,1-.22,1.44l.91-.55a.51.51,0,0,1,.36,0,.45.45,0,0,1,.29.22.47.47,0,0,1,.06.36.45.45,0,0,1-.22.29L17.42,15.3l-.12,0h-.25l-.12-.06-.09-.09-.06-.07,0-.06-.87-2.12a.43.43,0,0,1,0-.37.49.49,0,0,1,.27-.26.41.41,0,0,1,.36,0,.53.53,0,0,1,.27.26l.44,1.09a6.51,6.51,0,0,0,.24-1.36,4.58,4.58,0,0,0,0-.64,5.83,5.83,0,0,0-1.73-4.17,5.88,5.88,0,0,0-8.34,0,5.9,5.9,0,0,0,4.17,10.06.51.51,0,0,1,.33.15.48.48,0,0,1,0,.68.53.53,0,0,1-.33.12Z" transform="translate(-4.48 -4.54)"/></g></svg>',undo:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.59 14.18"><g><path d="M5,14a.43.43,0,0,1-.22-.29.46.46,0,0,1,.06-.36.43.43,0,0,1,.29-.22.56.56,0,0,1,.36,0l.91.55a8.27,8.27,0,0,1-.22-1.45,5.07,5.07,0,0,1,0-.67A6.85,6.85,0,1,1,13,18.47a.44.44,0,0,1-.33-.13.48.48,0,0,1,0-.68.51.51,0,0,1,.33-.15A5.89,5.89,0,0,0,17.15,7.45a5.88,5.88,0,0,0-8.33,0,5.84,5.84,0,0,0-1.73,4.17s0,.25,0,.65a6.49,6.49,0,0,0,.24,1.37l.44-1.09a.57.57,0,0,1,.27-.26.41.41,0,0,1,.36,0,.53.53,0,0,1,.27.26.43.43,0,0,1,0,.37L7.82,15l0,.09-.09.09-.1.07-.06,0H7.28l-.13,0-1.09-.63c-.65-.36-1-.57-1.1-.63Z" transform="translate(-4.49 -4.53)"/></g></svg>',bold:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11.76 15.75"><g><path d="M6.4,3.76V19.5h6.76a5.55,5.55,0,0,0,2-.32,4.93,4.93,0,0,0,1.52-1,4.27,4.27,0,0,0,1.48-3.34,3.87,3.87,0,0,0-.69-2.37,5.74,5.74,0,0,0-.71-.83,3.44,3.44,0,0,0-1.1-.65,3.6,3.6,0,0,0,1.58-1.36,3.66,3.66,0,0,0,.53-1.93,3.7,3.7,0,0,0-1.21-2.87,4.65,4.65,0,0,0-3.25-1.1H6.4Zm2.46,6.65V5.57h3.52a4.91,4.91,0,0,1,1.36.15,2.3,2.3,0,0,1,.85.45,2.06,2.06,0,0,1,.74,1.71,2.3,2.3,0,0,1-.78,1.92,2.54,2.54,0,0,1-.86.46,4.7,4.7,0,0,1-1.32.15H8.86Zm0,7.27V12.15H12.7a4.56,4.56,0,0,1,1.38.17,3.43,3.43,0,0,1,.95.49,2.29,2.29,0,0,1,.92,2,2.73,2.73,0,0,1-.83,2.1,2.66,2.66,0,0,1-.83.58,3.25,3.25,0,0,1-1.26.2H8.86Z" transform="translate(-6.4 -3.75)"/></g></svg>',underline:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 9.78 15.74"><g><path d="M14.64,3.76h2.52v7.72a4.51,4.51,0,0,1-.59,2.31,3.76,3.76,0,0,1-1.71,1.53,6.12,6.12,0,0,1-2.64.53,5,5,0,0,1-3.57-1.18,4.17,4.17,0,0,1-1.27-3.24V3.76H9.9v7.3a3,3,0,0,0,.55,2,2.3,2.3,0,0,0,1.83.65,2.26,2.26,0,0,0,1.8-.65,3.09,3.09,0,0,0,.55-2V3.76Zm2.52,13.31V19.5H7.39V17.08h9.77Z" transform="translate(-7.38 -3.76)"/></g></svg>',italic:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10.49 15.76"><g><path d="M17.16,3.79l.37,0-.06.38-.14.52A10,10,0,0,1,16.21,5a9.37,9.37,0,0,0-1,.32,6.68,6.68,0,0,0-.25.89c-.06.31-.11.59-.14.85-.3,1.36-.52,2.41-.68,3.14l-.61,3.18L13.1,15l-.43,2.4-.12.46a.62.62,0,0,0,0,.28c.44.1.85.17,1.23.22l.68.11a4.51,4.51,0,0,1-.08.6l-.09.42a.92.92,0,0,0-.23,0l-.43,0a1.37,1.37,0,0,1-.29,0c-.13,0-.63-.08-1.49-.16l-2,0c-.28,0-.87,0-1.78.12L7,19.5l.17-.88.8-.2A6.61,6.61,0,0,0,9.19,18,2.62,2.62,0,0,0,9.61,17l.28-1.41.58-2.75.12-.66c.05-.3.11-.58.17-.86s.12-.51.17-.69l.12-.48.12-.43.31-1.6.15-.65.31-1.91V5.14a3.86,3.86,0,0,0-1.48-.29l-.38,0,.2-1.06,3.24.14.75,0c.45,0,1.18,0,2.18-.09.23,0,.46,0,.71,0Z" transform="translate(-7.04 -3.76)"/></g></svg>',strike:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 14.9"><g><path d="M12.94,13a4.27,4.27,0,0,1,1.32.58,1.46,1.46,0,0,1,.55,1.2,1.87,1.87,0,0,1-.88,1.64,4.17,4.17,0,0,1-2.35.59,4.44,4.44,0,0,1-2.74-.71,2.72,2.72,0,0,1-1-2.17H5.57a4.56,4.56,0,0,0,1.55,3.7,7,7,0,0,0,4.47,1.23,6,6,0,0,0,4.07-1.3,4.24,4.24,0,0,0,1.52-3.37,4,4,0,0,0-.26-1.4h-4ZM6.37,10.24A3.27,3.27,0,0,1,6,8.68a4,4,0,0,1,1.48-3.3,5.92,5.92,0,0,1,3.88-1.21,5.58,5.58,0,0,1,3.91,1.24,4.36,4.36,0,0,1,1.45,3.17H14.44a2.12,2.12,0,0,0-.91-1.81,4.45,4.45,0,0,0-2.44-.55,3.69,3.69,0,0,0-2,.51A1.64,1.64,0,0,0,8.3,8.22a1.3,1.3,0,0,0,.48,1.11,7,7,0,0,0,2.1.78l.28.06.28.08H6.37Zm13.09.68a.73.73,0,0,1,.49.21.66.66,0,0,1,.2.48.64.64,0,0,1-.2.48.71.71,0,0,1-.49.19H5.1a.67.67,0,0,1-.49-.19.66.66,0,0,1-.2-.48.64.64,0,0,1,.2-.48.73.73,0,0,1,.49-.21H19.46Z" transform="translate(-4.41 -4.17)"/></g></svg>',subscript:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 14.61"><g><path d="M15.38,4.33H12.74L11.19,7c-.28.46-.51.87-.69,1.21L10.07,9h0l-.44-.8c-.22-.4-.45-.81-.71-1.23L7.34,4.33H4.68L8.26,10,4.4,16.08H7.1l1.69-2.83c.38-.63.72-1.22,1-1.78l.25-.46h0l.49.92c.24.45.48.89.74,1.32L13,16.08h2.61L11.84,10l1.77-2.84,1.77-2.85Zm4.77,13.75H17v-.15c0-.4.05-.64.16-.72a4.42,4.42,0,0,1,1.16-.31,3.3,3.3,0,0,0,1.54-.56A1.84,1.84,0,0,0,20.15,15a1.78,1.78,0,0,0-.44-1.41A2.8,2.8,0,0,0,18,13.25a2.71,2.71,0,0,0-1.69.37,1.83,1.83,0,0,0-.44,1.43v.23H17v-.23q0-.63.18-.78a1.62,1.62,0,0,1,.88-.15,1.59,1.59,0,0,1,.88.15q.18.15.18.75t-.18.75a3.58,3.58,0,0,1-1.18.33,3.33,3.33,0,0,0-1.52.51,1.57,1.57,0,0,0-.32,1.18v1.15h4.27v-.86Z" transform="translate(-4.4 -4.33)"/></g></svg>',superscript:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 15.42"><g><path d="M12,13.14l3.61-5.81H12.94L11.33,10c-.28.46-.51.88-.69,1.25l-.45.83h0l-.45-.85c-.22-.41-.45-.82-.71-1.24L7.4,7.33H4.68l3.66,5.81L4.4,19.33H7.14l1.74-2.87q.58-1,1-1.83l.25-.48h0l.51.94.75,1.37,1.72,2.87h2.67l-1.92-3.09c-1.12-1.8-1.76-2.83-1.92-3.1Zm4.84-4.41h0l0,.15h3.27v.86H15.77V8.58a1.66,1.66,0,0,1,.33-1.22,3.51,3.51,0,0,1,1.56-.51,3.68,3.68,0,0,0,1.21-.34c.13-.1.19-.36.19-.77S19,5.07,18.87,5A1.63,1.63,0,0,0,18,4.8a1.58,1.58,0,0,0-.91.17c-.13.11-.19.38-.19.8V6H15.78V5.76a1.87,1.87,0,0,1,.45-1.47A2.84,2.84,0,0,1,18,3.91a2.8,2.8,0,0,1,1.72.38,1.84,1.84,0,0,1,.45,1.44,1.91,1.91,0,0,1-.34,1.35,3.24,3.24,0,0,1-1.58.57A3.69,3.69,0,0,0,17,8c-.12.1-.17.35-.17.76Z" transform="translate(-4.4 -3.91)"/></g></svg>',erase:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.76"><g><path d="M13.69,17.2h6.46v1.31H8.56L4.41,14.37,14,4.75l6.06,6.06L16.89,14l-3.2,3.19Zm-4.61,0h2.77L14.09,15,9.88,10.75,6.25,14.38l1.41,1.41c.84.82,1.31,1.29,1.42,1.41Z" transform="translate(-4.41 -4.75)"/></g></svg>',indent:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 12.36"><g><path d="M4.68,14.45a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V9.1a.27.27,0,0,1,.08-.19.28.28,0,0,1,.2-.08.25.25,0,0,1,.19.07l2.54,2.54a.29.29,0,0,1,0,.4L4.88,14.36a.24.24,0,0,1-.2.09Zm15.19,1.12a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.25.25,0,0,1-.08-.19V15.84a.27.27,0,0,1,.27-.27H19.87Zm0-3.38a.27.27,0,0,1,.19.08.28.28,0,0,1,.08.21v1.68a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V12.48a.32.32,0,0,1,.08-.21.24.24,0,0,1,.19-.08h9.56Zm0-3.37a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.27-.27V9.1a.27.27,0,0,1,.27-.27h9.56Zm.2-3.29a.28.28,0,0,1,.08.2V7.41a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V5.73a.32.32,0,0,1,.08-.21.25.25,0,0,1,.19-.08H19.87a.28.28,0,0,1,.2.09Z" transform="translate(-4.41 -5.44)"/></g></svg>',outdent:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 12.36"><g><path d="M19.87,15.57a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.25.25,0,0,1-.08-.19V15.84a.27.27,0,0,1,.27-.27H19.87ZM7.5,14.45a.25.25,0,0,1-.2-.09L4.76,11.84a.29.29,0,0,1,0-.4L7.3,8.9a.29.29,0,0,1,.4,0,.31.31,0,0,1,.07.2v5.06a.32.32,0,0,1-.08.21.26.26,0,0,1-.19.08ZM19.87,8.82a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.27-.27V9.1a.27.27,0,0,1,.27-.27h9.56Zm0,3.37a.27.27,0,0,1,.19.08.28.28,0,0,1,.08.21v1.68a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V12.48a.32.32,0,0,1,.08-.21.24.24,0,0,1,.19-.08h9.56Zm.2-6.66a.28.28,0,0,1,.08.2V7.41a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V5.73a.32.32,0,0,1,.08-.21.25.25,0,0,1,.19-.08H19.87a.28.28,0,0,1,.2.09Z" transform="translate(-4.41 -5.44)"/></g></svg>',expansion:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M11.8,13.06l-5.1,5.1H9.51V19.5H4.41V14.4H5.75v2.81L8.3,14.66q2.25-2.23,2.55-2.55Zm8.35-9.3v5.1H18.81V6.05l-5.1,5.1-1-1,5.1-5.1H15.05V3.76Z" transform="translate(-4.41 -3.76)"/></g></svg>',reduction:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M14.91,10h2.87v1.38H12.55V6.12h1.38V9l5.24-5.24.48.49.49.48ZM6.77,11.92H12v5.23H10.62V14.26L5.37,19.5l-1-1L9.63,13.3H6.77Z" transform="translate(-4.4 -3.76)"/></g></svg>',code_view:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.73 11.8"><g><path d="M8.09,7.94a.76.76,0,0,1,.53.22.72.72,0,0,1,.21.52.76.76,0,0,1-.22.54L6.18,11.63l2.43,2.44a.69.69,0,0,1,.2.51.66.66,0,0,1-.21.51.75.75,0,0,1-.51.22.63.63,0,0,1-.51-.21h0L4.63,12.15a.7.7,0,0,1-.22-.53.67.67,0,0,1,.25-.55L7.57,8.16a.82.82,0,0,1,.52-.22Zm12.05,3.69a.7.7,0,0,1-.23.52L17,15.1h0a.66.66,0,0,1-.51.21.73.73,0,0,1-.51-.22.75.75,0,0,1-.22-.51.63.63,0,0,1,.21-.51l2.43-2.44L15.92,9.22a.73.73,0,0,1-.22-.53A.74.74,0,0,1,17,8.18h0l2.91,2.91a.67.67,0,0,1,.27.54Zm-5.9-5.9a.73.73,0,0,1,.61.32.71.71,0,0,1,.07.68L11,17a1,1,0,0,1-.22.32.6.6,0,0,1-.35.16.75.75,0,0,1-.69-.26.69.69,0,0,1-.12-.72L13.56,6.23a.75.75,0,0,1,.26-.35.74.74,0,0,1,.42-.15Z" transform="translate(-4.41 -5.73)"/></g></svg>',preview:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.65 15.66"><g><path d="M16.19,14.43l2.49,2.49a.73.73,0,0,1,.21.52.67.67,0,0,1-.22.51.7.7,0,0,1-.52.22.69.69,0,0,1-.51-.21l-2.49-2.48a5.17,5.17,0,0,1-1.34.69,4.64,4.64,0,0,1-1.48.24,4.78,4.78,0,1,1,0-9.56,4.79,4.79,0,0,1,1.84.36,4.9,4.9,0,0,1,1.56,1,4.77,4.77,0,0,1,.46,6.18ZM10,14a3.3,3.3,0,0,0,2.34.93A3.37,3.37,0,0,0,14.7,14a3.3,3.3,0,0,0-1.08-5.41,3.47,3.47,0,0,0-2.56,0A3,3,0,0,0,10,9.28,3.31,3.31,0,0,0,10,14ZM16,4a3.86,3.86,0,0,1,2.77,1.14A3.9,3.9,0,0,1,20,7.85v4a.77.77,0,0,1-.22.53.7.7,0,0,1-.52.21.72.72,0,0,1-.74-.74v-4a2.46,2.46,0,0,0-.72-1.73A2.37,2.37,0,0,0,16,5.45H8.53A2.42,2.42,0,0,0,6.08,7.89v7.52a2.41,2.41,0,0,0,.71,1.73,2.46,2.46,0,0,0,1.74.72h4.08a.73.73,0,0,1,0,1.46H8.53a3.85,3.85,0,0,1-2.78-1.14A3.93,3.93,0,0,1,4.6,15.4V7.87A3.94,3.94,0,0,1,5.76,5.09,3.88,3.88,0,0,1,8.54,4H16Z" transform="translate(-4.45 -3.8)"/></g></svg>',print:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16.05 16.04"><g><path d="M19.76,15.84a1.29,1.29,0,0,0,.39-.92V8.35A2.05,2.05,0,0,0,19.57,7a1.93,1.93,0,0,0-1.38-.57H6.37a1.95,1.95,0,0,0-2,2v6.56a1.23,1.23,0,0,0,.38.92,1.35,1.35,0,0,0,.93.38h2V14.9l-2,0V8.35a.67.67,0,0,1,.18-.47.62.62,0,0,1,.48-.19H18.18a.6.6,0,0,1,.46.19.66.66,0,0,1,.18.47V14.9h-2v1.32h2A1.35,1.35,0,0,0,19.76,15.84ZM17.52,7.69V5.06a1.31,1.31,0,0,0-.38-.92,1.34,1.34,0,0,0-.94-.38H8.34A1.3,1.3,0,0,0,7,5.06V7.69H8.34V5.06h7.87V7.69h1.31ZM8.34,12.93h7.87l0,5.26H8.34V12.93Zm7.87,5.26v0Zm.65,1.31a.6.6,0,0,0,.46-.19.72.72,0,0,0,.2-.47V12.29a.74.74,0,0,0-.2-.47.6.6,0,0,0-.46-.19H7.68a.6.6,0,0,0-.46.19.72.72,0,0,0-.2.47v6.55a.74.74,0,0,0,.2.47.6.6,0,0,0,.46.19h9.18ZM16.67,9.28a.7.7,0,0,0-.94,0,.63.63,0,0,0-.18.46.67.67,0,0,0,.18.47.68.68,0,0,0,.94,0,.66.66,0,0,0,.18-.47A.58.58,0,0,0,16.67,9.28Z" transform="translate(-4.25 -3.61)"/></g></svg>',template:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.27 15.64"><g><path d="M18.18,19.16a1,1,0,0,0,1-1V5.73a1,1,0,0,0-1-1h-2v1h2V18.19H6.37V5.73h2v-1h-2A.94.94,0,0,0,5.68,5a1,1,0,0,0-.29.7V18.18a.94.94,0,0,0,.29.69,1,1,0,0,0,.69.29H18.18ZM9.82,10.31h4.92a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.49.49,0,0,0-.15-.35.47.47,0,0,0-.35-.15H9.82a.49.49,0,0,0-.35.15.47.47,0,0,0-.15.35.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15Zm5.9,4.92H8.83a.49.49,0,0,0-.35.15.47.47,0,0,0-.15.35.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15h6.89a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.51.51,0,0,0-.5-.5ZM7.36,12.77a.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15h8.85a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.49.49,0,0,0-.15-.35.47.47,0,0,0-.35-.15H7.85a.49.49,0,0,0-.35.15.52.52,0,0,0-.14.35Z" transform="translate(-5.14 -3.77)"/><path d="M14.24,6.71a1,1,0,0,0,1-1,1,1,0,0,0-1-1,1,1,0,0,0-1-1h-2a.94.94,0,0,0-.69.28,1,1,0,0,0-.29.7A.94.94,0,0,0,9.62,5a.91.91,0,0,0-.29.69,1,1,0,0,0,.29.7,1,1,0,0,0,.69.29h3.93Z" transform="translate(-5.14 -3.77)"/></g></svg>',line_height:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.76 13.56"><g><path d="M4.4,4.88V8.26a2,2,0,0,0,.5.39s.1,0,.18-.12a.62.62,0,0,0,.17-.28c.06-.19.13-.44.21-.74s.14-.52.19-.66a.58.58,0,0,1,.21-.3,2.41,2.41,0,0,1,.63-.21,3.83,3.83,0,0,1,.88-.12,9.15,9.15,0,0,1,1.31.06.16.16,0,0,1,.11,0,.26.26,0,0,1,.06.14,4,4,0,0,1,0,.49v2l.05,3.77c0,1.41,0,2.68-.05,3.81a1.79,1.79,0,0,1-.11.49,10.68,10.68,0,0,1-1.4.45,1.12,1.12,0,0,0-.69.43v.31l0,.22.61,0c.85-.08,1.54-.12,2.06-.12a19.76,19.76,0,0,1,2.09.08,15.08,15.08,0,0,0,1.64.08,1.4,1.4,0,0,0,.29,0,1.58,1.58,0,0,0,0-.26l-.05-.43a2.26,2.26,0,0,0-.43-.17l-.77-.22-.15,0a2.55,2.55,0,0,1-.78-.28,2.56,2.56,0,0,1-.11-.75l0-1.29,0-3.15V7.53a10.51,10.51,0,0,1,.06-1.2,3.83,3.83,0,0,1,.6,0l1.88,0a2.18,2.18,0,0,1,.38,0,.45.45,0,0,1,.23.17.9.9,0,0,1,.05.25c0,.16.06.35.1.58a3.33,3.33,0,0,0,.14.55A6.39,6.39,0,0,0,15,9a2.91,2.91,0,0,0,.6-.15,2.77,2.77,0,0,0,0-.46l0-.51,0-2.95-.25,0-.38,0L15,4.94a.71.71,0,0,1-.18.15.45.45,0,0,1-.25.07l-.29,0H8.75l-.15,0H7.45a17,17,0,0,1-1.86,0L5.36,5l-.25-.13ZM19.75,16.14h-.69v-9h.69A.4.4,0,0,0,20.13,7c.06-.11,0-.24-.1-.39L18.92,5.15a.52.52,0,0,0-.86,0L17,6.58c-.12.15-.16.28-.1.39s.18.16.38.16h.69v9h-.69a.4.4,0,0,0-.38.16c-.06.11,0,.24.1.39l1.11,1.43a.52.52,0,0,0,.86,0L20,16.69c.12-.15.16-.28.1-.39a.4.4,0,0,0-.38-.16Z" transform="translate(-4.4 -4.86)"/></g></svg>',paragraph_style:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11.81 15.74"><g><path d="M18.18,3.76v2h-2V19.5h-2V5.73h-2V19.5h-2V11.63a3.94,3.94,0,0,1,0-7.87h7.87Z" transform="translate(-6.37 -3.76)"/></g></svg>',text_style:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13.76 15.74"><g><path d="M17.68,6.71a2.22,2.22,0,0,0,1.06-.22.74.74,0,0,0,.42-.7.73.73,0,0,0-.08-.33.67.67,0,0,0-.17-.22,1,1,0,0,0-.31-.15L18.26,5l-.45-.09A15.27,15.27,0,0,0,13.26,5V4.74c0-.66-.63-1-1.92-1-.24,0-.43.15-.59.46a4,4,0,0,0-.36,1.14h0v0a26.45,26.45,0,0,1-3.5.35A2,2,0,0,0,5.77,6a.84.84,0,0,0-.37.79,2.14,2.14,0,0,0,.41,1.29,1.23,1.23,0,0,0,1.05.63,16.62,16.62,0,0,0,3.29-.45l-.34,3.35c-.16,1.61-.29,2.9-.37,3.86s-.12,1.66-.12,2.09l0,.65a5.15,5.15,0,0,0,.05.6,1.28,1.28,0,0,0,.16.54.34.34,0,0,0,.28.18,1.16,1.16,0,0,0,.79-.46,3.66,3.66,0,0,0,.68-1,22.08,22.08,0,0,0,1-4.33q.49-3.1.78-6.15a24.69,24.69,0,0,1,4.62-.84Z" transform="translate(-5.4 -3.76)"/></g></svg>',save:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M18.53,19.5l.2-.05A1.78,1.78,0,0,0,20.13,18l0-.09V7.14a2,2,0,0,0-.28-.64A3.18,3.18,0,0,0,19.43,6c-.5-.52-1-1-1.55-1.54A2.59,2.59,0,0,0,17.37,4a1.83,1.83,0,0,0-.61-.25H6l-.21,0a1.78,1.78,0,0,0-1.4,1.49l0,.1V17.87a2.49,2.49,0,0,0,.09.37,1.79,1.79,0,0,0,1.44,1.23l.09,0Zm-6.25-.6H6.92a.61.61,0,0,1-.68-.48.78.78,0,0,1,0-.22V12.3a.62.62,0,0,1,.69-.68H17.64a.62.62,0,0,1,.69.69V18.2a.64.64,0,0,1-.71.69H12.28ZM12,9.81H8.15a.63.63,0,0,1-.72-.71v-4a.64.64,0,0,1,.72-.72h7.66a.64.64,0,0,1,.72.72v4a.65.65,0,0,1-.74.72ZM13.5,5V9.18h1.78V5Z" transform="translate(-4.41 -3.76)"/></g></svg>',blockquote:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 475.082 475.081"><g><path d="M164.45,219.27h-63.954c-7.614,0-14.087-2.664-19.417-7.994c-5.327-5.33-7.994-11.801-7.994-19.417v-9.132c0-20.177,7.139-37.401,21.416-51.678c14.276-14.272,31.503-21.411,51.678-21.411h18.271c4.948,0,9.229-1.809,12.847-5.424c3.616-3.617,5.424-7.898,5.424-12.847V54.819c0-4.948-1.809-9.233-5.424-12.85c-3.617-3.612-7.898-5.424-12.847-5.424h-18.271c-19.797,0-38.684,3.858-56.673,11.563c-17.987,7.71-33.545,18.132-46.68,31.267c-13.134,13.129-23.553,28.688-31.262,46.677C3.855,144.039,0,162.931,0,182.726v200.991c0,15.235,5.327,28.171,15.986,38.834c10.66,10.657,23.606,15.985,38.832,15.985h109.639c15.225,0,28.167-5.328,38.828-15.985c10.657-10.663,15.987-23.599,15.987-38.834V274.088c0-15.232-5.33-28.168-15.994-38.832C192.622,224.6,179.675,219.27,164.45,219.27z"/><path d="M459.103,235.256c-10.656-10.656-23.599-15.986-38.828-15.986h-63.953c-7.61,0-14.089-2.664-19.41-7.994c-5.332-5.33-7.994-11.801-7.994-19.417v-9.132c0-20.177,7.139-37.401,21.409-51.678c14.271-14.272,31.497-21.411,51.682-21.411h18.267c4.949,0,9.233-1.809,12.848-5.424c3.613-3.617,5.428-7.898,5.428-12.847V54.819c0-4.948-1.814-9.233-5.428-12.85c-3.614-3.612-7.898-5.424-12.848-5.424h-18.267c-19.808,0-38.691,3.858-56.685,11.563c-17.984,7.71-33.537,18.132-46.672,31.267c-13.135,13.129-23.559,28.688-31.265,46.677c-7.707,17.987-11.567,36.879-11.567,56.674v200.991c0,15.235,5.332,28.171,15.988,38.834c10.657,10.657,23.6,15.985,38.828,15.985h109.633c15.229,0,28.171-5.328,38.827-15.985c10.664-10.663,15.985-23.599,15.985-38.834V274.088C475.082,258.855,469.76,245.92,459.103,235.256z"/></g></svg>',arrow_down:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.73 8.67"><g><path d="M18.79,7.52a.8.8,0,0,1,.56-.23.82.82,0,0,1,.79.79.8.8,0,0,1-.23.56l-7.07,7.07a.79.79,0,0,1-.57.25.77.77,0,0,1-.57-.25h0L4.64,8.65a.8.8,0,0,1-.23-.57.82.82,0,0,1,.79-.79.8.8,0,0,1,.56.23L12.28,14l3.26-3.26,3.25-3.26Z" transform="translate(-4.41 -7.29)"/></g></svg>',align_justify:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.77"><g><path d="M4.41,4.74v2H20.15v-2H4.41Zm0,5.9H20.15v-2H4.41v2Zm0,3.94H20.15v-2H4.41v2Zm0,3.93h7.87v-2H4.41v2Z" transform="translate(-4.41 -4.74)"/></g></svg>',align_left:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.77"><g><path d="M4.41,4.74v2H20.15v-2H4.41Zm11.8,3.94H4.41v2H16.22v-2Zm-11.8,5.9H18.18v-2H4.41v2Zm0,3.93h9.84v-2H4.41v2Z" transform="translate(-4.41 -4.74)"/></g></svg>',align_right:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.77"><g><path d="M4.41,4.74v2H20.15v-2H4.41Zm3.93,5.9H20.15v-2H8.34v2Zm-2,3.94H20.14v-2H6.37v2Zm3.94,3.93h9.84v-2H10.31v2Z" transform="translate(-4.41 -4.74)"/></g></svg>',align_center:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.77"><g><path d="M4.41,4.74v2H20.15v-2H4.41Zm2,3.94v2H18.18v-2H6.37Zm-1,5.9H19.16v-2H5.39v2Zm2,3.93H17.2v-2H7.36v2Z" transform="translate(-4.41 -4.74)"/></g></svg>',font_color:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 14.61"><g><path d="M18.5,15.57,14.28,4.32h-3.4L6.65,15.57h3l.8-2.26h4.23l.8,2.26h3ZM14,11.07H11.14L12.54,7,13.25,9c.41,1.18.64,1.86.7,2ZM4.41,16.69v2.24H20.15V16.69H4.41Z" transform="translate(-4.41 -4.32)"/></g></svg>',highlight_color:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.66 15.74"><g><path d="M12.32,9.31,13.38,13H11.21l.52-1.83q.46-1.61.54-1.83ZM4.44,3.76H20.1V19.5H4.44V3.76ZM14.71,17.32h2.63L13.7,6H10.89L7.26,17.32H9.89l.63-2.24h3.55l.32,1.12c.18.65.29,1,.32,1.12Z" transform="translate(-4.44 -3.76)"/></g></svg>',list_bullets:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 12.37"><g><path d="M7.77,16.12a1.59,1.59,0,0,0-.49-1.18,1.62,1.62,0,0,0-1.19-.49,1.68,1.68,0,1,0,0,3.36,1.67,1.67,0,0,0,1.68-1.69Zm0-4.48A1.67,1.67,0,0,0,6.09,10,1.68,1.68,0,0,0,4.9,12.82a1.62,1.62,0,0,0,1.19.49,1.67,1.67,0,0,0,1.68-1.67Zm12.38,3.64a.27.27,0,0,0-.08-.19.28.28,0,0,0-.2-.09H9.19a.28.28,0,0,0-.2.08.29.29,0,0,0-.08.19V17a.27.27,0,0,0,.28.28H19.87a.27.27,0,0,0,.19-.08.24.24,0,0,0,.08-.2V15.28ZM7.77,7.13a1.63,1.63,0,0,0-.49-1.2,1.61,1.61,0,0,0-1.19-.49,1.61,1.61,0,0,0-1.19.49,1.71,1.71,0,0,0,0,2.4,1.62,1.62,0,0,0,1.19.49,1.61,1.61,0,0,0,1.19-.49,1.63,1.63,0,0,0,.49-1.2Zm12.38,3.66a.28.28,0,0,0-.08-.2.29.29,0,0,0-.19-.08H9.19a.27.27,0,0,0-.28.28v1.69a.27.27,0,0,0,.08.19.24.24,0,0,0,.2.08H19.87a.27.27,0,0,0,.19-.08.25.25,0,0,0,.08-.19V10.79Zm0-4.5a.27.27,0,0,0-.08-.19A.25.25,0,0,0,19.88,6H9.19A.28.28,0,0,0,9,6.1a.26.26,0,0,0-.08.19V8A.27.27,0,0,0,9,8.17a.24.24,0,0,0,.2.08H19.87a.27.27,0,0,0,.19-.08A.25.25,0,0,0,20.14,8V6.29Z" transform="translate(-4.41 -5.44)"/></g></svg>',list_number:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.69 15.74"><g><path d="M7.66,18a1.24,1.24,0,0,0-.26-.78,1.17,1.17,0,0,0-.72-.42l.85-1V15H4.58v1.34h.94v-.46l.85,0h0c-.11.11-.22.23-.32.35s-.23.27-.37.47L5.39,17l.23.51c.61-.05.92.11.92.49a.42.42,0,0,1-.18.37.79.79,0,0,1-.45.12A1.41,1.41,0,0,1,5,18.15l-.51.77A2.06,2.06,0,0,0,6,19.5a1.8,1.8,0,0,0,1.2-.41A1.38,1.38,0,0,0,7.66,18Zm0-5.54H6.75V13H5.63A.72.72,0,0,1,6,12.51a5.45,5.45,0,0,1,.66-.45,2.71,2.71,0,0,0,.67-.57,1.19,1.19,0,0,0,.31-.81,1.29,1.29,0,0,0-.45-1,1.86,1.86,0,0,0-2-.11,1.51,1.51,0,0,0-.62.7l.74.52A.87.87,0,0,1,6,10.28a.51.51,0,0,1,.35.12.42.42,0,0,1,.13.33.55.55,0,0,1-.21.4,3,3,0,0,1-.5.38c-.19.13-.39.27-.58.42a2,2,0,0,0-.5.6,1.63,1.63,0,0,0-.21.81,3.89,3.89,0,0,0,.05.48h3.2V12.44Zm12.45,2.82a.27.27,0,0,0-.08-.19.28.28,0,0,0-.21-.08H9.1a.32.32,0,0,0-.21.08.24.24,0,0,0-.08.2V17a.27.27,0,0,0,.08.19.3.3,0,0,0,.21.08H19.83a.32.32,0,0,0,.21-.08.25.25,0,0,0,.08-.19V15.26ZM7.69,7.32h-1V3.76H5.8L4.6,4.88l.63.68a1.85,1.85,0,0,0,.43-.48h0l0,2.24H4.74V8.2h3V7.32Zm12.43,3.42a.27.27,0,0,0-.08-.19.28.28,0,0,0-.21-.08H9.1a.32.32,0,0,0-.21.08.24.24,0,0,0-.08.2v1.71a.27.27,0,0,0,.08.19.3.3,0,0,0,.21.08H19.83a.32.32,0,0,0,.21-.08.25.25,0,0,0,.08-.19V10.74Zm0-4.52A.27.27,0,0,0,20,6,.28.28,0,0,0,19.83,6H9.1A.32.32,0,0,0,8.89,6a.24.24,0,0,0-.08.19V7.93a.27.27,0,0,0,.08.19.32.32,0,0,0,.21.08H19.83A.32.32,0,0,0,20,8.12a.26.26,0,0,0,.08-.2V6.22Z" transform="translate(-4.43 -3.76)"/></g></svg>',table:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M4.41,8.05V3.76H8.7V8.05H4.41Zm5.71,0V3.76h4.3V8.05h-4.3Zm5.74-4.29h4.29V8.05H15.86V3.76Zm-11.45,10V9.48H8.7v4.3H4.41Zm5.71,0V9.48h4.3v4.3h-4.3Zm5.74,0V9.48h4.29v4.3H15.86ZM4.41,19.5V15.21H8.7V19.5H4.41Zm5.71,0V15.21h4.3V19.5h-4.3Zm5.74,0V15.21h4.29V19.5H15.86Z" transform="translate(-4.41 -3.76)"/></g></svg>',horizontal_rule:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 2.24"><g><path d="M20.15,12.75V10.51H4.41v2.24H20.15Z" transform="translate(-4.41 -10.51)"/></g></svg>',show_blocks:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.66 15.67"><g><path d="M19.72,5.58a1.64,1.64,0,0,0-1.64-1.64H6.23a1.62,1.62,0,0,0-1.16.48,1.63,1.63,0,0,0-.48,1.16V9.63a1.6,1.6,0,0,0,.48,1.16,1.62,1.62,0,0,0,1.16.47H18.09a1.67,1.67,0,0,0,1.16-.47,1.62,1.62,0,0,0,.48-1.16V5.58Zm-.94,4.05a.68.68,0,0,1-.7.7H6.23a.66.66,0,0,1-.48-.2.74.74,0,0,1-.21-.5V5.58a.66.66,0,0,1,.2-.48.71.71,0,0,1,.48-.21H18.08a.74.74,0,0,1,.5.21.66.66,0,0,1,.2.48ZM6.48,7.72a.21.21,0,0,0,.17-.07.22.22,0,0,0,.07-.17V7.06a1.27,1.27,0,0,1,.11-.52.37.37,0,0,1,.36-.23H8.77A.25.25,0,0,0,9,6.17a.19.19,0,0,0,0-.23.27.27,0,0,0-.2-.12H7.19a.88.88,0,0,0-.72.39,1.51,1.51,0,0,0-.23.85v.42a.24.24,0,0,0,.24.24Zm-.19.81a.21.21,0,0,0,.17-.07.26.26,0,0,0,.07-.17.24.24,0,0,0-.24-.24.2.2,0,0,0-.16.09.2.2,0,0,0-.07.16.22.22,0,0,0,.07.17.23.23,0,0,0,.16.06Zm8.46,5.1a1.63,1.63,0,0,0-.47-1.16A1.61,1.61,0,0,0,13.12,12H6.23a1.6,1.6,0,0,0-1.16.46,1.62,1.62,0,0,0-.48,1.16v4.05a1.64,1.64,0,0,0,1.64,1.64h6.89a1.6,1.6,0,0,0,1.16-.48,1.62,1.62,0,0,0,.47-1.16Zm-.94,4a.7.7,0,0,1-.2.49.65.65,0,0,1-.5.2H6.23a.66.66,0,0,1-.48-.2.75.75,0,0,1-.21-.49v-4a.74.74,0,0,1,.21-.5.66.66,0,0,1,.48-.2h6.89a.68.68,0,0,1,.7.7v4Zm6.15,0v-4a1.6,1.6,0,0,0-.48-1.16A1.67,1.67,0,0,0,18.32,12H17.1a1.63,1.63,0,0,0-1.16.47,1.61,1.61,0,0,0-.47,1.16v4a1.67,1.67,0,0,0,.47,1.16,1.62,1.62,0,0,0,1.16.48h1.22A1.64,1.64,0,0,0,20,17.68Zm-.94-4v4a.75.75,0,0,1-.21.49.62.62,0,0,1-.48.2H17.11a.69.69,0,0,1-.5-.2.7.7,0,0,1-.2-.49v-4a.68.68,0,0,1,.7-.7h1.22a.66.66,0,0,1,.48.2.72.72,0,0,1,.21.5Z" transform="translate(-4.44 -3.79)"/></g></svg>',cancel:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M14.15,11.63l5.61,5.61a1.29,1.29,0,0,1,.38.93,1.27,1.27,0,0,1-.4.93,1.25,1.25,0,0,1-.92.4,1.31,1.31,0,0,1-.94-.4l-5.61-5.61L6.67,19.1a1.31,1.31,0,0,1-.94.4,1.24,1.24,0,0,1-.92-.4,1.27,1.27,0,0,1-.4-.93,1.33,1.33,0,0,1,.38-.93l5.61-5.63L4.79,6a1.26,1.26,0,0,1-.38-.93,1.22,1.22,0,0,1,.4-.92,1.28,1.28,0,0,1,.92-.39,1.38,1.38,0,0,1,.94.38l5.61,5.61,5.61-5.61a1.33,1.33,0,0,1,.94-.38,1.26,1.26,0,0,1,.92.39,1.24,1.24,0,0,1,.4.92,1.29,1.29,0,0,1-.39.93L17,8.81l-2.8,2.82Z" transform="translate(-4.41 -3.76)"/></g></svg>',image:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 15.77"><g><path d="M8.77,8.72a.88.88,0,0,1-.61-.27.82.82,0,0,1-.25-.61.89.89,0,0,1,.25-.62A.82.82,0,0,1,8.77,7a.81.81,0,0,1,.61.25.83.83,0,0,1,.27.62.81.81,0,0,1-.25.61.91.91,0,0,1-.63.27Zm9.62-5a1.74,1.74,0,0,1,1.76,1.76V17.76a1.74,1.74,0,0,1-1.76,1.76H6.16A1.74,1.74,0,0,1,4.4,17.76V5.51A1.74,1.74,0,0,1,6.16,3.75H18.39Zm0,1.75H6.16v8L8.53,11.8a.94.94,0,0,1,.54-.17.86.86,0,0,1,.54.2L11.09,13l3.64-4.55a.78.78,0,0,1,.34-.25.85.85,0,0,1,.42-.07.89.89,0,0,1,.39.12.78.78,0,0,1,.28.29l2.24,3.67V5.51Zm0,12.24V15.6L15.3,10.53,11.89,14.8a.89.89,0,0,1-.59.32.82.82,0,0,1-.64-.18L9,13.62,6.16,15.74v2Z" transform="translate(-4.4 -3.75)"/></g></svg>',video:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 14.55"><g><path d="M20.15,10.26V18.9l-3.94-1.57v1.2H4.41V10.66H16.22v1.23l2-.81,2-.82ZM14.64,17h0V12.54h0v-.31H6V17h8.67Zm3.94-.37v-4l-2.37,1v2l1.18.48,1.19.48ZM7.94,9.86A2.77,2.77,0,0,1,5.19,7.11a2.76,2.76,0,0,1,5.51,0A2.78,2.78,0,0,1,7.94,9.86Zm0-3.93a1.21,1.21,0,0,0-.83.35,1.15,1.15,0,0,0-.34.84A1.09,1.09,0,0,0,7.11,8,1.15,1.15,0,0,0,8,8.28,1.13,1.13,0,0,0,9.11,7.12,1.16,1.16,0,0,0,7.94,5.93Zm5.9,3.93a2.34,2.34,0,0,1-1.67-.68,2.3,2.3,0,0,1-.68-1.67,2.35,2.35,0,0,1,4-1.67,2.37,2.37,0,0,1,0,3.34,2.33,2.33,0,0,1-1.68.68Zm0-3.14a.75.75,0,1,0,.55.22.73.73,0,0,0-.55-.22Z" transform="translate(-4.41 -4.35)"/></g></svg>',link:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.72"><g><path d="M13.05,13.63a.24.24,0,0,1,.15.22L13.42,16a.19.19,0,0,1-.08.18l-2.12,2.14a4.08,4.08,0,0,1-1.29.85A4,4,0,0,1,4.71,17a3.92,3.92,0,0,1-.3-1.52A4,4,0,0,1,4.71,14a3.91,3.91,0,0,1,.87-1.3L7.7,10.56a.25.25,0,0,1,.2-.06l2.17.22a.21.21,0,0,1,.19.15.24.24,0,0,1,0,.25L7.12,14.23a1.81,1.81,0,0,0,0,2.58,1.78,1.78,0,0,0,1.29.52,1.74,1.74,0,0,0,1.28-.52L12.8,13.7a.24.24,0,0,1,.25-.07ZM19,4.92a4,4,0,0,1,0,5.66L16.86,12.7a.25.25,0,0,1-.17.08l-2.2-.23a.21.21,0,0,1-.19-.15.22.22,0,0,1,0-.25L17.44,9a1.81,1.81,0,0,0,0-2.58,1.78,1.78,0,0,0-1.29-.52,1.74,1.74,0,0,0-1.28.52L11.76,9.57a.21.21,0,0,1-.25,0,.24.24,0,0,1-.16-.21l-.22-2.17a.19.19,0,0,1,.08-.18l2.12-2.14a4.08,4.08,0,0,1,1.29-.85,4.05,4.05,0,0,1,3.06,0,3.85,3.85,0,0,1,1.3.85ZM5.84,9.82a.25.25,0,0,1-.18-.08.19.19,0,0,1-.07-.19l.11-.77a.2.2,0,0,1,.11-.17.24.24,0,0,1,.2,0l2.5.72a.25.25,0,0,1,.15.27.22.22,0,0,1-.23.21l-2.59,0Zm4.12-2-.73-2.5a.27.27,0,0,1,0-.2A.21.21,0,0,1,9.41,5L10.19,5a.25.25,0,0,1,.19,0,.23.23,0,0,1,.08.18l-.05,2.61a.2.2,0,0,1-.19.23h0A.22.22,0,0,1,10,7.85Zm8.76,5.58a.25.25,0,0,1,.18.08.23.23,0,0,1,.06.2l-.11.77a.25.25,0,0,1-.11.17.21.21,0,0,1-.12,0l-.08,0L16,14a.25.25,0,0,1-.15-.27.22.22,0,0,1,.22-.21l1.29,0,1.33,0Zm-4.12,2,.74,2.51a.28.28,0,0,1,0,.2.23.23,0,0,1-.18.11l-.8.11a.23.23,0,0,1-.17-.07.25.25,0,0,1-.08-.18l0-2.61a.22.22,0,0,1,.22-.22.21.21,0,0,1,.26.15Z" transform="translate(-4.41 -3.77)"/></g></svg>',math:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11.81 15.73"><g><path d="M17.19,5.73a1,1,0,0,0,.71-.29,1,1,0,0,0,.28-.7,1,1,0,0,0-1-1H7.35a1,1,0,0,0-1,1,.77.77,0,0,0,.13.47h0l4.58,6.43L6.68,17.81a1.25,1.25,0,0,0-.29.71.94.94,0,0,0,.28.7.92.92,0,0,0,.69.28H17.2a1,1,0,0,0,.71-.28,1,1,0,0,0,0-1.39.92.92,0,0,0-.71-.29H9.26l3.87-5.43a.86.86,0,0,0,0-.95L9.26,5.73h7.93Z" transform="translate(-6.38 -3.77)"/></g></svg>',unlink:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.72"><g><path d="M19,18.32a4,4,0,0,0,0-5.68L15.85,9.5l-1.17,1.55L17.57,14a2,2,0,0,1,.61,1.47,2.08,2.08,0,0,1-2.09,2.09,2,2,0,0,1-1.47-.61l-.38-.37-1.74,1,.8.78a4,4,0,0,0,5.68,0ZM8,9.77a2,2,0,0,1-1.27-1,1.89,1.89,0,0,1-.21-1.57A2.1,2.1,0,0,1,7.45,6,2,2,0,0,1,9,5.76L12.27,7.2l.49-2L9.48,3.9a4,4,0,0,0-3.06.41A3.82,3.82,0,0,0,4.56,6.73a3.8,3.8,0,0,0,.4,3A3.78,3.78,0,0,0,7.39,11.6l5.38,2,.49-2-2.64-.94L8,9.77Z" transform="translate(-4.41 -3.76)"/></g></svg>',table_header:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 15.74"><g><path d="M17,19.5v-.78H15.5v.78H17Zm-3,0v-.78H12.5v.78H14Zm-3,0v-.78H9.53v.78H11Zm-3,0v-.78H6.53v.78H8Zm10.55,0a1.73,1.73,0,0,0,.85-.35,1.67,1.67,0,0,0,.56-.76l-.71-.31a1.21,1.21,0,0,1-.35.4,1.34,1.34,0,0,1-.53.23l.08.38c.06.24.09.38.1.41Zm-13.7-.63.55-.55A.77.77,0,0,1,5.25,18a1.31,1.31,0,0,1-.06-.38v-.38H4.41v.38a2,2,0,0,0,.12.68,1.6,1.6,0,0,0,.35.57Zm15.27-2.12V15.26h-.78v1.49h.78Zm-15-1V14.23H4.41v1.49h.78Zm15-2V12.26h-.78v1.49h.78Zm-15-1V11.22H4.41v1.51h.78Zm15-2V9.26h-.78v1.51h.78Zm-15-1V8.17H4.41V9.74h.78Zm15-2V6.28h-.78V7.77h.78Zm-15-1.11V5.33L4.48,5.1a.77.77,0,0,0-.07.27,2.72,2.72,0,0,0,0,.28v1h.79ZM19.21,5l.63-.4A1.62,1.62,0,0,0,19.16,4a1.94,1.94,0,0,0-.91-.22v.78a1.31,1.31,0,0,1,.56.12.88.88,0,0,1,.4.36ZM6,4.54H7.78V3.76H6a.82.82,0,0,0-.28.06l.12.35c.07.21.1.33.11.36Zm10.8,0V3.76H15.28v.78h1.49Zm-3,0V3.76H12.28v.78h1.49Zm-3,0V3.76H9.28v.78h1.51ZM6,10.84h12.6V6.91H6Z" transform="translate(-4.4 -3.76)"/></g></svg>',merge_cell:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.76 15.74"><g><path d="M18.92,13.5h1.23v4.15A1.84,1.84,0,0,1,18.3,19.5H14V18.27H18.3a.6.6,0,0,0,.44-.18.59.59,0,0,0,.18-.44V13.5ZM18.3,3.76a1.84,1.84,0,0,1,1.85,1.85V9.82H18.92V5.6a.6.6,0,0,0-.18-.44A.59.59,0,0,0,18.3,5H14V3.76H18.3Zm1.85,8.51H15.6L17.26,14l-.86.86-3.14-3.17L16.4,8.51l.86.86L15.62,11h4.54v1.24Zm-13.9,6h4.27V19.5H6.25A1.84,1.84,0,0,1,4.4,17.65V13.5H5.63v4.15a.61.61,0,0,0,.62.62Zm0-14.51h4.27V5H6.25a.6.6,0,0,0-.44.18.57.57,0,0,0-.17.43V9.81H4.41V5.6A1.83,1.83,0,0,1,6.25,3.76Zm5,7.9L8.15,14.83,7.3,14,9,12.27H4.41V11H8.94L7.3,9.38,7.73,9l.43-.43Z" transform="translate(-4.4 -3.76)"/></g></svg>',split_cell:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 15.74"><g><path d="M10.37,12.25H6.74L8.4,13.94l-.87.86L4.41,11.63,7.53,8.5l.87.86L6.74,11h3.62v1.23Zm9.78-.61L17,14.81,16.13,14l1.66-1.69H14.16V11h3.63L16.13,9.37l.43-.43A5.24,5.24,0,0,1,17,8.51ZM18.9,8.22V5.61a.57.57,0,0,0-.18-.43A.65.65,0,0,0,18.29,5H12.88V18.28h5.41a.7.7,0,0,0,.44-.18.57.57,0,0,0,.18-.43V15h1.23v2.64a1.84,1.84,0,0,1-1.85,1.83h-12A1.84,1.84,0,0,1,4.94,19a1.81,1.81,0,0,1-.54-1.29V15H5.63v2.64a.57.57,0,0,0,.18.43.67.67,0,0,0,.44.18h5.41V5H6.25a.7.7,0,0,0-.44.18.56.56,0,0,0-.17.43V8.22H4.41V5.61A1.8,1.8,0,0,1,5,4.31a1.91,1.91,0,0,1,1.31-.55h12a1.89,1.89,0,0,1,1.31.55,1.8,1.8,0,0,1,.54,1.3V8.23H18.9Z" transform="translate(-4.4 -3.76)"/></g></svg>',caption:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.79"><g><path d="M4.41,18.52H20.15v-2H4.41ZM20,4.73H18.07V6h.65v.65H20V4.73ZM17,6V4.73H14.55V6H17ZM13.49,6V4.73H11V6h2.47ZM10,6V4.73H7.5V6H10ZM5.79,6h.65V4.73H4.5V6.67H5.8V6ZM4.5,11.34H5.79V8.48H4.5ZM6.44,13.8H5.79v-.65H4.5v1.94H6.44ZM17,15.09V13.8H14.55v1.29H17Zm-3.52,0V13.8H11v1.29h2.47Zm-3.53,0V13.8H7.5v1.29H10ZM20,13.16H18.72v.65h-.65V15.1H20Zm-1.29-1.82H20V8.48h-1.3v2.86Z" transform="translate(-4.41 -4.73)"/></g></svg>',edit:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.73"><g><path d="M7.51,5.68h6l1.52-1.57H6.94a2.4,2.4,0,0,0-1.79.82A2.8,2.8,0,0,0,4.41,6.8V17a2.55,2.55,0,0,0,.75,1.8A2.48,2.48,0,0,0,7,19.5H17.22a2.57,2.57,0,0,0,1.83-.74,2.52,2.52,0,0,0,.77-1.8V8.83l-1.58,1.54v6a1.54,1.54,0,0,1-1.53,1.53H7.51A1.54,1.54,0,0,1,6,16.41V7.21A1.52,1.52,0,0,1,7.51,5.68Zm5.63,7.47h0L10.7,10.74l-1,3.38,1.71-.48,1.7-.49Zm.34-.34h0l5.36-5.32L16.4,5.08,11,10.4l1.23,1.21,1.21,1.2ZM19.93,6.4a.82.82,0,0,0,.22-.48A.54.54,0,0,0,20,5.47L18.45,4A.67.67,0,0,0,18,3.77a.7.7,0,0,0-.48.21l-.74.72,2.44,2.43.37-.37.35-.36Z" transform="translate(-4.41 -3.77)"/></g></svg>',delete:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.73 15.74"><g><path d="M19.16,6.71a.94.94,0,0,0,.69-.28.91.91,0,0,0,.29-.68A1,1,0,0,0,19.85,5a.93.93,0,0,0-.69-.3H14.24A.94.94,0,0,0,14,4.06a.92.92,0,0,0-.7-.3h-2a1,1,0,0,0-.7.3.93.93,0,0,0-.28.68H5.39A.92.92,0,0,0,4.7,5a1,1,0,0,0-.29.71.91.91,0,0,0,.29.68,1,1,0,0,0,.69.28H19.16Zm-12.79,1a1,1,0,0,0-.7.3.94.94,0,0,0-.28.69v8.85A1.88,1.88,0,0,0,6,18.93a1.9,1.9,0,0,0,1.39.57H17.2a1.87,1.87,0,0,0,1.39-.58,1.91,1.91,0,0,0,.58-1.39V8.68A1,1,0,0,0,18.88,8a.89.89,0,0,0-.7-.29,1,1,0,0,0-.69.29.92.92,0,0,0-.29.68v7.87a1,1,0,0,1-1,1H8.34a.94.94,0,0,1-.69-.28,1,1,0,0,1-.29-.71V8.68a1,1,0,0,0-1-1Z" transform="translate(-4.41 -3.76)"/></g></svg>',modify:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 15.74"><g><path d="M19.79,15.23a.66.66,0,0,1,.3.38.59.59,0,0,1-.07.48l-.8,1.38a.66.66,0,0,1-.38.3.59.59,0,0,1-.48-.07l-.68-.38a4.55,4.55,0,0,1-1.34.77v.78a.64.64,0,0,1-.18.45.61.61,0,0,1-.45.18h-1.6a.6.6,0,0,1-.44-.18.66.66,0,0,1-.19-.45v-.78a4.36,4.36,0,0,1-1.32-.77l-.69.38a.58.58,0,0,1-.48.07.66.66,0,0,1-.38-.3l-.38-.66h.83a1.77,1.77,0,0,0,1.23-.52,1.72,1.72,0,0,0,.51-1.23v-.18a3,3,0,0,0,.49-.28l.15.09a1.83,1.83,0,0,0,.88.23A1.75,1.75,0,0,0,15.84,14l.88-1.52a1.7,1.7,0,0,0,.17-1.32,1.66,1.66,0,0,0-.3-.61,1.84,1.84,0,0,0-.51-.45l-.15-.09,0-.29,0-.28.15-.09a1,1,0,0,0,.26-.18l0,.06v.78a4.34,4.34,0,0,1,1.34.77l.68-.38a.68.68,0,0,1,.48-.06.64.64,0,0,1,.38.29l.8,1.38a.58.58,0,0,1,.07.48.63.63,0,0,1-.3.38l-.68.4a3.84,3.84,0,0,1,.08.76,4.13,4.13,0,0,1-.08.78l.34.18.32.2ZM10.17,7.86a1.9,1.9,0,0,1,1.35,3.23,1.85,1.85,0,0,1-1.35.55A1.9,1.9,0,0,1,8.83,8.41a1.92,1.92,0,0,1,1.34-.55Zm1.58,7.2a.73.73,0,0,1-.21.49.66.66,0,0,1-.48.2H9.29a.68.68,0,0,1-.69-.69V14.2a4.75,4.75,0,0,1-1.48-.86l-.75.45a.73.73,0,0,1-.7,0,.63.63,0,0,1-.25-.26L4.54,12a.67.67,0,0,1-.08-.53.71.71,0,0,1,.32-.42l.75-.43a4.8,4.8,0,0,1-.08-.85,4.71,4.71,0,0,1,.08-.85l-.74-.44a.71.71,0,0,1-.32-.42.65.65,0,0,1,.07-.54L5.42,6a.66.66,0,0,1,.42-.32l.18,0a.73.73,0,0,1,.35.09l.75.43A4.68,4.68,0,0,1,8.6,5.33V4.45a.68.68,0,0,1,.69-.69h1.77a.64.64,0,0,1,.48.2.73.73,0,0,1,.21.49v.88a4.75,4.75,0,0,1,1.48.85L14,5.75a.67.67,0,0,1,.34-.09l.18,0a.71.71,0,0,1,.42.32l.89,1.54a.67.67,0,0,1,.06.52.73.73,0,0,1-.32.43l-.75.42a4.8,4.8,0,0,1,.08.85,4.71,4.71,0,0,1-.08.85l.75.43a.66.66,0,0,1,.32.42.73.73,0,0,1-.06.54l-.89,1.52a.69.69,0,0,1-.25.26.7.7,0,0,1-.35.09.64.64,0,0,1-.34-.09l-.75-.45a4.87,4.87,0,0,1-1.48.86v.87ZM7.23,9.75a3,3,0,0,0,.86,2.08,2.94,2.94,0,1,0,4.16-4.16,3,3,0,0,0-2.08-.85A2.94,2.94,0,0,0,7.23,9.75Z" transform="translate(-4.44 -3.76)"/></g></svg>',revert:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.76 14.69"><g><path d="M18.26,15V12.3l1.89-2V15a2.58,2.58,0,0,1-.24,1c-.2.58-.75.92-1.65,1H7.56v2L4.41,15.63,7.56,13v2h10.7ZM6.3,8.28V11L4.41,13V8.28a2.58,2.58,0,0,1,.24-1c.2-.58.75-.92,1.65-1H17v-2l3.15,3.34L17,10.3v-2H6.3Z" transform="translate(-4.4 -4.28)"/></g></svg>',auto_size:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M6.71,17.19,6.89,16l1.21-.15A6,6,0,0,1,6.81,13.9a5.78,5.78,0,0,1-.45-2.27A6,6,0,0,1,8.1,7.45a5.83,5.83,0,0,1,4.17-1.73l1-1-1-1A7.89,7.89,0,0,0,5,14.64a7.73,7.73,0,0,0,1.71,2.55Zm5.57,2.31h0A7.86,7.86,0,0,0,17.85,6.07L17.67,7.3l-1.21.15a5.9,5.9,0,0,1,1.29,1.92,5.81,5.81,0,0,1,.45,2.26,5.91,5.91,0,0,1-5.9,5.9l-1,1,.49.49.47.5Z" transform="translate(-4.41 -3.76)"/></g></svg>',insert_row_below:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M15.7,1.3c-0.1-0.1-0.1-0.2-0.2-0.2L15.3,1H0.4L0.3,1.1c0,0-0.1,0.1-0.1,0.1c0,0-0.1,0.1-0.1,0.1L0,1.4v7.7l0.1,0.1c0,0.1,0.1,0.1,0.2,0.2l0.1,0.1h2.3V9.3l0.1-0.5L3,8.5l0.1-0.2c-0.1,0-0.2,0-0.3,0H1.2v-6h13.3v6h-1.6c-0.1,0-0.2,0-0.3,0l0.1,0.2l0.2,0.4C12.9,9,13,9.2,13,9.3v0.1h2.3l0.2-0.1c0.1,0,0.1-0.1,0.2-0.2l0.1-0.1V1.4L15.7,1.3z"/><path d="M10.5,7.5C9.9,7.1,9.3,6.8,8.6,6.7c-0.2,0-0.5-0.1-0.7,0c-0.2,0-0.5,0-0.7,0C6.6,6.7,6.1,6.9,5.6,7.3C5.2,7.6,4.7,8,4.4,8.4C4.3,8.6,4.2,8.8,4.2,8.9C4.1,9.1,4,9.3,3.9,9.4C3.9,9.6,3.8,9.7,3.8,9.9c0,0.2-0.1,0.3-0.1,0.5v-0.1c-0.1,0.8,0.1,1.6,0.5,2.4c0.4,0.7,1,1.3,1.7,1.7c0.3,0.2,0.6,0.3,0.9,0.3c0.3,0.1,0.7,0.1,1,0.1c0.3,0,0.7,0,1-0.1c0.3-0.1,0.6-0.2,0.9-0.3c0.5-0.3,0.9-0.6,1.3-1c0.3-0.4,0.6-0.8,0.8-1.3c0.1-0.4,0.2-0.9,0.2-1.4c0-0.5-0.1-1-0.3-1.4C11.5,8.6,11.1,8,10.5,7.5z M10.1,11.3H8.5v1.6H8H7.9H7.3v0v-0.1v-1.4H5.7v-0.4v-0.2v-0.6h0h1.5V8.5h1.2v1.6h1.6V11.3z"/></g></svg>',insert_row_above:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M0.1,14.5c0.1,0.1,0.1,0.2,0.2,0.2l0.1,0.1h14.9l0.1-0.1c0,0,0.1-0.1,0.1-0.1c0,0,0.1-0.1,0.1-0.1l0.1-0.1V6.7l-0.1-0.1c0-0.1-0.1-0.1-0.2-0.2l-0.1-0.1h-2.3v0.1l-0.1,0.5l-0.2,0.4l-0.1,0.2c0.1,0,0.2,0,0.3,0h1.6v6H1.3v-6h1.6c0.1,0,0.2,0,0.3,0L3.1,7.3L2.9,6.9C2.8,6.8,2.8,6.6,2.7,6.5V6.3H0.4L0.3,6.4c-0.1,0-0.1,0.1-0.2,0.2L0,6.7v7.7L0.1,14.5z"/><path d="M5.3,8.3c0.6,0.5,1.2,0.8,1.9,0.9c0.2,0,0.5,0.1,0.7,0c0.2,0,0.5,0,0.7,0c0.6-0.1,1.1-0.3,1.6-0.6c0.5-0.3,0.9-0.7,1.2-1.2c0.1-0.2,0.2-0.3,0.3-0.5c0.1-0.2,0.2-0.4,0.2-0.5c0.1-0.1,0.1-0.3,0.1-0.4C12,5.8,12,5.6,12,5.4v0.1c0.1-0.8-0.1-1.6-0.5-2.4c-0.4-0.7-1-1.3-1.7-1.7C9.5,1.3,9.2,1.2,8.9,1.1C8.5,1,8.2,1,7.9,1c-0.3,0-0.7,0-1,0.1C6.6,1.2,6.3,1.3,6,1.4C5.5,1.7,5.1,2,4.7,2.4C4.4,2.8,4.1,3.3,3.9,3.8C3.8,4.2,3.7,4.7,3.7,5.2c0,0.5,0.1,1,0.3,1.4C4.3,7.2,4.7,7.8,5.3,8.3z M5.7,4.5h1.6V2.9h0.5h0.1h0.6v0v0.1v1.4H10v0.4v0.2v0.6h0H8.5v1.6H7.3V5.7H5.7V4.5z"/></g></svg>',insert_column_left:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M14.5,15.7c0.1-0.1,0.2-0.1,0.2-0.2l0.1-0.1V0.4l-0.1-0.1c0,0-0.1-0.1-0.1-0.1c0,0-0.1-0.1-0.1-0.1L14.4,0H6.7L6.6,0.1c-0.1,0-0.1,0.1-0.2,0.2L6.3,0.4v2.3h0.1l0.5,0.1L7.3,3l0.2,0.1c0-0.1,0-0.2,0-0.3V1.2h6v13.3h-6v-1.6c0-0.1,0-0.2,0-0.3l-0.2,0.1l-0.4,0.2C6.7,12.9,6.6,13,6.4,13H6.3v2.3l0.1,0.2c0,0.1,0.1,0.1,0.2,0.2l0.1,0.1h7.7L14.5,15.7z"/><path d="M8.3,10.5C8.7,10,9,9.3,9.1,8.6c0-0.2,0.1-0.5,0-0.7c0-0.2,0-0.5,0-0.7C9,6.7,8.8,6.1,8.5,5.7C8.2,5.2,7.8,4.8,7.3,4.5C7.2,4.4,7,4.3,6.9,4.2C6.7,4.1,6.5,4,6.4,4C6.2,3.9,6.1,3.9,5.9,3.8c-0.2,0-0.3-0.1-0.5-0.1h0.1C4.7,3.7,3.8,3.9,3.1,4.3C2.4,4.7,1.8,5.3,1.4,6C1.3,6.3,1.2,6.6,1.1,6.9C1,7.2,1,7.6,1,7.9c0,0.3,0,0.7,0.1,1c0.1,0.3,0.2,0.6,0.3,0.9c0.3,0.5,0.6,0.9,1,1.3c0.4,0.3,0.8,0.6,1.3,0.8C4.2,12,4.7,12.1,5.1,12c0.5,0,1-0.1,1.4-0.3C7.2,11.5,7.8,11.1,8.3,10.5zM4.5,10.1V8.5H2.9V8V7.9V7.3h0H3h1.4V5.7h0.4h0.2h0.6v0v1.5h1.6v1.2H5.7v1.6H4.5z"/></g></svg>',insert_column_right:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M1.3,0.1C1.2,0.2,1.1,0.2,1.1,0.3L1,0.4v14.9l0.1,0.1c0,0,0.1,0.1,0.1,0.1c0,0,0.1,0.1,0.1,0.1l0.1,0.1h7.7l0.1-0.1c0.1,0,0.1-0.1,0.2-0.2l0.1-0.1v-2.3H9.3l-0.5-0.1l-0.4-0.2l-0.2-0.1c0,0.1,0,0.2,0,0.3v1.6h-6V1.3h6v1.6c0,0.1,0,0.2,0,0.3l0.2-0.1l0.4-0.2C9,2.9,9.2,2.8,9.3,2.8h0.1V0.5L9.4,0.3c0-0.1-0.1-0.1-0.2-0.2L9.1,0H1.4L1.3,0.1z"/><path d="M7.5,5.3C7,5.8,6.7,6.5,6.6,7.2c0,0.2-0.1,0.5,0,0.7c0,0.2,0,0.5,0,0.7c0.1,0.6,0.3,1.1,0.6,1.6c0.3,0.5,0.7,0.9,1.2,1.2c0.2,0.1,0.3,0.2,0.5,0.3c0.2,0.1,0.4,0.2,0.5,0.2c0.1,0.1,0.3,0.1,0.4,0.1c0.2,0,0.3,0.1,0.5,0.1h-0.1c0.8,0.1,1.6-0.1,2.4-0.5c0.7-0.4,1.3-1,1.7-1.7c0.2-0.3,0.3-0.6,0.3-0.9c0.1-0.3,0.1-0.7,0.1-1c0-0.3,0-0.7-0.1-1c-0.1-0.3-0.2-0.6-0.3-0.9c-0.3-0.5-0.6-0.9-1-1.3C13,4.4,12.5,4.2,12,4c-0.4-0.1-0.9-0.2-1.4-0.2c-0.5,0-1,0.1-1.4,0.2C8.5,4.3,7.9,4.7,7.5,5.3z M11.3,5.7v1.6h1.6v0.5v0.1v0.6h0h-0.1h-1.4v1.6h-0.4h-0.2h-0.6v0V8.5H8.5V7.3h1.6V5.7H11.3z"/></g></svg>',delete_row:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 13.83"><g><path d="M4.7,18.46l.12.08H19.73l.12-.08a.58.58,0,0,0,.22-.22l.08-.12,0-7.69-.08-.11a.77.77,0,0,0-.18-.18l-.11-.08-2.31,0-.08.28-.1.29a1.58,1.58,0,0,1-.12.29l-.14.34s0,0,.18,0H18.9v6H5.64v-6H7.35c.14,0,.2,0,.18,0l-.14-.34a2.85,2.85,0,0,1-.12-.29l-.1-.29-.07-.27-2.31,0-.11.08a.77.77,0,0,0-.18.18l-.08.11,0,7.69.08.12a.47.47,0,0,0,.09.12l.13.09ZM12.11,13a4,4,0,0,0,1.46-.21,4.51,4.51,0,0,0,1.31-.71A4,4,0,0,0,16.26,10a4.32,4.32,0,0,0-.08-2.54,4.34,4.34,0,0,0-1-1.52,4.15,4.15,0,0,0-1.54-1,4.34,4.34,0,0,0-1.35-.22A4.07,4.07,0,0,0,11,4.93,3.94,3.94,0,0,0,9.24,6.07,3.92,3.92,0,0,0,8.15,8.88a3.91,3.91,0,0,0,.12.95A4.16,4.16,0,0,0,12.11,13Zm2.35-4.14v.58H10.09V8.27h4.37v.58Z" transform="translate(-4.4 -4.71)"/></g></svg>',delete_column:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13.81 15.74"><g><path d="M5.66,19.42l.12.08,7.69,0,.11-.08a.77.77,0,0,0,.18-.18l.08-.11,0-2.32-.15,0-.45-.15-.42-.18-.17-.07a1,1,0,0,0,0,.27v1.63h-6V5h6V6.62a.9.9,0,0,0,0,.26l.17-.07.42-.17a3.91,3.91,0,0,1,.45-.15l.15,0,0-2.32L13.75,4a.77.77,0,0,0-.18-.18l-.11-.08H5.79l-.13.07a.63.63,0,0,0-.21.22l-.08.12V19.08l.08.12a.47.47,0,0,0,.09.12.35.35,0,0,0,.12.1Zm9-3.67a4.16,4.16,0,0,0,2.36-.51,4.08,4.08,0,0,0,1.67-1.72,4,4,0,0,0,.35-.91,3.79,3.79,0,0,0,.1-1,4.71,4.71,0,0,0-.11-1,5,5,0,0,0-.3-.87,4.25,4.25,0,0,0-1-1.25,4.49,4.49,0,0,0-1.34-.81A4.26,4.26,0,0,0,15,7.48a3.88,3.88,0,0,0-1.41.25A4.32,4.32,0,0,0,11.86,9,4,4,0,0,0,11,10.94a4.4,4.4,0,0,0-.05.68,4.5,4.5,0,0,0,.05.68,3.93,3.93,0,0,0,.61,1.57,4.22,4.22,0,0,0,1.18,1.2,4.59,4.59,0,0,0,.48.27c.2.1.37.17.5.22a2.44,2.44,0,0,0,.45.12,4.61,4.61,0,0,0,.5.07Zm2.54-4.12v.58H12.87V11h4.37v.59Z" transform="translate(-5.37 -3.76)"/></g></svg>',fixed_column_width:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6,5H18A1,1 0 0,1 19,6A1,1 0 0,1 18,7H6A1,1 0 0,1 5,6A1,1 0 0,1 6,5M21,2V4H3V2H21M15,8H17V22H15V8M7,8H9V22H7V8M11,8H13V22H11V8Z" /></svg>',rotate_left:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M0.5,10.2c0,0.1,0,0.2,0,0.3v0.2l0,0c0.1,0.3,0.3,0.6,0.4,0.9l0,0C1,11.8,1.3,12,1.5,11.9h0.1h0.2h0.1c0.1-0.1,0.3-0.3,0.4-0.5v-0.2c0-0.1,0-0.2-0.1-0.3l0,0c-0.2-0.2-0.3-0.4-0.3-0.7l0,0C1.8,10,1.7,9.9,1.5,9.8c-0.1,0-0.2,0-0.3,0H0.9C0.7,9.9,0.6,10,0.5,10.2L0.5,10.2z"/><path d="M2.2,11.5L2.2,11.5L2.2,11.5z"/><path d="M5.9,3.6L5.9,3.6L5.9,3.6z"/><path d="M0.1,7.9c0,0.3,0,0.6,0,0.9l0,0l0,0l0,0l0,0c0,0.2,0.1,0.3,0.2,0.4l0,0c0.2,0.1,0.3,0.2,0.5,0.2l0,0l0,0c0.2,0,0.4-0.1,0.5-0.3l0,0c0-0.1,0.1-0.3,0.1-0.4V8.6l0,0c0-0.2,0-0.5,0-0.7l0,0c0-0.2-0.1-0.4-0.2-0.5C1.1,7.3,0.9,7.2,0.7,7.2S0.3,7.3,0.2,7.4C0.1,7.5,0,7.7,0.1,7.9z"/><path d="M1.9,12.7L1.9,12.7c0,0.2,0,0.4,0.2,0.5l0,0l0.2,0.3l0,0c0.2,0.1,0.3,0.2,0.5,0.4l0,0l0,0l0,0l0,0C2.9,14,3,14.1,3.2,14.1s0.4-0.1,0.5-0.2c0.1-0.2,0.2-0.3,0.2-0.5v-0.1c0-0.2-0.1-0.4-0.2-0.5l0,0l-0.4-0.4l-0.2-0.2l0,0C3,12.1,2.8,12,2.6,12l0,0c-0.2,0-0.4,0.1-0.5,0.2l0,0C2,12.3,1.9,12.5,1.9,12.7z"/><path d="M6.6,15c0,0.2,0.1,0.4,0.2,0.5c0.1,0.1,0.2,0.2,0.4,0.3l0,0c0.3,0,0.5,0,0.7,0h0.3l0,0c0.2,0,0.4-0.1,0.5-0.2c0.1-0.2,0.2-0.3,0.2-0.5l0,0l0,0c0-0.2-0.1-0.4-0.2-0.5l0,0c-0.1-0.1-0.3-0.2-0.5-0.2l0,0H7.9c-0.1,0-0.3,0-0.5,0l0,0H7.3c-0.2-0.1-0.3,0-0.5,0.1l0,0C6.7,14.6,6.6,14.8,6.6,15L6.6,15L6.6,15L6.6,15z"/><path d="M4.2,7.4C4,7.5,4,7.7,4,7.9c0,0.2,0,0.4,0.2,0.5l0,0l3.2,3.2l0,0c0.1,0.1,0.3,0.2,0.5,0.2s0.3-0.1,0.5-0.2l0,0l3.2-3.2l0,0c0.1-0.1,0.2-0.3,0.2-0.5c0-0.2-0.1-0.4-0.2-0.5l0,0C11.5,7.3,11,6.7,10,5.8l0,0L8.4,4.2l0,0C8.3,4.1,8.1,4,7.9,4S7.5,4.1,7.4,4.2L4.2,7.4L4.2,7.4z M6.8,9L5.7,7.9l2.2-2.2l2.3,2.2l-2.3,2.2C7.7,9.9,7.3,9.5,6.8,9L6.8,9z"/><path d="M4.1,14.1C4,14.2,4,14.3,4,14.4v0.2l0,0c0.1,0.1,0.2,0.3,0.4,0.4l0,0c0.3,0.1,0.6,0.2,0.9,0.4h0.1h0.1l0,0c0.2,0,0.3-0.1,0.5-0.1l0,0c0.2-0.1,0.3-0.3,0.3-0.4l0,0l0,0l0,0l0,0v-0.2c0-0.1-0.1-0.2-0.1-0.3l0,0C6.1,14.2,6,14.1,5.8,14l0,0c-0.3-0.1-0.5-0.2-0.8-0.2l0,0c-0.1-0.1-0.2-0.1-0.3-0.1H4.5C4.3,13.7,4.2,13.9,4.1,14.1z"/><path d="M9.3,14.4c0,0.1-0.1,0.3,0,0.4V15l0,0c0,0.1,0.1,0.3,0.5,0.4c0.1,0.1,0.3,0.1,0.4,0.1l0,0h0.1l0,0c0.3-0.1,0.6-0.2,0.9-0.3l0,0c0.1-0.1,0.2-0.2,0.3-0.4l0.1-0.3c0-0.1-0.1-0.2-0.1-0.3l0,0c-0.1-0.2-0.2-0.3-0.4-0.4l0,0h-0.3c-0.1,0-0.2,0-0.3,0l0,0c-0.2,0.1-0.5,0.2-0.8,0.3l0,0C9.5,14.1,9.4,14.2,9.3,14.4L9.3,14.4z"/><path d="M11.4,14.7L11.4,14.7L11.4,14.7z"/><path d="M9.5,15.3L9.5,15.3L9.5,15.3z"/><path d="M15.9,7.9c0-1-0.2-2-0.6-3l0,0c-0.4-1-1-1.9-1.7-2.6C12.8,1.6,12,1,11,0.6l0,0C10.1,0.2,9,0,8,0C7.3,0,6.5,0.1,5.8,0.3l0,0C5.2,0.5,4.6,0.8,4,1.1L3.1,0.2l0,0C2.9,0.1,2.8,0,2.6,0H2.4l0,0C2.2,0,2,0.2,1.9,0.4l0,0L0.1,4.9l0,0C0,5,0,5.1,0,5.2c0,0.2,0.1,0.4,0.2,0.5l0,0c0.2,0.1,0.3,0.2,0.5,0.2h0.1H1l0,0l4.7-1.8l0,0C5.9,4,6.1,3.8,6.1,3.6V3.4C6.1,3.2,6,3,5.9,2.9l0,0L5.1,2.1c0.4-0.2,0.8-0.4,1.3-0.5c0.5-0.1,1.1-0.2,1.7-0.2c0.9,0,1.7,0.2,2.5,0.5l0,0c0.8,0.3,1.5,0.8,2.1,1.4c0.6,0.6,1.1,1.3,1.4,2.1l0,0c0.3,0.8,0.5,1.6,0.5,2.5s-0.2,1.7-0.5,2.5l0,0c-0.3,0.8-0.8,1.5-1.4,2.1c-0.2,0.2-0.4,0.3-0.6,0.5l0,0c-0.2,0.1-0.3,0.3-0.3,0.5v0.1c0,0.1,0,0.3,0.1,0.4l0,0c0.1,0.2,0.3,0.3,0.5,0.3l0,0c0.1,0,0.3-0.1,0.4-0.2l0,0l0,0l0,0l0,0c0.2-0.2,0.5-0.4,0.7-0.6l0,0l0,0l0,0l0,0c0.7-0.8,1.3-1.6,1.7-2.6C15.6,10,15.8,9,15.9,7.9z M1.9,4C2,3.8,2.1,3.5,2.3,3.1l0,0L2.7,2l1.2,1.2L1.9,4z"/><path d="M6.8,15.5L6.8,15.5L6.8,15.5z"/></g></svg>',rotate_right:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M9.9,15.3L9.9,15.3L9.9,15.3z"/><path d="M6.9,15.1L6.9,15.1c0,0.1,0.1,0.3,0.2,0.4l0,0c0.1,0.2,0.3,0.3,0.5,0.3l0,0h0.3c0.2,0,0.4,0,0.7,0l0,0c0.2-0.1,0.3-0.2,0.4-0.3c0.1-0.1,0.2-0.2,0.2-0.4V15c0-0.2-0.1-0.4-0.2-0.4c-0.2-0.1-0.3-0.2-0.5-0.2H8.4l0,0c-0.1,0-0.3,0-0.5,0H7.6l0,0c-0.2,0-0.4,0.1-0.5,0.2C7,14.7,6.9,14.9,6.9,15.1z"/><path d="M6.5,14.4L6.5,14.4L6.5,14.4z"/><path d="M5.8,5.8L5.8,5.8c-1,0.9-1.5,1.5-1.7,1.6l0,0C4,7.5,4,7.7,4,7.9c0,0.2,0,0.4,0.2,0.5l0,0l3.2,3.2l0,0c0.2,0.1,0.3,0.2,0.5,0.2s0.4-0.1,0.5-0.2l0,0l3.2-3.2l0,0c0.1-0.1,0.2-0.3,0.2-0.5c0-0.2-0.1-0.4-0.2-0.5l0,0L8.4,4.2C8.3,4.1,8.1,4,7.9,4C7.7,4,7.5,4.1,7.4,4.2l0,0L5.8,5.8z M5.6,7.9l2.3-2.2l2.2,2.2L9,9l0,0l0,0l0,0l0,0c-0.5,0.6-0.9,0.9-1.1,1.1L5.6,7.9z"/><path d="M9,15.5L9,15.5L9,15.5z"/><path d="M9.6,14.7v0.2l0,0l0,0l0,0l0,0c0.1,0.2,0.1,0.3,0.3,0.3c0.1,0.1,0.3,0.1,0.4,0.1l0,0h0.1h0.1c0.3-0.1,0.6-0.3,0.9-0.4l0,0c0.1-0.1,0.2-0.2,0.3-0.4l0,0v-0.2c0-0.1,0-0.2-0.1-0.3c-0.1-0.2-0.2-0.3-0.4-0.4H11c-0.1,0-0.2,0.1-0.3,0.1l0,0c-0.2,0.1-0.4,0.2-0.7,0.3l0,0l0,0c-0.1,0.1-0.3,0.2-0.4,0.4C9.6,14.5,9.6,14.6,9.6,14.7z"/><path d="M9,14.5L9,14.5L9,14.5z"/><path d="M9.6,14.4L9.6,14.4L9.6,14.4z"/><path d="M11.7,14L11.7,14L11.7,14z"/><path d="M15.6,7.4L15.6,7.4L15.6,7.4z"/><path d="M15,9.4c0.2,0,0.4,0,0.6-0.2l0,0c0.1-0.1,0.2-0.2,0.2-0.4l0,0l0,0l0,0l0,0c0-0.3,0-0.6,0-0.9c0-0.2-0.1-0.4-0.2-0.5c-0.1-0.1-0.3-0.2-0.5-0.2s-0.4,0.1-0.5,0.2c-0.1,0.1-0.2,0.3-0.2,0.5l0,0c0,0.2,0,0.4,0,0.7l0,0v0.1c0,0.1,0,0.3,0.1,0.4l0,0C14.6,9.3,14.8,9.4,15,9.4L15,9.4L15,9.4z"/><path d="M14,12h0.1h0.2h0.1c0.2,0,0.5-0.2,0.6-0.4l0,0c0.2-0.3,0.3-0.6,0.4-0.9l0,0v-0.2c0-0.1-0.1-0.2-0.1-0.3c-0.1-0.2-0.2-0.3-0.4-0.4h-0.3c-0.1,0-0.2,0-0.3,0C14.2,9.9,14,10,14,10.3l0,0c-0.1,0.2-0.2,0.5-0.3,0.7l0,0c-0.1,0.1-0.1,0.2-0.1,0.3v0.2l0,0l0,0C13.6,11.6,13.8,11.8,14,12z"/><path d="M14.6,7.4L14.6,7.4L14.6,7.4z"/><path d="M4.4,14.2c-0.1,0.1-0.1,0.2-0.1,0.3l0.1,0.2c0,0.2,0.2,0.3,0.3,0.4l0,0c0.3,0.1,0.6,0.3,1.1,0.4l0,0h0.1l0,0c0.1,0,0.2-0.1,0.4-0.2c0.1,0,0.2-0.2,0.3-0.3l0,0v-0.2c0-0.1-0.1-0.3-0.2-0.4c-0.1-0.1-0.2-0.2-0.4-0.3l0,0c-0.2-0.1-0.5-0.2-0.7-0.3l0,0c-0.1,0-0.2,0-0.3,0H4.7l0,0C4.6,13.9,4.4,14,4.4,14.2L4.4,14.2z"/><path d="M11.9,13.3c0,0.2,0.1,0.4,0.2,0.6c0.1,0.1,0.3,0.2,0.5,0.2s0.4-0.1,0.5-0.2l0,0l0,0l0,0l0,0c0.1-0.1,0.3-0.3,0.4-0.4l0,0l0.2-0.3l0,0c0.1-0.2,0.2-0.3,0.2-0.5l0,0c0-0.2-0.1-0.4-0.2-0.5l0,0c-0.1-0.1-0.3-0.2-0.5-0.2l0,0c-0.2,0-0.4,0.1-0.5,0.2l0,0l-0.2,0.2l-0.4,0.4l0,0C12,13,11.9,13.1,11.9,13.3L11.9,13.3z"/><path d="M12.1,13.8L12.1,13.8L12.1,13.8z"/><path d="M11.9,13.3L11.9,13.3L11.9,13.3z"/><path d="M15.9,5.2c0-0.1-0.1-0.2-0.1-0.3l0,0L14,0.4l0,0C13.9,0.2,13.7,0,13.5,0l0,0l0,0h-0.2c-0.2,0-0.4,0.1-0.5,0.2l0,0l-0.9,0.9c-0.5-0.3-1.1-0.6-1.8-0.8l0,0C9.4,0.1,8.7,0,7.9,0c-1,0-2,0.2-3,0.6S3,1.6,2.3,2.3C1.6,3.1,1,3.9,0.6,4.9l0,0C0.2,5.8,0,6.8,0,7.9c0,1,0.2,2,0.6,3s0.9,1.8,1.7,2.6l0,0l0,0l0,0l0,0c0.2,0.2,0.5,0.4,0.7,0.6l0,0l0,0l0,0l0,0c0.2,0.1,0.3,0.2,0.5,0.2l0,0c0.2,0,0.4-0.1,0.6-0.3l0,0c0.1-0.1,0.1-0.3,0.1-0.4v-0.1l0,0C4.1,13.3,4,13.1,3.9,13l0,0c-0.2-0.1-0.4-0.3-0.6-0.5c-0.6-0.6-1.1-1.3-1.4-2.1l0,0C1.6,9.6,1.4,8.8,1.4,7.9s0.2-1.7,0.5-2.5l0,0c0.3-0.8,0.8-1.5,1.4-2.1c0.6-0.6,1.3-1.1,2.1-1.4l0,0C6.2,1.6,7,1.4,7.9,1.4c0.6,0,1.1,0.1,1.7,0.2c0.5,0.1,0.9,0.3,1.3,0.5l-0.8,0.8l0,0C10,3.1,9.9,3.2,9.9,3.4v0.2l0,0l0,0c0,0.2,0.2,0.4,0.4,0.5l0,0l4.5,1.8l0,0H15h0.1c0.2,0,0.4-0.1,0.5-0.2l0,0C15.7,5.6,15.8,5.4,15.9,5.2z M11.8,3.2L13,2l0.4,1.1l0,0c0.2,0.4,0.3,0.7,0.4,0.9L11.8,3.2z"/></g></svg>',mirror_horizontal:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.75 15.74"><g><path d="M13.75,3.76l5.9,15.74h-5.9V3.76ZM4.9,19.5,10.8,3.76V19.5H4.9Z" transform="translate(-4.9 -3.76)"/></g></svg>',mirror_vertical:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 14.75"><g><path d="M20.15,13.1,4.41,19V13.1H20.15ZM4.41,4.25l15.74,5.9H4.41V4.25Z" transform="translate(-4.41 -4.25)"/></g></svg>',checked:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 12.1"><g><path d="M4.59,12.23l.12.18L9.43,17.5a.58.58,0,0,0,.84,0L20,7.45h0a.58.58,0,0,0,0-.84l-.85-.85a.58.58,0,0,0-.84,0H18.2l-8.12,8.41a.29.29,0,0,1-.42,0l-3.4-3.63a.58.58,0,0,0-.84,0l-.85.85a.6.6,0,0,0-.14.21.51.51,0,0,0,0,.44c.05.06.1.13.16.19Z" transform="translate(-4.38 -5.58)"/></g></svg>',line_break:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19,6a1,1,0,0,0-1,1v4a1,1,0,0,1-1,1H7.41l1.3-1.29A1,1,0,0,0,7.29,9.29l-3,3a1,1,0,0,0-.21.33,1,1,0,0,0,0,.76,1,1,0,0,0,.21.33l3,3a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42L7.41,14H17a3,3,0,0,0,3-3V7A1,1,0,0,0,19,6Z"/></svg>',audio:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14,3.23V5.29C16.89,6.15 19,8.83 19,12C19,15.17 16.89,17.84 14,18.7V20.77C18,19.86 21,16.28 21,12C21,7.72 18,4.14 14,3.23M16.5,12C16.5,10.23 15.5,8.71 14,7.97V16C15.5,15.29 16.5,13.76 16.5,12M3,9V15H7L12,20V4L7,9H3Z" /></svg>',image_gallery:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="30 30 150 150"><g><path d="M152.775,120.548V51.651c0-12.271-9.984-22.254-22.254-22.254H43.727c-12.271,0-22.254,9.983-22.254,22.254v68.896c0,12.27,9.983,22.254,22.254,22.254h86.795C142.791,142.802,152.775,132.817,152.775,120.548z M36.394,51.651c0-4.042,3.291-7.333,7.333-7.333h86.795c4.042,0,7.332,3.291,7.332,7.333v23.917l-14.938-17.767c-1.41-1.678-3.487-2.649-5.68-2.658h-0.029c-2.184,0-4.255,0.954-5.674,2.613L76.709,98.519l-9.096-9.398c-1.427-1.474-3.392-2.291-5.448-2.273c-2.052,0.025-4.004,0.893-5.396,2.4L36.394,111.32V51.651z M41.684,127.585l20.697-22.416l9.312,9.622c1.461,1.511,3.489,2.334,5.592,2.27c2.101-0.066,4.075-1.013,5.44-2.612l34.436-40.308l20.693,24.613v21.794c0,4.042-3.29,7.332-7.332,7.332H43.727C43.018,127.88,42.334,127.775,41.684,127.585z M182.616,152.5V75.657c0-4.12-3.34-7.46-7.461-7.46c-4.119,0-7.46,3.34-7.46,7.46V152.5c0,4.112-3.347,7.46-7.461,7.46h-94c-4.119,0-7.46,3.339-7.46,7.459c0,4.123,3.341,7.462,7.46,7.462h94C172.576,174.881,182.616,164.841,182.616,152.5z"/></g></svg>',bookmark:'<svg viewBox="0 0 24 24"><path d="M17,3H7A2,2 0 0,0 5,5V21L12,18L19,21V5C19,3.89 18.1,3 17,3Z" /></svg>',download:'<svg viewBox="0 0 24 24"><path d="M2 12H4V17H20V12H22V17C22 18.11 21.11 19 20 19H4C2.9 19 2 18.11 2 17V12M12 15L17.55 9.54L16.13 8.13L13 11.25V2H11V11.25L7.88 8.13L6.46 9.55L12 15Z" /></svg>',dir_ltr:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M9 4v4c-1.1 0-2-.9-2-2s.9-2 2-2m8-2H9C6.79 2 5 3.79 5 6s1.79 4 4 4v5h2V4h2v11h2V4h2V2zm0 12v3H5v2h12v3l4-4-4-4z"/></svg>',dir_rtl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M10 4v4c-1.1 0-2-.9-2-2s.9-2 2-2m8-2h-8C7.79 2 6 3.79 6 6s1.79 4 4 4v5h2V4h2v11h2V4h2V2zM8 14l-4 4 4 4v-3h12v-2H8v-3z"/></svg>',alert_outline:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M11,15H13V17H11V15M11,7H13V13H11V7M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20Z" /></svg>',more_text:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="10 10 180 180"><g><path d="M49.711,142.188h49.027c2.328,0.002,4.394,1.492,5.129,3.699l9.742,29.252c0.363,1.092,1.385,1.828,2.537,1.83l15.883,0.01c0.859,0,1.667-0.412,2.17-1.109s0.641-1.594,0.37-2.41l-16.625-50.045L86.503,28.953c-0.36-1.097-1.383-1.839-2.537-1.842H64.532c-1.153-0.001-2.178,0.736-2.542,1.831L13.847,173.457c-0.271,0.816-0.135,1.713,0.369,2.412c0.503,0.697,1.311,1.109,2.171,1.109h15.872c1.151,0,2.173-0.736,2.537-1.828l9.793-29.287C45.325,143.66,47.39,142.18,49.711,142.188L49.711,142.188z M53.493,119.098l15.607-46.9c0.744-2.196,2.806-3.674,5.125-3.674s4.381,1.478,5.125,3.674l15.607,46.904c0.537,1.621,0.263,3.402-0.736,4.789c-1.018,1.408-2.649,2.24-4.386,2.24H58.615c-1.736,0-3.368-0.832-4.386-2.24C53.23,122.504,52.956,120.721,53.493,119.098L53.493,119.098z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.633,190.465,66.178,190.465,63.32L190.465,63.32z M190.465,101.994c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.887,1.026,5.352,3.056,7.395c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.994L190.465,101.994z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z"/></g></svg>',more_paragraph:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="10 10 180 180"><g><path d="M128.39,28.499H63.493c-25.558,0-46.354,20.796-46.354,46.354c0,25.559,20.796,46.353,46.354,46.353h9.271v55.625h18.542V47.04h9.271V176.83h18.543V47.04h9.271V28.499z M72.764,102.664h-9.271c-15.337,0-27.813-12.475-27.813-27.812c0-15.336,12.476-27.813,27.813-27.813h9.271V102.664z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.633,190.465,66.178,190.465,63.32L190.465,63.32z M190.465,101.994c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.887,1.026,5.352,3.056,7.395c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.994L190.465,101.994z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z"/></g></svg>',more_plus:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="35 30 140 140"><g><path d="M137.215,102.045c0,3.498-2.835,6.332-6.333,6.332H24.549c-3.498,0-6.334-2.834-6.334-6.332l0,0c0-3.498,2.836-6.333,6.334-6.333h106.333C134.38,95.711,137.215,98.547,137.215,102.045L137.215,102.045z M77.715,161.545c-3.498,0-6.333-2.836-6.333-6.334V48.878c0-3.498,2.836-6.333,6.333-6.333l0,0c3.498,0,6.334,2.835,6.334,6.333v106.333C84.049,158.709,81.213,161.545,77.715,161.545L77.715,161.545z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.632,190.465,66.177,190.465,63.32L190.465,63.32z M190.465,101.993c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.888,1.026,5.353,3.056,7.396c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.993L190.465,101.993z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z"/></g></svg>',more_horizontal:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.76 3.58"><g><path d="M4.64,10.73a1.84,1.84,0,0,1,.65-.65,1.76,1.76,0,0,1,1.79,0A1.79,1.79,0,0,1,8,11.63a1.84,1.84,0,0,1-.25.9,1.69,1.69,0,0,1-.65.65,1.8,1.8,0,0,1-2.69-1.55A2.08,2.08,0,0,1,4.64,10.73Zm6.09,0a1.84,1.84,0,0,1,.65-.65,1.78,1.78,0,0,1,2.67,1.55,1.73,1.73,0,0,1-.24.9,1.84,1.84,0,0,1-.65.65,1.76,1.76,0,0,1-1.79,0,1.79,1.79,0,0,1-.64-2.44Zm6.08,0a1.69,1.69,0,0,1,.65-.65,1.76,1.76,0,0,1,1.79,0,1.79,1.79,0,0,1,.9,1.54,1.73,1.73,0,0,1-.24.9,1.84,1.84,0,0,1-.65.65,1.8,1.8,0,0,1-2.69-1.55A2,2,0,0,1,16.81,10.73Z" transform="translate(-4.39 -9.84)"/></g></svg>',more_vertical:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 3.94 15.75"><g><path d="M12.28,7.69a1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39,1.92,1.92,0,0,1,.58-1.39,2,2,0,0,1,1.39-.58,1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39,1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58Zm0,2a1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39A1.92,1.92,0,0,1,13.67,13a2,2,0,0,1-1.39.58A1.92,1.92,0,0,1,10.89,13a2,2,0,0,1-.58-1.39,2,2,0,0,1,2-2Zm0,5.9a1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39,1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58,1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39,1.92,1.92,0,0,1,.58-1.39,1.94,1.94,0,0,1,1.39-.58Z" transform="translate(-10.31 -3.75)"/></g></svg>',attachment:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 8.38 15.68"><g><path d="M15.23,6h1v9.78a3.88,3.88,0,0,1-1.31,2.45,4,4,0,0,1-6.57-2.45V7A3,3,0,0,1,9.2,4.89a3,3,0,0,1,5,2.09v8.31a1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58,1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39V8h1v7.32a1,1,0,0,0,.29.69,1,1,0,0,0,.69.28A.9.9,0,0,0,13,16a1,1,0,0,0,.29-.69V7a1.92,1.92,0,0,0-.58-1.39A2,2,0,0,0,11.27,5a1.92,1.92,0,0,0-1.39.58A2,2,0,0,0,9.33,7v8.31a3,3,0,1,0,5.9,0V6Z" transform="translate(-8.08 -3.78)"/></g></svg>',map:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11.7 15.62"><g><path d="M12.05,12.42a2.93,2.93,0,1,1,2.07-5A2.88,2.88,0,0,1,15,9.49a3,3,0,0,1-.86,2.07,2.89,2.89,0,0,1-2.07.86Zm0-5.36a2.43,2.43,0,0,0-1.72,4.16,2.48,2.48,0,0,0,1.72.72,2.44,2.44,0,0,0,0-4.88Zm0-3.3A5.84,5.84,0,0,1,17.9,9.62a9.94,9.94,0,0,1-1.73,5A33.59,33.59,0,0,1,12.84,19a1.52,1.52,0,0,1-.23.2,1,1,0,0,1-.55.2h0a1,1,0,0,1-.55-.2,1.52,1.52,0,0,1-.23-.2,33.59,33.59,0,0,1-3.33-4.32,9.93,9.93,0,0,1-1.72-5,5.84,5.84,0,0,1,5.85-5.86ZM12,18.34l.08.05.06-.06a35.58,35.58,0,0,0,3.06-3.93,9.35,9.35,0,0,0,1.74-4.77,4.88,4.88,0,0,0-4.88-4.88A4.79,4.79,0,0,0,8.6,6.17,4.84,4.84,0,0,0,7.17,9.62,9.29,9.29,0,0,0,8.91,14.4,36,36,0,0,0,12,18.34Z" transform="translate(-6.2 -3.76)"/></g></svg>',magic_stick:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.73 15.75"><g><path d="M19.86,19.21a1,1,0,0,0,.28-.68,1,1,0,0,0-.28-.7L13,10.93a1,1,0,0,0-.7-.28,1,1,0,0,0-.68,1.65l6.9,6.9a1,1,0,0,0,.69.29.93.93,0,0,0,.69-.28ZM9.19,8.55a3,3,0,0,0,1.68,0,14.12,14.12,0,0,0,1.41-.32A11.26,11.26,0,0,0,10.8,7.06c-.56-.36-.86-.56-.91-.58S10,5.91,10,5.11s0-1.26-.15-1.37a4.35,4.35,0,0,0-1.19.71c-.53.4-.81.62-.87.68a9,9,0,0,0-2-.6,6.84,6.84,0,0,0-.76-.09s0,.27.08.77a8.6,8.6,0,0,0,.61,2q-.09.09-.69.87a3.59,3.59,0,0,0-.68,1.17c.12.17.57.23,1.36.15S7,9.26,7.15,9.23s.21.36.57.91a10.49,10.49,0,0,0,1.14,1.48c0-.1.14-.57.31-1.4a3,3,0,0,0,0-1.67Z" transform="translate(-4.41 -3.74)"/></g></svg>',empty_file:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12.78 15.75"><g><path d="M14.73,3.76,18.67,7.7v9.84a2,2,0,0,1-2,2H7.84a1.89,1.89,0,0,1-1.38-.58,2,2,0,0,1-.57-1.39V5.73a1.93,1.93,0,0,1,.57-1.38,2,2,0,0,1,1.38-.58h6.62l.26,0v0Zm2.95,4.92h-2a1.93,1.93,0,0,1-1.38-.57,2,2,0,0,1-.58-1.4V6.17c0-.36,0-.84,0-1.43H7.85a1,1,0,0,0-.7.29,1,1,0,0,0-.29.7V17.54a1,1,0,0,0,.29.69,1,1,0,0,0,.69.29h8.85a1,1,0,0,0,.71-.29.92.92,0,0,0,.28-.69Zm0-1L14.73,4.74v2A1,1,0,0,0,15,7.4a1,1,0,0,0,.69.29Z" transform="translate(-5.89 -3.76)"/></g></svg>'};var nf={exports:{}};(function(t){(function(e,n){t.exports=e.document?n(e,!0):function(i){if(!i.document)throw new Error("SUNEDITOR_LANG a window with a document");return n(i)}})(typeof window<"u"?window:Pe,function(e,n){const i={code:"en",toolbar:{default:"Default",save:"Save",font:"Font",formats:"Formats",fontSize:"Size",bold:"Bold",underline:"Underline",italic:"Italic",strike:"Strike",subscript:"Subscript",superscript:"Superscript",removeFormat:"Remove Format",fontColor:"Font Color",hiliteColor:"Highlight Color",indent:"Indent",outdent:"Outdent",align:"Align",alignLeft:"Align left",alignRight:"Align right",alignCenter:"Align center",alignJustify:"Align justify",list:"List",orderList:"Ordered list",unorderList:"Unordered list",horizontalRule:"Horizontal line",hr_solid:"Solid",hr_dotted:"Dotted",hr_dashed:"Dashed",table:"Table",link:"Link",math:"Math",image:"Image",video:"Video",audio:"Audio",fullScreen:"Full screen",showBlocks:"Show blocks",codeView:"Code view",undo:"Undo",redo:"Redo",preview:"Preview",print:"print",tag_p:"Paragraph",tag_div:"Normal (DIV)",tag_h:"Header",tag_blockquote:"Quote",tag_pre:"Code",template:"Template",lineHeight:"Line height",paragraphStyle:"Paragraph style",textStyle:"Text style",imageGallery:"Image gallery",dir_ltr:"Left to right",dir_rtl:"Right to left",mention:"Mention"},dialogBox:{linkBox:{title:"Insert Link",url:"URL to link",text:"Text to display",newWindowCheck:"Open in new window",downloadLinkCheck:"Download link",bookmark:"Bookmark"},mathBox:{title:"Math",inputLabel:"Mathematical Notation",fontSizeLabel:"Font Size",previewLabel:"Preview"},imageBox:{title:"Insert image",file:"Select from files",url:"Image URL",altText:"Alternative text"},videoBox:{title:"Insert Video",file:"Select from files",url:"Media embed URL, YouTube/Vimeo"},audioBox:{title:"Insert Audio",file:"Select from files",url:"Audio URL"},browser:{tags:"Tags",search:"Search"},caption:"Insert description",close:"Close",submitButton:"Submit",revertButton:"Revert",proportion:"Constrain proportions",basic:"Basic",left:"Left",right:"Right",center:"Center",width:"Width",height:"Height",size:"Size",ratio:"Ratio"},controller:{edit:"Edit",unlink:"Unlink",remove:"Remove",insertRowAbove:"Insert row above",insertRowBelow:"Insert row below",deleteRow:"Delete row",insertColumnBefore:"Insert column before",insertColumnAfter:"Insert column after",deleteColumn:"Delete column",fixedColumnWidth:"Fixed column width",resize100:"Resize 100%",resize75:"Resize 75%",resize50:"Resize 50%",resize25:"Resize 25%",autoSize:"Auto size",mirrorHorizontal:"Mirror, Horizontal",mirrorVertical:"Mirror, Vertical",rotateLeft:"Rotate left",rotateRight:"Rotate right",maxSize:"Max size",minSize:"Min size",tableHeader:"Table header",mergeCells:"Merge cells",splitCells:"Split Cells",HorizontalSplit:"Horizontal split",VerticalSplit:"Vertical split"},menu:{spaced:"Spaced",bordered:"Bordered",neon:"Neon",translucent:"Translucent",shadow:"Shadow",code:"Code"}};return typeof n>"u"&&(e.SUNEDITOR_LANG||Object.defineProperty(e,"SUNEDITOR_LANG",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_LANG,"en",{enumerable:!0,writable:!0,configurable:!0,value:i})),i})})(nf);var I1=nf.exports;const z1=Jt(I1),An={_d:null,_w:null,isIE:null,isIE_Edge:null,isOSX_IOS:null,isChromium:null,isResizeObserverSupported:null,_propertiesInit:function(){this._d||(this._d=document,this._w=window,this.isIE=navigator.userAgent.indexOf("Trident")>-1,this.isIE_Edge=navigator.userAgent.indexOf("Trident")>-1||navigator.appVersion.indexOf("Edge")>-1,this.isOSX_IOS=/(Mac|iPhone|iPod|iPad)/.test(navigator.platform),this.isChromium=!!window.chrome,this.isResizeObserverSupported=typeof ResizeObserver=="function")},_allowedEmptyNodeList:".se-component, pre, blockquote, hr, li, table, img, iframe, video, audio, canvas",_HTMLConvertor:function(t){const e={"&":"&amp;"," ":"&nbsp;","'":"&apos;",'"':"&quot;","<":"&lt;",">":"&gt;"};return t.replace(/&|\u00A0|'|"|<|>/g,function(n){return typeof e[n]=="string"?e[n]:n})},zeroWidthSpace:String.fromCharCode(8203),zeroWidthRegExp:new RegExp(String.fromCharCode(8203),"g"),onlyZeroWidthRegExp:new RegExp("^"+String.fromCharCode(8203)+"+$"),fontValueMap:{"xx-small":1,"x-small":2,small:3,medium:4,large:5,"x-large":6,"xx-large":7},onlyZeroWidthSpace:function(t){return t==null?!1:(typeof t!="string"&&(t=t.textContent),t===""||this.onlyZeroWidthRegExp.test(t))},getXMLHttpRequest:function(){if(this._w.ActiveXObject)try{return new ActiveXObject("Msxml2.XMLHTTP")}catch{try{return new ActiveXObject("Microsoft.XMLHTTP")}catch{return null}}else return this._w.XMLHttpRequest?new XMLHttpRequest:null},getValues:function(t){return t?this._w.Object.keys(t).map(function(e){return t[e]}):[]},camelToKebabCase:function(t){return typeof t=="string"?t.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}):t.map(function(e){return An.camelToKebabCase(e)})},kebabToCamelCase:function(t){return typeof t=="string"?t.replace(/-[a-zA-Z]/g,function(e){return e.replace("-","").toUpperCase()}):t.map(function(e){return An.camelToKebabCase(e)})},createElement:function(t){return this._d.createElement(t)},createTextNode:function(t){return this._d.createTextNode(t||"")},HTMLEncoder:function(t){const e={"<":"$lt;",">":"$gt;"};return t.replace(/<|>/g,function(n){return typeof e[n]=="string"?e[n]:n})},HTMLDecoder:function(t){const e={"$lt;":"<","$gt;":">"};return t.replace(/\$lt;|\$gt;/g,function(n){return typeof e[n]=="string"?e[n]:n})},hasOwn:function(t,e){return this._hasOwn.call(t,e)},_hasOwn:Object.prototype.hasOwnProperty,getIncludePath:function(t,e){let n="";const i=[],s=e==="js"?"script":"link",r=e==="js"?"src":"href";let a="(?:";for(let d=0,f=t.length;d<f;d++)a+=t[d]+(d<f-1?"|":")");const l=new this._w.RegExp("(^|.*[\\/])"+a+"(\\.[^\\/]+)?."+e+"(?:\\?.*|;.*)?$","i"),o=new this._w.RegExp(".+\\."+e+"(?:\\?.*|;.*)?$","i");for(let d=this._d.getElementsByTagName(s),f=0;f<d.length;f++)o.test(d[f][r])&&i.push(d[f]);for(let d=0;d<i.length;d++){let f=i[d][r].match(l);if(f){n=f[0];break}}if(n===""&&(n=i.length>0?i[0][r]:""),n.indexOf(":/")===-1&&n.slice(0,2)!=="//"&&(n=n.indexOf("/")===0?location.href.match(/^.*?:\/\/[^\/]*/)[0]+n:location.href.match(/^[^\?]*\/(?:)/)[0]+n),!n)throw"[SUNEDITOR.util.getIncludePath.fail] The SUNEDITOR installation path could not be automatically detected. (name: +"+name+", extension: "+e+")";return n},getPageStyle:function(t){let e="";const n=(t||this._d).styleSheets;for(let i=0,s=n.length,r;i<s;i++){try{r=n[i].cssRules}catch{continue}if(r)for(let a=0,l=r.length;a<l;a++)e+=r[a].cssText}return e},getIframeDocument:function(t){let e=t.contentWindow||t.contentDocument;return e.document&&(e=e.document),e},getAttributesToString:function(t,e){if(!t.attributes)return"";const n=t.attributes;let i="";for(let s=0,r=n.length;s<r;s++)e&&e.indexOf(n[s].name)>-1||(i+=n[s].name+'="'+n[s].value+'" ');return i},getByteLength:function(t){if(!t||!t.toString)return 0;t=t.toString();const e=this._w.encodeURIComponent;let n,i;return this.isIE_Edge?(i=this._w.unescape(e(t)).length,n=0,e(t).match(/(%0A|%0D)/gi)!==null&&(n=e(t).match(/(%0A|%0D)/gi).length),i+n):(i=new this._w.TextEncoder("utf-8").encode(t).length,n=0,e(t).match(/(%0A|%0D)/gi)!==null&&(n=e(t).match(/(%0A|%0D)/gi).length),i+n)},isWysiwygDiv:function(t){return t&&t.nodeType===1&&(this.hasClass(t,"se-wrapper-wysiwyg")||/^BODY$/i.test(t.nodeName))},isNonEditable:function(t){return t&&t.nodeType===1&&t.getAttribute("contenteditable")==="false"},isTextStyleElement:function(t){return t&&t.nodeType!==3&&/^(strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label|code|summary)$/i.test(t.nodeName)},isInputElement:function(t){return t&&t.nodeType===1&&/^(INPUT|TEXTAREA)$/i.test(t.nodeName)},isFormatElement:function(t){return t&&t.nodeType===1&&(/^(P|DIV|H[1-6]|PRE|LI|TH|TD|DETAILS)$/i.test(t.nodeName)||this.hasClass(t,"(\\s|^)__se__format__replace_.+(\\s|$)|(\\s|^)__se__format__free_.+(\\s|$)"))&&!this.isComponent(t)&&!this.isWysiwygDiv(t)},isRangeFormatElement:function(t){return t&&t.nodeType===1&&(/^(BLOCKQUOTE|OL|UL|FIGCAPTION|TABLE|THEAD|TBODY|TR|TH|TD|DETAILS)$/i.test(t.nodeName)||this.hasClass(t,"(\\s|^)__se__format__range_.+(\\s|$)"))},isClosureRangeFormatElement:function(t){return t&&t.nodeType===1&&(/^(TH|TD)$/i.test(t.nodeName)||this.hasClass(t,"(\\s|^)__se__format__range__closure_.+(\\s|$)"))},isFreeFormatElement:function(t){return t&&t.nodeType===1&&(/^PRE$/i.test(t.nodeName)||this.hasClass(t,"(\\s|^)__se__format__free_.+(\\s|$)"))&&!this.isComponent(t)&&!this.isWysiwygDiv(t)},isClosureFreeFormatElement:function(t){return t&&t.nodeType===1&&this.hasClass(t,"(\\s|^)__se__format__free__closure_.+(\\s|$)")},isComponent:function(t){return t&&(/se-component/.test(t.className)||/^(TABLE|HR)$/.test(t.nodeName))},isUneditableComponent:function(t){return t&&this.hasClass(t,"__se__uneditable")},isMediaComponent:function(t){return t&&/se-component/.test(t.className)},isNotCheckingNode:function(t){return t&&/katex|__se__tag/.test(t.className)},getFormatElement:function(t,e){if(!t)return null;for(e||(e=function(){return!0});t;){if(this.isWysiwygDiv(t))return null;if(this.isRangeFormatElement(t)&&t.firstElementChild,this.isFormatElement(t)&&e(t))return t;t=t.parentNode}return null},getRangeFormatElement:function(t,e){if(!t)return null;for(e||(e=function(){return!0});t;){if(this.isWysiwygDiv(t))return null;if(this.isRangeFormatElement(t)&&!/^(THEAD|TBODY|TR)$/i.test(t.nodeName)&&e(t))return t;t=t.parentNode}return null},getFreeFormatElement:function(t,e){if(!t)return null;for(e||(e=function(){return!0});t;){if(this.isWysiwygDiv(t))return null;if(this.isFreeFormatElement(t)&&e(t))return t;t=t.parentNode}return null},getClosureFreeFormatElement:function(t,e){if(!t)return null;for(e||(e=function(){return!0});t;){if(this.isWysiwygDiv(t))return null;if(this.isClosureFreeFormatElement(t)&&e(t))return t;t=t.parentNode}return null},copyTagAttributes:function(t,e,n){if(e.style.cssText){const s=e.style;for(let r=0,a=s.length;r<a;r++)t.style[s[r]]=s[s[r]]}const i=e.attributes;for(let s=0,r=i.length,a;s<r;s++)a=i[s].name.toLowerCase(),n&&n.indexOf(a)>-1||!i[s].value?t.removeAttribute(a):a!=="style"&&t.setAttribute(i[s].name,i[s].value)},copyFormatAttributes:function(t,e){e=e.cloneNode(!1),e.className=e.className.replace(/(\s|^)__se__format__[^\s]+/g,""),this.copyTagAttributes(t,e)},getArrayItem:function(t,e,n){if(!t||t.length===0)return null;e=e||function(){return!0};const i=[];for(let s=0,r=t.length,a;s<r;s++)if(a=t[s],e(a))if(n)i.push(a);else return a;return n?i:null},arrayIncludes:function(t,e){for(let n=0;n<t.length;n++)if(t[n]===e)return!0;return!1},getArrayIndex:function(t,e){let n=-1;for(let i=0,s=t.length;i<s;i++)if(t[i]===e){n=i;break}return n},nextIdx:function(t,e){let n=this.getArrayIndex(t,e);return n===-1?-1:n+1},prevIdx:function(t,e){let n=this.getArrayIndex(t,e);return n===-1?-1:n-1},getPositionIndex:function(t){let e=0;for(;t=t.previousSibling;)e+=1;return e},getNodePath:function(t,e,n){const i=[];let s=!0;return this.getParentElement(t,function(r){if(r===e&&(s=!1),s&&!this.isWysiwygDiv(r)){if(n&&r.nodeType===3){let a=null,l=null;n.s=n.e=0;let o=r.previousSibling;for(;o&&o.nodeType===3;)l=o.textContent.replace(this.zeroWidthRegExp,""),n.s+=l.length,r.textContent=l+r.textContent,a=o,o=o.previousSibling,this.removeItem(a);let d=r.nextSibling;for(;d&&d.nodeType===3;)l=d.textContent.replace(this.zeroWidthRegExp,""),n.e+=l.length,r.textContent+=l,a=d,d=d.nextSibling,this.removeItem(a)}i.push(r)}return!1}.bind(this)),i.map(this.getPositionIndex).reverse()},getNodeFromPath:function(t,e){let n=e,i;for(let s=0,r=t.length;s<r&&(i=n.childNodes,i.length!==0);s++)i.length<=t[s]?n=i[i.length-1]:n=i[t[s]];return n},isSameAttributes:function(t,e){if(t.nodeType===3&&e.nodeType===3)return!0;if(t.nodeType===3||e.nodeType===3)return!1;const n=t.style,i=e.style;let s=0;for(let d=0,f=n.length;d<f;d++)n[n[d]]===i[n[d]]&&s++;const r=t.classList,a=e.classList,l=this._w.RegExp;let o=0;for(let d=0,f=r.length;d<f;d++)l("(s|^)"+r[d]+"(s|$)").test(a.value)&&o++;return s===i.length&&s===n.length&&o===a.length&&o===r.length},isEmptyLine:function(t){return!t||!t.parentNode||!t.querySelector("IMG, IFRAME, AUDIO, VIDEO, CANVAS, TABLE")&&t.children.length===0&&this.onlyZeroWidthSpace(t.textContent)},isSpanWithoutAttr:function(t){return!!t&&t.nodeType===1&&/^SPAN$/i.test(t.nodeName)&&!t.className&&!t.style.cssText},isList:function(t){return t&&/^(OL|UL)$/i.test(typeof t=="string"?t:t.nodeName)},isListCell:function(t){return t&&/^LI$/i.test(typeof t=="string"?t:t.nodeName)},isTable:function(t){return t&&/^(TABLE|THEAD|TBODY|TR|TH|TD)$/i.test(typeof t=="string"?t:t.nodeName)},isCell:function(t){return t&&/^(TD|TH)$/i.test(typeof t=="string"?t:t.nodeName)},isBreak:function(t){return t&&/^BR$/i.test(typeof t=="string"?t:t.nodeName)},isAnchor:function(t){return t&&/^A$/i.test(typeof t=="string"?t:t.nodeName)},isMedia:function(t){return t&&/^(IMG|IFRAME|AUDIO|VIDEO|CANVAS)$/i.test(typeof t=="string"?t:t.nodeName)},isFigures:function(t){return t&&(this.isMedia(t)||/^(FIGURE)$/i.test(typeof t=="string"?t:t.nodeName))},isNumber:function(t){return!!t&&/^-?\d+(\.\d+)?$/.test(t+"")},getNumber:function(t,e){if(!t)return 0;let n=(t+"").match(/-?\d+(\.\d+)?/);return!n||!n[0]?0:(n=n[0],e<0?n*1:e===0?this._w.Math.round(n*1):(n*1).toFixed(e)*1)},getListChildren:function(t,e){const n=[];return!t||!t.children||t.children.length===0||(e=e||function(){return!0},function i(s){if(t!==s&&e(s)&&n.push(s),s.children)for(let r=0,a=s.children.length;r<a;r++)i(s.children[r])}(t)),n},getListChildNodes:function(t,e){const n=[];return!t||t.childNodes.length===0||(e=e||function(){return!0},function i(s){t!==s&&e(s)&&n.push(s);for(let r=0,a=s.childNodes.length;r<a;r++)i(s.childNodes[r])}(t)),n},getElementDepth:function(t){if(!t||this.isWysiwygDiv(t))return-1;let e=0;for(t=t.parentNode;t&&!this.isWysiwygDiv(t);)e+=1,t=t.parentNode;return e},compareElements:function(t,e){let n=t,i=e;for(;n&&i&&n.parentNode!==i.parentNode;)n=n.parentNode,i=i.parentNode;if(!n||!i)return{ancestor:null,a:t,b:e,result:0};const s=n.parentNode.childNodes,r=this.getArrayIndex(s,n),a=this.getArrayIndex(s,i);return{ancestor:n.parentNode,a:n,b:i,result:r>a?1:r<a?-1:0}},getParentElement:function(t,e){let n;if(typeof e=="function")n=e;else{let i;/^\./.test(e)?(i="className",e=e.split(".")[1]):/^#/.test(e)?(i="id",e="^"+e.split("#")[1]+"$"):/^:/.test(e)?(i="name",e="^"+e.split(":")[1]+"$"):(i="nodeName",e="^"+e+"$");const s=new this._w.RegExp(e,"i");n=function(r){return s.test(r[i])}}for(;t&&!n(t);){if(this.isWysiwygDiv(t))return null;t=t.parentNode}return t},getChildElement:function(t,e,n){let i;if(typeof e=="function")i=e;else{let r;/^\./.test(e)?(r="className",e=e.split(".")[1]):/^#/.test(e)?(r="id",e="^"+e.split("#")[1]+"$"):/^:/.test(e)?(r="name",e="^"+e.split(":")[1]+"$"):(r="nodeName",e="^"+(e==="text"?"#"+e:e)+"$");const a=new this._w.RegExp(e,"i");i=function(l){return a.test(l[r])}}const s=this.getListChildNodes(t,function(r){return i(r)});return s[n?s.length-1:0]},getEdgeChildNodes:function(t,e){if(t){for(e||(e=t);t&&t.nodeType===1&&t.childNodes.length>0&&!this.isBreak(t);)t=t.firstChild;for(;e&&e.nodeType===1&&e.childNodes.length>0&&!this.isBreak(e);)e=e.lastChild;return{sc:t,ec:e||t}}},getOffset:function(t,e){let n=0,i=0,s=t.nodeType===3?t.parentElement:t;const r=this.getParentElement(t,this.isWysiwygDiv.bind(this));for(;s&&!this.hasClass(s,"se-container")&&s!==r;)n+=s.offsetLeft,i+=s.offsetTop,s=s.offsetParent;const a=e&&/iframe/i.test(e.nodeName);return{left:n+(a?e.parentElement.offsetLeft:0),top:i-(r?r.scrollTop:0)+(a?e.parentElement.offsetTop:0)}},getOverlapRangeAtIndex:function(t,e,n,i){if(t<=i?e<n:e>n)return 0;const s=(t>n?t:n)-(e<i?e:i);return(s<0?s*-1:s)+1},changeTxt:function(t,e){!t||!e||(t.textContent=e)},changeElement:function(t,e){if(typeof e=="string")if(t.outerHTML)t.outerHTML=e;else{const n=this.createElement("DIV");n.innerHTML=e,e=n.firstChild,t.parentNode.replaceChild(e,t)}else e.nodeType===1&&t.parentNode.replaceChild(e,t)},setStyle:function(t,e,n){t.style[e]=n,!n&&!t.style.cssText&&t.removeAttribute("style")},hasClass:function(t,e){if(t)return new this._w.RegExp(e).test(t.className)},addClass:function(t,e){!t||new this._w.RegExp("(\\s|^)"+e+"(\\s|$)").test(t.className)||(t.className+=(t.className.length>0?" ":"")+e)},removeClass:function(t,e){if(!t)return;const n=new this._w.RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(n," ").trim(),t.className.trim()||t.removeAttribute("class")},toggleClass:function(t,e){if(!t)return;let n=!1;const i=new this._w.RegExp("(\\s|^)"+e+"(\\s|$)");return i.test(t.className)?t.className=t.className.replace(i," ").trim():(t.className+=" "+e,n=!0),t.className.trim()||t.removeAttribute("class"),n},isImportantDisabled:function(t){return t.hasAttribute("data-important-disabled")},setDisabledButtons:function(t,e,n){for(let i=0,s=e.length;i<s;i++){let r=e[i];(n||!this.isImportantDisabled(r))&&(r.disabled=t),n&&(t?r.setAttribute("data-important-disabled",""):r.removeAttribute("data-important-disabled"))}},removeItem:function(t){t&&(typeof t.remove=="function"?t.remove():t.parentNode&&t.parentNode.removeChild(t))},removeItemAllParents:function(t,e,n){if(!t)return null;let i=null;return e||(e=function(s){if(s===n||this.isComponent(s))return!1;const r=s.textContent.trim();return r.length===0||/^(\n|\u200B)+$/.test(r)}.bind(this)),function s(r){if(!An.isWysiwygDiv(r)){const a=r.parentNode;a&&e(r)&&(i={sc:r.previousElementSibling,ec:r.nextElementSibling},An.removeItem(r),s(a))}}(t),i},detachNestedList:function(t,e){const n=this._deleteNestedList(t);let i,s;if(n){i=n.cloneNode(!1),s=n.childNodes;const a=this.getPositionIndex(t);for(;s[a];)i.appendChild(s[a])}else i=t;let r;if(e)r=this.getListChildren(i,function(a){return this.isListCell(a)&&!a.previousElementSibling}.bind(this));else{const a=this.getElementDepth(t)+2;r=this.getListChildren(t,function(l){return this.isListCell(l)&&!l.previousElementSibling&&this.getElementDepth(l)===a}.bind(this))}for(let a=0,l=r.length;a<l;a++)this._deleteNestedList(r[a]);return n&&(n.parentNode.insertBefore(i,n.nextSibling),s&&s.length===0&&this.removeItem(n)),i===t?i.parentNode:i},_deleteNestedList:function(t){const e=t.parentNode;let n=e,i=n.parentNode,s,r,a,l,o;for(;this.isListCell(i);){for(l=this.getPositionIndex(t),s=i.nextElementSibling,r=i.parentNode,a=n;a;){if(n=n.nextSibling,this.isList(a)){for(o=a.childNodes;o[l];)r.insertBefore(o[l],s);o.length===0&&this.removeItem(a)}else r.appendChild(a);a=n}n=r,i=r.parentNode}return e.children.length===0&&this.removeItem(e),r},splitElement:function(t,e,n){if(this.isWysiwygDiv(t))return t;if(e&&!this.isNumber(e)){const b=t.childNodes;let w=this.getPositionIndex(e);const v=t.cloneNode(!1),x=t.cloneNode(!1);for(let c=0,u=b.length;c<u;c++){if(c<w)v.appendChild(b[c]);else if(c>w)x.appendChild(b[c]);else continue;c--,u--,w--}return v.childNodes.length>0&&t.parentNode.insertBefore(v,t),x.childNodes.length>0&&t.parentNode.insertBefore(x,t.nextElementSibling),t}const i=t.parentNode;let s=0,r=1,a=!0,l,o,d;if((!n||n<0)&&(n=0),t.nodeType===3){if(s=this.getPositionIndex(t),e>=0&&t.length!==e){t.splitText(e);const b=this.getNodeFromPath([s+1],i);this.onlyZeroWidthSpace(b)&&(b.data=this.zeroWidthSpace)}}else if(t.nodeType===1){if(e===0){for(;t.firstChild;)t=t.firstChild;if(t.nodeType===3){const b=this.createTextNode(this.zeroWidthSpace);t.parentNode.insertBefore(b,t),t=b}}t.previousSibling?t=t.previousSibling:this.getElementDepth(t)===n&&(a=!1)}t.nodeType===1&&(r=0);let f=t;for(;this.getElementDepth(f)>n;)for(s=this.getPositionIndex(f)+r,f=f.parentNode,d=l,l=f.cloneNode(!1),o=f.childNodes,d&&(this.isListCell(l)&&this.isList(d)&&d.firstElementChild?(l.innerHTML=d.firstElementChild.innerHTML,An.removeItem(d.firstElementChild),d.children.length>0&&l.appendChild(d)):l.appendChild(d));o[s];)l.appendChild(o[s]);f.childNodes.length<=1&&(!f.firstChild||f.firstChild.textContent.length===0)&&(f.innerHTML="<br>");const y=f.parentNode;return a&&(f=f.nextSibling),l?(this.mergeSameTags(l,null,!1),this.mergeNestedTags(l,function(b){return this.isList(b)}.bind(this)),l.childNodes.length>0?y.insertBefore(l,f):l=f,this.isListCell(l)&&l.children&&this.isList(l.children[0])&&l.insertBefore(this.createElement("BR"),l.children[0]),i.childNodes.length===0&&this.removeItem(i),l):f},mergeSameTags:function(t,e,n){const i=this,s=e?e.length:0;let r=null;return s&&(r=this._w.Array.apply(null,new this._w.Array(s)).map(this._w.Number.prototype.valueOf,0)),function a(l,o,d){const f=l.childNodes;for(let y=0,b=f.length,w,v;y<b&&(w=f[y],v=f[y+1],!!w);y++){if(n&&i._isIgnoreNodeChange(w)||!n&&(i.isTable(w)||i.isListCell(w)||i.isFormatElement(w)&&!i.isFreeFormatElement(w))){(i.isTable(w)||i.isListCell(w))&&a(w,o+1,y);continue}if(b===1&&l.nodeName===w.nodeName&&l.parentNode){if(s){let x,c,u,h,p;for(let m=0;m<s;m++)if(x=e[m],x&&x[o]===y){for(c=w,u=l,h=o,p=!0;h>=0;){if(i.getArrayIndex(u.childNodes,c)!==x[h]){p=!1;break}c=w.parentNode,u=c.parentNode,h--}p&&(x.splice(o,1),x[o]=y)}}i.copyTagAttributes(w,l),l.parentNode.insertBefore(w,l),i.removeItem(l)}if(!v){w.nodeType===1&&a(w,o+1,y);break}if(w.nodeName===v.nodeName&&i.isSameAttributes(w,v)&&w.href===v.href){const x=w.childNodes;let c=0;for(let m=0,g=x.length;m<g;m++)x[m].textContent.length>0&&c++;const u=w.lastChild,h=v.firstChild;let p=0;if(u&&h){const m=u.nodeType===3&&h.nodeType===3;p=u.textContent.length;let g=u.previousSibling;for(;g&&g.nodeType===3;)p+=g.textContent.length,g=g.previousSibling;if(c>0&&u.nodeType===3&&h.nodeType===3&&(u.textContent.length>0||h.textContent.length>0)&&c--,s){let _=null;for(let C=0;C<s;C++)if(_=e[C],_&&_[o]>y){if(o>0&&_[o-1]!==d)continue;_[o]-=1,_[o+1]>=0&&_[o]===y&&(_[o+1]+=c,m&&u&&u.nodeType===3&&h&&h.nodeType===3&&(r[C]+=p))}}}if(w.nodeType===3){if(p=w.textContent.length,w.textContent+=v.textContent,s){let m=null;for(let g=0;g<s;g++)if(m=e[g],m&&m[o]>y){if(o>0&&m[o-1]!==d)continue;m[o]-=1,m[o+1]>=0&&m[o]===y&&(m[o+1]+=c,r[g]+=p)}}}else w.innerHTML+=v.innerHTML;i.removeItem(v),y--}else w.nodeType===1&&a(w,o+1,y)}}(t,0,0),r},mergeNestedTags:function(t,e){typeof e=="string"?e=function(n){return this.test(n.tagName)}.bind(new this._w.RegExp("^("+(e||".+")+")$","i")):typeof e!="function"&&(e=function(){return!0}),function n(i){let s=i.children;if(s.length===1&&s[0].nodeName===i.nodeName&&e(i)){const r=s[0];for(s=r.children;s[0];)i.appendChild(s[0]);i.removeChild(r)}for(let r=0,a=i.children.length;r<a;r++)n(i.children[r])}(t)},removeEmptyNode:function(t,e,n){const i=this;e&&(e=i.getParentElement(e,function(s){return t===s.parentElement})),function s(r){if(i._notTextNode(r)||r===e||i.isNonEditable(r))return 0;if(r!==t&&i.onlyZeroWidthSpace(r.textContent)&&(!r.firstChild||!i.isBreak(r.firstChild))&&!r.querySelector(i._allowedEmptyNodeList)){if(r.parentNode)return r.parentNode.removeChild(r),-1}else{const a=r.children;for(let l=0,o=a.length,d=0;l<o;l++)!a[l+d]||i.isComponent(a[l+d])||(d+=s(a[l+d]))}return 0}(t),t.childNodes.length===0&&(n?this.removeItem(t):t.innerHTML="<br>")},htmlRemoveWhiteSpace:function(t){return t?t.trim().replace(/<\/?(?!strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label|code|summary)[^>^<]+>\s+(?=<)/ig,function(e){return e.replace(/\n/g,"").replace(/\s+/," ")}):""},htmlCompress:function(t){return t.replace(/\n/g,"").replace(/(>)(?:\s+)(<)/g,"$1$2")},sortByDepth:function(t,e){const n=e?1:-1,i=n*-1;t.sort(function(s,r){return!this.isListCell(s)||!this.isListCell(r)?0:(s=this.getElementDepth(s),r=this.getElementDepth(r),s>r?n:s<r?i:0)}.bind(this))},_isExcludeSelectionElement:function(t){return!/FIGCAPTION/i.test(t.nodeName)&&(this.isComponent(t)||/FIGURE/i.test(t.nodeName))},_isIgnoreNodeChange:function(t){return t&&t.nodeType!==3&&(this.isNonEditable(t)||!this.isTextStyleElement(t))},_isMaintainedNode:function(t){return t&&t.nodeType!==3&&/^(a|label|code|summary)$/i.test(typeof t=="string"?t:t.nodeName)},_isSizeNode:function(t){return t&&t.nodeType!==3&&this.isTextStyleElement(t)&&!!t.style.fontSize},_notTextNode:function(t){return t&&t.nodeType!==3&&(this.isComponent(t)||/^(br|input|select|canvas|img|iframe|audio|video)$/i.test(typeof t=="string"?t:t.nodeName))},_disallowedTags:function(t){return/^(meta|script|link|style|[a-z]+\:[a-z]+)$/i.test(t.nodeName)},createTagsWhitelist:function(t){return new RegExp("<\\/?\\b(?!\\b"+(t||"").replace(/\|/g,"\\b|\\b")+"\\b)[^>]*>","gi")},createTagsBlacklist:function(t){return new RegExp("<\\/?\\b(?:\\b"+(t||"^").replace(/\|/g,"\\b|\\b")+"\\b)[^>]*>","gi")},_consistencyCheckOfHTML:function(t,e,n,i){const s=[],r=[],a=[],l=[],o=this.getListChildNodes(t,function(f){if(f.nodeType!==1)return this.isList(f.parentElement)&&s.push(f),!1;if(n.test(f.nodeName)||!e.test(f.nodeName)&&f.childNodes.length===0&&this.isNotCheckingNode(f))return s.push(f),!1;const y=!this.getParentElement(f,this.isNotCheckingNode);if(!this.isTable(f)&&!this.isListCell(f)&&!this.isAnchor(f)&&(this.isFormatElement(f)||this.isRangeFormatElement(f)||this.isTextStyleElement(f))&&f.childNodes.length===0&&y)return r.push(f),!1;if(this.isList(f.parentNode)&&!this.isList(f)&&!this.isListCell(f))return a.push(f),!1;if(this.isCell(f)){const w=f.firstElementChild;if(!this.isFormatElement(w)&&!this.isRangeFormatElement(w)&&!this.isComponent(w))return l.push(f),!1}if(y&&f.className){const w=new this._w.Array(f.classList).map(i).join(" ").trim();w?f.className=w:f.removeAttribute("class")}return f.parentNode!==t&&y&&(this.isListCell(f)&&!this.isList(f.parentNode)||(this.isFormatElement(f)||this.isComponent(f))&&!this.isRangeFormatElement(f.parentNode)&&!this.getParentElement(f,this.isComponent))}.bind(this));for(let f=0,y=s.length;f<y;f++)this.removeItem(s[f]);const d=[];for(let f=0,y=o.length,b,w;f<y;f++)if(b=o[f],w=b.parentNode,!(!w||!w.parentNode))if(this.getParentElement(b,this.isListCell)){const v=b.childNodes;for(let x=v.length-1;y>=0;x--)w.insertBefore(b,v[x]);d.push(b)}else w.parentNode.insertBefore(b,w),d.push(w);for(let f=0,y=d.length,b;f<y;f++)b=d[f],this.onlyZeroWidthSpace(b.textContent.trim())&&this.removeItem(b);for(let f=0,y=r.length;f<y;f++)this.removeItem(r[f]);for(let f=0,y=a.length,b,w,v,x;f<y;f++)if(b=a[f],x=b.parentNode,!!x)if(w=this.createElement("LI"),this.isFormatElement(b)){for(v=b.childNodes;v[0];)w.appendChild(v[0]);x.insertBefore(w,b),this.removeItem(b)}else b=b.nextSibling,w.appendChild(a[f]),x.insertBefore(w,b);for(let f=0,y=l.length,b,w;f<y;f++)b=l[f],w=this.createElement("DIV"),w.innerHTML=b.textContent.trim().length===0&&b.children.length===0?"<br>":b.innerHTML,b.innerHTML=w.outerHTML},_setDefaultOptionStyle:function(t,e){let n="";t.height&&(n+="height:"+t.height+";"),t.minHeight&&(n+="min-height:"+t.minHeight+";"),t.maxHeight&&(n+="max-height:"+t.maxHeight+";"),t.position&&(n+="position:"+t.position+";"),t.width&&(n+="width:"+t.width+";"),t.minWidth&&(n+="min-width:"+t.minWidth+";"),t.maxWidth&&(n+="max-width:"+t.maxWidth+";");let i="",s="",r="";e=n+e;const a=e.split(";");for(let l=0,o=a.length,d;l<o;l++)if(d=a[l].trim(),!!d){if(/^(min-|max-)?width\s*:/.test(d)||/^(z-index|position)\s*:/.test(d)){i+=d+";";continue}if(/^(min-|max-)?height\s*:/.test(d)){/^height/.test(d)&&d.split(":")[1].trim()==="auto"&&(t.height="auto"),s+=d+";";continue}r+=d+";"}return{top:i,frame:s,editor:r}},_setIframeDocument:function(t,e){t.setAttribute("scrolling","auto"),t.contentDocument.head.innerHTML='<meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">'+this._setIframeCssTags(e),t.contentDocument.body.className=e._editableClass,t.contentDocument.body.setAttribute("contenteditable",!0)},_setIframeCssTags:function(t){const e=t.iframeCSSFileName,n=this._w.RegExp;let i="";for(let s=0,r=e.length,a;s<r;s++){if(a=[],/(^https?:\/\/)|(^data:text\/css,)/.test(e[s]))a.push(e[s]);else{const l=new n("(^|.*[\\/])"+e[s]+"(\\..+)?\\.css(?:\\?.*|;.*)?$","i");for(let o=document.getElementsByTagName("link"),d=0,f=o.length,y;d<f;d++)y=o[d].href.match(l),y&&a.push(y[0])}if(!a||a.length===0)throw'[SUNEDITOR.constructor.iframe.fail] The suneditor CSS files installation path could not be automatically detected. Please set the option property "iframeCSSFileName" before creating editor instances.';for(let l=0,o=a.length;l<o;l++)i+='<link href="'+a[l]+'" rel="stylesheet">'}return i+(t.height==="auto"?`<style>
/** Iframe height auto */
body{height: min-content; overflow: hidden;}
</style>`:"")}},ve=An,Pr={init:function(t,e){typeof e!="object"&&(e={});const n=document;this._initOptions(t,e);const i=n.createElement("DIV");i.className="sun-editor"+(e.rtl?" se-rtl":""),t.id&&(i.id="suneditor_"+t.id);const s=n.createElement("DIV");s.className="se-container";const r=this._createToolBar(n,e.buttonList,e.plugins,e),a=r.element.cloneNode(!1);a.className+=" se-toolbar-shadow",r.element.style.visibility="hidden",r.pluginCallButtons.math&&this._checkKatexMath(e.katex);const l=n.createElement("DIV");l.className="se-arrow";const o=n.createElement("DIV");o.className="se-toolbar-sticky-dummy";const d=n.createElement("DIV");d.className="se-wrapper";const f=this._initElements(e,i,r.element,l),y=f.bottomBar,b=f.wysiwygFrame,w=f.placeholder;let v=f.codeView;const x=y.resizingBar,c=y.navigation,u=y.charWrapper,h=y.charCounter,p=n.createElement("DIV");p.className="se-loading-box sun-editor-common",p.innerHTML='<div class="se-loading-effect"></div>';const m=n.createElement("DIV");m.className="se-line-breaker",m.innerHTML='<button class="se-btn">'+e.icons.line_break+"</button>";const g=n.createElement("DIV");g.className+="se-line-breaker-component";const _=g.cloneNode(!0);g.innerHTML=_.innerHTML=e.icons.line_break;const C=n.createElement("DIV");C.className="se-resizing-back";const E=e.toolbarContainer;E&&(E.appendChild(r.element),E.appendChild(a));const k=e.resizingBarContainer;return x&&k&&k.appendChild(x),d.appendChild(v),w&&d.appendChild(w),E||(s.appendChild(r.element),s.appendChild(a)),s.appendChild(o),s.appendChild(d),s.appendChild(C),s.appendChild(p),s.appendChild(m),s.appendChild(g),s.appendChild(_),x&&!k&&s.appendChild(x),i.appendChild(s),v=this._checkCodeMirror(e,v),{constructed:{_top:i,_relative:s,_toolBar:r.element,_toolbarShadow:a,_menuTray:r._menuTray,_editorArea:d,_wysiwygArea:b,_codeArea:v,_placeholder:w,_resizingBar:x,_navigation:c,_charWrapper:u,_charCounter:h,_loading:p,_lineBreaker:m,_lineBreaker_t:g,_lineBreaker_b:_,_resizeBack:C,_stickyDummy:o,_arrow:l},options:e,plugins:r.plugins,pluginCallButtons:r.pluginCallButtons,_responsiveButtons:r.responsiveButtons}},_checkCodeMirror:function(t,e){if(t.codeMirror){const n=[{mode:"htmlmixed",htmlMode:!0,lineNumbers:!0,lineWrapping:!0},t.codeMirror.options||{}].reduce(function(s,r){for(let a in r)ve.hasOwn(r,a)&&(s[a]=r[a]);return s},{});t.height==="auto"&&(n.viewportMargin=1/0,n.height="auto");const i=t.codeMirror.src.fromTextArea(e,n);i.display.wrapper.style.cssText=e.style.cssText,t.codeMirrorEditor=i,e=i.display.wrapper,e.className+=" se-wrapper-code-mirror"}return e},_checkKatexMath:function(t){if(!t)throw Error('[SUNEDITOR.create.fail] To use the math button you need to add a "katex" object to the options.');const e=[{throwOnError:!1},t.options||{}].reduce(function(n,i){for(let s in i)ve.hasOwn(i,s)&&(n[s]=i[s]);return n},{});t.options=e},_setOptions:function(t,e,n){this._initOptions(e.element.originElement,t);const i=e.element,s=i.relative,r=i.editorArea,a=t.toolbarContainer&&t.toolbarContainer!==n.toolbarContainer,l=t.lang!==n.lang||t.buttonList!==n.buttonList||t.mode!==n.mode||a,o=this._createToolBar(document,l?t.buttonList:n.buttonList,t.plugins,t);o.pluginCallButtons.math&&this._checkKatexMath(t.katex);const d=document.createElement("DIV");d.className="se-arrow",l&&(o.element.style.visibility="hidden",a?(t.toolbarContainer.appendChild(o.element),i.toolbar.parentElement.removeChild(i.toolbar)):i.toolbar.parentElement.replaceChild(o.element,i.toolbar),i.toolbar=o.element,i._menuTray=o._menuTray,i._arrow=d);const f=this._initElements(t,i.topArea,l?o.element:i.toolbar,d),y=f.bottomBar,b=f.wysiwygFrame,w=f.placeholder;let v=f.codeView;return i.resizingBar&&ve.removeItem(i.resizingBar),y.resizingBar&&(t.resizingBarContainer&&t.resizingBarContainer!==n.resizingBarContainer?t.resizingBarContainer.appendChild(y.resizingBar):s.appendChild(y.resizingBar)),r.innerHTML="",r.appendChild(v),w&&r.appendChild(w),v=this._checkCodeMirror(t,v),i.resizingBar=y.resizingBar,i.navigation=y.navigation,i.charWrapper=y.charWrapper,i.charCounter=y.charCounter,i.wysiwygFrame=b,i.code=v,i.placeholder=w,t.rtl?ve.addClass(i.topArea,"se-rtl"):ve.removeClass(i.topArea,"se-rtl"),{callButtons:o.pluginCallButtons,plugins:o.plugins,toolbar:o}},_initElements:function(t,e,n,i){e.style.cssText=t._editorStyles.top,/inline/i.test(t.mode)?(n.className+=" se-toolbar-inline",n.style.width=t.toolbarWidth):/balloon/i.test(t.mode)&&(n.className+=" se-toolbar-balloon",n.style.width=t.toolbarWidth,n.appendChild(i));const s=document.createElement(t.iframe?"IFRAME":"DIV");if(s.className="se-wrapper-inner se-wrapper-wysiwyg",t.iframe)s.allowFullscreen=!0,s.frameBorder=0,s.style.cssText=t._editorStyles.frame,s.className+=t.className;else{s.setAttribute("contenteditable",!0),s.setAttribute("scrolling","auto");for(let y in t.iframeAttributes)s.setAttribute(y,t.iframeAttributes[y]);s.className+=" "+t._editableClass,s.style.cssText=t._editorStyles.frame+t._editorStyles.editor,s.className+=t.className}const r=document.createElement("TEXTAREA");r.className="se-wrapper-inner se-wrapper-code"+t.className,r.style.cssText=t._editorStyles.frame,r.style.display="none",t.height==="auto"&&(r.style.overflow="hidden");let a=null,l=null,o=null,d=null;if(t.resizingBar&&(a=document.createElement("DIV"),a.className="se-resizing-bar sun-editor-common",l=document.createElement("DIV"),l.className="se-navigation sun-editor-common",a.appendChild(l),t.charCounter)){if(o=document.createElement("DIV"),o.className="se-char-counter-wrapper",t.charCounterLabel){const y=document.createElement("SPAN");y.className="se-char-label",y.textContent=t.charCounterLabel,o.appendChild(y)}if(d=document.createElement("SPAN"),d.className="se-char-counter",d.textContent="0",o.appendChild(d),t.maxCharCount>0){const y=document.createElement("SPAN");y.textContent=" / "+t.maxCharCount,o.appendChild(y)}a.appendChild(o)}let f=null;return t.placeholder&&(f=document.createElement("SPAN"),f.className="se-placeholder",f.innerText=t.placeholder),{bottomBar:{resizingBar:a,navigation:l,charWrapper:o,charCounter:d},wysiwygFrame:s,codeView:r,placeholder:f}},_initOptions:function(t,e){const n={};if(e.plugins){const r=e.plugins,a=r.length?r:Object.keys(r).map(function(l){return r[l]});for(let l=0,o=a.length,d;l<o;l++)d=a[l].default||a[l],n[d.name]=d}e.plugins=n,e.lang=e.lang||z1,e.value=typeof e.value=="string"?e.value:null,e.allowedClassNames=new ve._w.RegExp((e.allowedClassNames&&typeof e.allowedClassNames=="string"?e.allowedClassNames+"|":"")+"^__se__|se-|katex"),e.historyStackDelayTime=typeof e.historyStackDelayTime=="number"?e.historyStackDelayTime:400,e.frameAttrbutes=e.frameAttrbutes||{},e.defaultTag=typeof e.defaultTag=="string"&&e.defaultTag.length>0?e.defaultTag:"p";const i=e.textTags=[{bold:"STRONG",underline:"U",italic:"EM",strike:"DEL",sub:"SUB",sup:"SUP"},e.textTags||{}].reduce(function(r,a){for(let l in a)r[l]=a[l];return r},{});e._textTagsMap={strong:i.bold.toLowerCase(),b:i.bold.toLowerCase(),u:i.underline.toLowerCase(),ins:i.underline.toLowerCase(),em:i.italic.toLowerCase(),i:i.italic.toLowerCase(),del:i.strike.toLowerCase(),strike:i.strike.toLowerCase(),s:i.strike.toLowerCase(),sub:i.sub.toLowerCase(),sup:i.sup.toLowerCase()},e._defaultCommand={bold:e.textTags.bold,underline:e.textTags.underline,italic:e.textTags.italic,strike:e.textTags.strike,subscript:e.textTags.sub,superscript:e.textTags.sup},e.__allowedScriptTag=e.__allowedScriptTag===!0;const s="br|p|div|pre|blockquote|h1|h2|h3|h4|h5|h6|ol|ul|li|hr|figure|figcaption|img|iframe|audio|video|source|table|thead|tbody|tr|th|td|a|b|strong|var|i|em|u|ins|s|span|strike|del|sub|sup|code|svg|path|details|summary";e.tagsBlacklist=e.tagsBlacklist||"",e._defaultTagsWhitelist=(typeof e._defaultTagsWhitelist=="string"?e._defaultTagsWhitelist:s)+(e.__allowedScriptTag?"|script":""),e._editorTagsWhitelist=e.addTagsWhitelist==="*"?"*":this._setWhitelist(e._defaultTagsWhitelist+(typeof e.addTagsWhitelist=="string"&&e.addTagsWhitelist.length>0?"|"+e.addTagsWhitelist:""),e.tagsBlacklist),e.pasteTagsBlacklist=e.tagsBlacklist+(e.tagsBlacklist&&e.pasteTagsBlacklist?"|"+e.pasteTagsBlacklist:e.pasteTagsBlacklist||""),e.pasteTagsWhitelist=e.pasteTagsWhitelist==="*"?"*":this._setWhitelist(typeof e.pasteTagsWhitelist=="string"?e.pasteTagsWhitelist:e._editorTagsWhitelist,e.pasteTagsBlacklist),e.attributesWhitelist=!e.attributesWhitelist||typeof e.attributesWhitelist!="object"?null:e.attributesWhitelist,e.attributesBlacklist=!e.attributesBlacklist||typeof e.attributesBlacklist!="object"?null:e.attributesBlacklist,e.mode=e.mode||"classic",e.rtl=!!e.rtl,e.lineAttrReset=["id"].concat(e.lineAttrReset&&typeof e.lineAttrReset=="string"?e.lineAttrReset.toLowerCase().split("|"):[]),e._editableClass="sun-editor-editable"+(e.rtl?" se-rtl":""),e._printClass=typeof e._printClass=="string"?e._printClass:null,e.toolbarWidth=e.toolbarWidth?ve.isNumber(e.toolbarWidth)?e.toolbarWidth+"px":e.toolbarWidth:"auto",e.toolbarContainer=typeof e.toolbarContainer=="string"?document.querySelector(e.toolbarContainer):e.toolbarContainer,e.stickyToolbar=/balloon/i.test(e.mode)||e.toolbarContainer?-1:e.stickyToolbar===void 0?0:/^\d+/.test(e.stickyToolbar)?ve.getNumber(e.stickyToolbar,0):-1,e.hideToolbar=!!e.hideToolbar,e.fullScreenOffset=e.fullScreenOffset===void 0?0:/^\d+/.test(e.fullScreenOffset)?ve.getNumber(e.fullScreenOffset,0):0,e.fullPage=!!e.fullPage,e.iframe=e.fullPage||!!e.iframe,e.iframeAttributes=e.iframeAttributes||{},e.iframeCSSFileName=e.iframe?typeof e.iframeCSSFileName=="string"?[e.iframeCSSFileName]:e.iframeCSSFileName||["suneditor"]:null,e.previewTemplate=typeof e.previewTemplate=="string"?e.previewTemplate:null,e.printTemplate=typeof e.printTemplate=="string"?e.printTemplate:null,e.codeMirror=e.codeMirror?e.codeMirror.src?e.codeMirror:{src:e.codeMirror}:null,e.katex=e.katex?e.katex.src?e.katex:{src:e.katex}:null,e.mathFontSize=e.mathFontSize?e.mathFontSize:[{text:"1",value:"1em"},{text:"1.5",value:"1.5em"},{text:"2",value:"2em"},{text:"2.5",value:"2.5em"}],e.position=typeof e.position=="string"?e.position:null,e.display=e.display||(t.style.display==="none"||!t.style.display?"block":t.style.display),e.popupDisplay=e.popupDisplay||"full",e.resizingBar=e.resizingBar===void 0?!/inline|balloon/i.test(e.mode):e.resizingBar,e.showPathLabel=e.resizingBar?typeof e.showPathLabel=="boolean"?e.showPathLabel:!0:!1,e.resizeEnable=e.resizeEnable===void 0?!0:!!e.resizeEnable,e.resizingBarContainer=typeof e.resizingBarContainer=="string"?document.querySelector(e.resizingBarContainer):e.resizingBarContainer,e.charCounter=e.maxCharCount>0?!0:typeof e.charCounter=="boolean"?e.charCounter:!1,e.charCounterType=typeof e.charCounterType=="string"?e.charCounterType:"char",e.charCounterLabel=typeof e.charCounterLabel=="string"?e.charCounterLabel.trim():null,e.maxCharCount=ve.isNumber(e.maxCharCount)&&e.maxCharCount>-1?e.maxCharCount*1:null,e.width=e.width?ve.isNumber(e.width)?e.width+"px":e.width:t.clientWidth?t.clientWidth+"px":"100%",e.minWidth=(ve.isNumber(e.minWidth)?e.minWidth+"px":e.minWidth)||"",e.maxWidth=(ve.isNumber(e.maxWidth)?e.maxWidth+"px":e.maxWidth)||"",e.height=e.height?ve.isNumber(e.height)?e.height+"px":e.height:t.clientHeight?t.clientHeight+"px":"auto",e.minHeight=(ve.isNumber(e.minHeight)?e.minHeight+"px":e.minHeight)||"",e.maxHeight=(ve.isNumber(e.maxHeight)?e.maxHeight+"px":e.maxHeight)||"",e.className=typeof e.className=="string"&&e.className.length>0?" "+e.className:"",e.defaultStyle=typeof e.defaultStyle=="string"?e.defaultStyle:"",e.font=e.font?e.font:["Arial","Comic Sans MS","Courier New","Impact","Georgia","tahoma","Trebuchet MS","Verdana"],e.fontSize=e.fontSize?e.fontSize:null,e.formats=e.formats?e.formats:null,e.colorList=e.colorList?e.colorList:null,e.lineHeights=e.lineHeights?e.lineHeights:null,e.paragraphStyles=e.paragraphStyles?e.paragraphStyles:null,e.textStyles=e.textStyles?e.textStyles:null,e.fontSizeUnit=typeof e.fontSizeUnit=="string"&&e.fontSizeUnit.trim().toLowerCase()||"px",e.alignItems=typeof e.alignItems=="object"?e.alignItems:e.rtl?["right","center","left","justify"]:["left","center","right","justify"],e.imageResizing=e.imageResizing===void 0?!0:e.imageResizing,e.imageHeightShow=e.imageHeightShow===void 0?!0:!!e.imageHeightShow,e.imageAlignShow=e.imageAlignShow===void 0?!0:!!e.imageAlignShow,e.imageWidth=e.imageWidth?ve.isNumber(e.imageWidth)?e.imageWidth+"px":e.imageWidth:"auto",e.imageHeight=e.imageHeight?ve.isNumber(e.imageHeight)?e.imageHeight+"px":e.imageHeight:"auto",e.imageSizeOnlyPercentage=!!e.imageSizeOnlyPercentage,e._imageSizeUnit=e.imageSizeOnlyPercentage?"%":"px",e.imageRotation=e.imageRotation!==void 0?e.imageRotation:!(e.imageSizeOnlyPercentage||!e.imageHeightShow),e.imageFileInput=e.imageFileInput===void 0?!0:e.imageFileInput,e.imageUrlInput=e.imageUrlInput===void 0||!e.imageFileInput?!0:e.imageUrlInput,e.imageUploadHeader=e.imageUploadHeader||null,e.imageUploadUrl=typeof e.imageUploadUrl=="string"?e.imageUploadUrl:null,e.imageUploadSizeLimit=/\d+/.test(e.imageUploadSizeLimit)?ve.getNumber(e.imageUploadSizeLimit,0):null,e.imageMultipleFile=!!e.imageMultipleFile,e.imageAccept=typeof e.imageAccept!="string"||e.imageAccept.trim()==="*"?"image/*":e.imageAccept.trim()||"image/*",e.imageGalleryUrl=typeof e.imageGalleryUrl=="string"?e.imageGalleryUrl:null,e.imageGalleryHeader=e.imageGalleryHeader||null,e.videoResizing=e.videoResizing===void 0?!0:e.videoResizing,e.videoHeightShow=e.videoHeightShow===void 0?!0:!!e.videoHeightShow,e.videoAlignShow=e.videoAlignShow===void 0?!0:!!e.videoAlignShow,e.videoRatioShow=e.videoRatioShow===void 0?!0:!!e.videoRatioShow,e.videoWidth=!e.videoWidth||!ve.getNumber(e.videoWidth,0)?"":ve.isNumber(e.videoWidth)?e.videoWidth+"px":e.videoWidth,e.videoHeight=!e.videoHeight||!ve.getNumber(e.videoHeight,0)?"":ve.isNumber(e.videoHeight)?e.videoHeight+"px":e.videoHeight,e.videoSizeOnlyPercentage=!!e.videoSizeOnlyPercentage,e._videoSizeUnit=e.videoSizeOnlyPercentage?"%":"px",e.videoRotation=e.videoRotation!==void 0?e.videoRotation:!(e.videoSizeOnlyPercentage||!e.videoHeightShow),e.videoRatio=ve.getNumber(e.videoRatio,4)||.5625,e.videoRatioList=e.videoRatioList?e.videoRatioList:null,e.youtubeQuery=(e.youtubeQuery||"").replace("?",""),e.videoFileInput=!!e.videoFileInput,e.videoUrlInput=e.videoUrlInput===void 0||!e.videoFileInput?!0:e.videoUrlInput,e.videoUploadHeader=e.videoUploadHeader||null,e.videoUploadUrl=typeof e.videoUploadUrl=="string"?e.videoUploadUrl:null,e.videoUploadSizeLimit=/\d+/.test(e.videoUploadSizeLimit)?ve.getNumber(e.videoUploadSizeLimit,0):null,e.videoMultipleFile=!!e.videoMultipleFile,e.videoTagAttrs=e.videoTagAttrs||null,e.videoIframeAttrs=e.videoIframeAttrs||null,e.videoAccept=typeof e.videoAccept!="string"||e.videoAccept.trim()==="*"?"video/*":e.videoAccept.trim()||"video/*",e.audioWidth=e.audioWidth?ve.isNumber(e.audioWidth)?e.audioWidth+"px":e.audioWidth:"",e.audioHeight=e.audioHeight?ve.isNumber(e.audioHeight)?e.audioHeight+"px":e.audioHeight:"",e.audioFileInput=!!e.audioFileInput,e.audioUrlInput=e.audioUrlInput===void 0||!e.audioFileInput?!0:e.audioUrlInput,e.audioUploadHeader=e.audioUploadHeader||null,e.audioUploadUrl=typeof e.audioUploadUrl=="string"?e.audioUploadUrl:null,e.audioUploadSizeLimit=/\d+/.test(e.audioUploadSizeLimit)?ve.getNumber(e.audioUploadSizeLimit,0):null,e.audioMultipleFile=!!e.audioMultipleFile,e.audioTagAttrs=e.audioTagAttrs||null,e.audioAccept=typeof e.audioAccept!="string"||e.audioAccept.trim()==="*"?"audio/*":e.audioAccept.trim()||"audio/*",e.tableCellControllerPosition=typeof e.tableCellControllerPosition=="string"?e.tableCellControllerPosition.toLowerCase():"cell",e.linkTargetNewWindow=!!e.linkTargetNewWindow,e.linkProtocol=typeof e.linkProtocol=="string"?e.linkProtocol:null,e.linkRel=Array.isArray(e.linkRel)?e.linkRel:[],e.linkRelDefault=e.linkRelDefault||{},e.tabDisable=!!e.tabDisable,e.shortcutsDisable=Array.isArray(e.shortcutsDisable)?e.shortcutsDisable:[],e.shortcutsHint=e.shortcutsHint===void 0?!0:!!e.shortcutsHint,e.callBackSave=e.callBackSave?e.callBackSave:null,e.templates=e.templates?e.templates:null,e.placeholder=typeof e.placeholder=="string"?e.placeholder:null,e.mediaAutoSelect=e.mediaAutoSelect===void 0?!0:!!e.mediaAutoSelect,e.buttonList=e.buttonList?e.buttonList:[["undo","redo"],["bold","underline","italic","strike","subscript","superscript"],["removeFormat"],["outdent","indent"],["fullScreen","showBlocks","codeView"],["preview","print"]],e.rtl&&(e.buttonList=e.buttonList.reverse()),e.icons=!e.icons||typeof e.icons!="object"?bl:[bl,e.icons].reduce(function(r,a){for(let l in a)ve.hasOwn(a,l)&&(r[l]=a[l]);return r},{}),e.icons=e.rtl?[e.icons,e.icons.rtl].reduce(function(r,a){for(let l in a)ve.hasOwn(a,l)&&(r[l]=a[l]);return r},{}):e.icons,e.__listCommonStyle=e.__listCommonStyle||["fontSize","color","fontFamily","fontWeight","fontStyle"],e._editorStyles=ve._setDefaultOptionStyle(e,e.defaultStyle)},_setWhitelist:function(t,e){if(typeof e!="string")return t;e=e.split("|"),t=t.split("|");for(let n=0,i=e.length,s;n<i;n++)s=t.indexOf(e[n]),s>-1&&t.splice(s,1);return t.join("|")},_defaultButtons:function(t){const e=t.icons,n=t.lang,i=ve.isOSX_IOS?"⌘":"CTRL",s=ve.isOSX_IOS?"⇧":"+SHIFT",r=t.shortcutsHint?t.shortcutsDisable:["bold","strike","underline","italic","undo","indent","save"],a=t.rtl?["[","]"]:["]","["],l=t.rtl?[e.outdent,e.indent]:[e.indent,e.outdent];return{bold:["",n.toolbar.bold+'<span class="se-shortcut">'+(r.indexOf("bold")>-1?"":i+'+<span class="se-shortcut-key">B</span>')+"</span>","bold","",e.bold],underline:["",n.toolbar.underline+'<span class="se-shortcut">'+(r.indexOf("underline")>-1?"":i+'+<span class="se-shortcut-key">U</span>')+"</span>","underline","",e.underline],italic:["",n.toolbar.italic+'<span class="se-shortcut">'+(r.indexOf("italic")>-1?"":i+'+<span class="se-shortcut-key">I</span>')+"</span>","italic","",e.italic],strike:["",n.toolbar.strike+'<span class="se-shortcut">'+(r.indexOf("strike")>-1?"":i+s+'+<span class="se-shortcut-key">S</span>')+"</span>","strike","",e.strike],subscript:["",n.toolbar.subscript,"SUB","",e.subscript],superscript:["",n.toolbar.superscript,"SUP","",e.superscript],removeFormat:["",n.toolbar.removeFormat,"removeFormat","",e.erase],indent:["",n.toolbar.indent+'<span class="se-shortcut">'+(r.indexOf("indent")>-1?"":i+'+<span class="se-shortcut-key">'+a[0]+"</span>")+"</span>","indent","",l[0]],outdent:["",n.toolbar.outdent+'<span class="se-shortcut">'+(r.indexOf("indent")>-1?"":i+'+<span class="se-shortcut-key">'+a[1]+"</span>")+"</span>","outdent","",l[1]],fullScreen:["se-code-view-enabled se-resizing-enabled",n.toolbar.fullScreen,"fullScreen","",e.expansion],showBlocks:["",n.toolbar.showBlocks,"showBlocks","",e.show_blocks],codeView:["se-code-view-enabled se-resizing-enabled",n.toolbar.codeView,"codeView","",e.code_view],undo:["",n.toolbar.undo+'<span class="se-shortcut">'+(r.indexOf("undo")>-1?"":i+'+<span class="se-shortcut-key">Z</span>')+"</span>","undo","",e.undo],redo:["",n.toolbar.redo+'<span class="se-shortcut">'+(r.indexOf("undo")>-1?"":i+'+<span class="se-shortcut-key">Y</span> / '+i+s+'+<span class="se-shortcut-key">Z</span>')+"</span>","redo","",e.redo],preview:["se-resizing-enabled",n.toolbar.preview,"preview","",e.preview],print:["se-resizing-enabled",n.toolbar.print,"print","",e.print],dir:["",n.toolbar[t.rtl?"dir_ltr":"dir_rtl"],"dir","",e[t.rtl?"dir_ltr":"dir_rtl"]],dir_ltr:["",n.toolbar.dir_ltr,"dir_ltr","",e.dir_ltr],dir_rtl:["",n.toolbar.dir_rtl,"dir_rtl","",e.dir_rtl],save:["se-resizing-enabled",n.toolbar.save+'<span class="se-shortcut">'+(r.indexOf("save")>-1?"":i+'+<span class="se-shortcut-key">S</span>')+"</span>","save","",e.save],blockquote:["",n.toolbar.tag_blockquote,"blockquote","command",e.blockquote],font:["se-btn-select se-btn-tool-font",n.toolbar.font,"font","submenu",'<span class="txt">'+n.toolbar.font+"</span>"+e.arrow_down],formatBlock:["se-btn-select se-btn-tool-format",n.toolbar.formats,"formatBlock","submenu",'<span class="txt">'+n.toolbar.formats+"</span>"+e.arrow_down],fontSize:["se-btn-select se-btn-tool-size",n.toolbar.fontSize,"fontSize","submenu",'<span class="txt">'+n.toolbar.fontSize+"</span>"+e.arrow_down],fontColor:["",n.toolbar.fontColor,"fontColor","submenu",e.font_color],hiliteColor:["",n.toolbar.hiliteColor,"hiliteColor","submenu",e.highlight_color],align:["se-btn-align",n.toolbar.align,"align","submenu",t.rtl?e.align_right:e.align_left],list:["",n.toolbar.list,"list","submenu",e.list_number],horizontalRule:["btn_line",n.toolbar.horizontalRule,"horizontalRule","submenu",e.horizontal_rule],table:["",n.toolbar.table,"table","submenu",e.table],lineHeight:["",n.toolbar.lineHeight,"lineHeight","submenu",e.line_height],template:["",n.toolbar.template,"template","submenu",e.template],paragraphStyle:["",n.toolbar.paragraphStyle,"paragraphStyle","submenu",e.paragraph_style],textStyle:["",n.toolbar.textStyle,"textStyle","submenu",e.text_style],link:["",n.toolbar.link,"link","dialog",e.link],image:["",n.toolbar.image,"image","dialog",e.image],video:["",n.toolbar.video,"video","dialog",e.video],audio:["",n.toolbar.audio,"audio","dialog",e.audio],math:["",n.toolbar.math,"math","dialog",e.math],imageGallery:["",n.toolbar.imageGallery,"imageGallery","fileBrowser",e.image_gallery]}},_createModuleGroup:function(){const t=ve.createElement("DIV");t.className="se-btn-module se-btn-module-border";const e=ve.createElement("UL");return e.className="se-menu-list",t.appendChild(e),{div:t,ul:e}},_createButton:function(t,e,n,i,s,r,a){const l=ve.createElement("LI"),o=ve.createElement("BUTTON"),d=e||n;return o.setAttribute("type","button"),o.setAttribute("class","se-btn"+(t?" "+t:"")+" se-tooltip"),o.setAttribute("data-command",n),o.setAttribute("data-display",i),o.setAttribute("aria-label",d.replace(/<span .+<\/span>/,"")),o.setAttribute("tabindex","-1"),s||(s='<span class="se-icon-text">!</span>'),/^default\./i.test(s)&&(s=a[s.replace(/^default\./i,"")]),/^text\./i.test(s)&&(s=s.replace(/^text\./i,""),o.className+=" se-btn-more-text"),s+='<span class="se-tooltip-inner"><span class="se-tooltip-text">'+d+"</span></span>",r&&o.setAttribute("disabled",!0),o.innerHTML=s,l.appendChild(o),{li:l,button:o}},_createToolBar:function(t,e,n,i){const s=t.createElement("DIV");s.className="se-toolbar-separator-vertical";const r=t.createElement("DIV");r.className="se-toolbar sun-editor-common";const a=t.createElement("DIV");a.className="se-btn-tray",r.appendChild(a),e=JSON.parse(JSON.stringify(e));const l=i.icons,o=this._defaultButtons(i),d={},f=[];let y=null,b=null,w=null,v=null,x="",c=!1;const u=ve.createElement("DIV");u.className="se-toolbar-more-layer";e:for(let m=0,g,_,C,E,k;m<e.length;m++)if(g=!1,k="",E=e[m],w=this._createModuleGroup(),typeof E=="object"){for(let T=0,O;T<E.length;T++){if(b=E[T],O=!1,/^\%\d+/.test(b)&&T===0){E[0]=b.replace(/[^\d]/g,""),f.push(E),e.splice(m--,1);continue e}if(typeof b=="object")typeof b.add=="function"?(x=b.name,y=o[x],n[x]=b):(x=b.name,y=[b.buttonClass,b.title,b.name,b.dataDisplay,b.innerHTML,b._disabled]);else{if(/^\-/.test(b)){k=b.substr(1),w.div.className+=" module-float-"+k;continue}if(/^\#/.test(b)){b.substr(1)==="fix"&&(w.ul.className+=" se-menu-dir-fix");continue}if(/^\:/.test(b)){O=!0;const M=b.match(/^\:([^\-]+)\-([^\-]+)\-([^\-]+)/);C="__se__"+M[1].trim();const F=M[2].trim(),N=M[3].trim();y=["se-btn-more",F,C,"MORE",N]}else y=o[b];if(x=b,!y){const M=n[x];if(!M)throw Error("[SUNEDITOR.create.toolbar.fail] The button name of a plugin that does not exist. ["+x+"]");y=[M.buttonClass,M.title,M.name,M.display,M.innerHTML,M._disabled]}}v=this._createButton(y[0],y[1],y[2],y[3],y[4],y[5],l),(g?_:w.ul).appendChild(v.li),n[x]&&(d[x]=v.button),O&&(g=!0,_=ve.createElement("DIV"),_.className="se-more-layer "+C,_.innerHTML='<div class="se-more-form"><ul class="se-menu-list"'+(k?' style="float: '+k+';"':"")+"></ul></div>",u.appendChild(_),_=_.firstElementChild.firstElementChild)}if(c){const T=s.cloneNode(!1);a.appendChild(T)}a.appendChild(w.div),c=!0}else if(/^\/$/.test(E)){const T=t.createElement("DIV");T.className="se-btn-module-enter",a.appendChild(T),c=!1}switch(a.children.length){case 0:a.style.display="none";break;case 1:ve.removeClass(a.firstElementChild,"se-btn-module-border");break;default:if(i.rtl){const m=s.cloneNode(!1);m.style.float=a.lastElementChild.style.float,a.appendChild(m)}}f.length>0&&f.unshift(e),u.children.length>0&&a.appendChild(u);const h=t.createElement("DIV");h.className="se-menu-tray",r.appendChild(h);const p=t.createElement("DIV");return p.className="se-toolbar-cover",r.appendChild(p),i.hideToolbar&&(r.style.display="none"),{element:r,plugins:n,pluginCallButtons:d,responsiveButtons:f,_menuTray:h,_buttonTray:a}}},H1=function(t,e,n){return{element:{originElement:t,topArea:e._top,relative:e._relative,toolbar:e._toolBar,_toolbarShadow:e._toolbarShadow,_buttonTray:e._toolBar.querySelector(".se-btn-tray"),_menuTray:e._menuTray,resizingBar:e._resizingBar,navigation:e._navigation,charWrapper:e._charWrapper,charCounter:e._charCounter,editorArea:e._editorArea,wysiwygFrame:e._wysiwygArea,wysiwyg:e._wysiwygArea,code:e._codeArea,placeholder:e._placeholder,loading:e._loading,lineBreaker:e._lineBreaker,lineBreaker_t:e._lineBreaker_t,lineBreaker_b:e._lineBreaker_b,resizeBackground:e._resizeBack,_stickyDummy:e._stickyDummy,_arrow:e._arrow},tool:{cover:e._toolBar.querySelector(".se-toolbar-cover"),bold:e._toolBar.querySelector('[data-command="bold"]'),underline:e._toolBar.querySelector('[data-command="underline"]'),italic:e._toolBar.querySelector('[data-command="italic"]'),strike:e._toolBar.querySelector('[data-command="strike"]'),sub:e._toolBar.querySelector('[data-command="SUB"]'),sup:e._toolBar.querySelector('[data-command="SUP"]'),undo:e._toolBar.querySelector('[data-command="undo"]'),redo:e._toolBar.querySelector('[data-command="redo"]'),save:e._toolBar.querySelector('[data-command="save"]'),outdent:e._toolBar.querySelector('[data-command="outdent"]'),indent:e._toolBar.querySelector('[data-command="indent"]'),fullScreen:e._toolBar.querySelector('[data-command="fullScreen"]'),showBlocks:e._toolBar.querySelector('[data-command="showBlocks"]'),codeView:e._toolBar.querySelector('[data-command="codeView"]'),dir:e._toolBar.querySelector('[data-command="dir"]'),dir_ltr:e._toolBar.querySelector('[data-command="dir_ltr"]'),dir_rtl:e._toolBar.querySelector('[data-command="dir_rtl"]')},options:n,option:n}},jr=H1;function V1(t,e){const n=t._w,i=t.util,s=t.options.historyStackDelayTime;let r=t.context.element,a=t.context.tool.undo,l=t.context.tool.redo,o=null,d=0,f=[];function y(){const w=f[d];r.wysiwyg.innerHTML=w.contents,t.setRange(i.getNodeFromPath(w.s.path,r.wysiwyg),w.s.offset,i.getNodeFromPath(w.e.path,r.wysiwyg),w.e.offset),t.focus(),f.length<=1?(a&&a.setAttribute("disabled",!0),l&&l.setAttribute("disabled",!0)):d===0?(a&&a.setAttribute("disabled",!0),l&&l.removeAttribute("disabled")):d===f.length-1?(a&&a.removeAttribute("disabled"),l&&l.setAttribute("disabled",!0)):(a&&a.removeAttribute("disabled"),l&&l.removeAttribute("disabled")),t.controllersOff(),t._checkComponents(),t._setCharCount(),t._resourcesStateChange(),e()}function b(){t._checkComponents();const w=r.wysiwyg.innerHTML;if(!w||f[d]&&w===f[d].contents)return;d++;const v=t._variable._range;f.length>d&&(f=f.slice(0,d),l&&l.setAttribute("disabled",!0)),v?f[d]={contents:w,s:{path:i.getNodePath(v.startContainer,null,null),offset:v.startOffset},e:{path:i.getNodePath(v.endContainer,null,null),offset:v.endOffset}}:f[d]={contents:w,s:{path:[0,0],offset:[0,0]},e:{path:0,offset:0}},d===1&&a&&a.removeAttribute("disabled"),t._setCharCount(),e()}return{stack:f,push:function(w){n.setTimeout(t._resourcesStateChange.bind(t));const v=typeof w=="number"?w>0?w:0:w?s:0;if((!v||o)&&(n.clearTimeout(o),!v)){b();return}o=n.setTimeout(function(){n.clearTimeout(o),o=null,b()},v)},undo:function(){d>0&&(d--,y())},redo:function(){f.length-1>d&&(d++,y())},go:function(w){d=w<0?f.length-1:w,y()},getCurrentIndex:function(){return d},reset:function(w){a&&a.setAttribute("disabled",!0),l&&l.setAttribute("disabled",!0),t._variable.isChanged=!1,t.context.tool.save&&t.context.tool.save.setAttribute("disabled",!0),f.splice(0),d=0,f[d]={contents:t.getContents(!0),s:{path:[0,0],offset:0},e:{path:[0,0],offset:0}},w||e()},_resetCachingButton:function(){r=t.context.element,a=t.context.tool.undo,l=t.context.tool.redo,d===0?(a&&a.setAttribute("disabled",!0),l&&d===f.length-1&&l.setAttribute("disabled",!0),t._variable.isChanged=!1,t.context.tool.save&&t.context.tool.save.setAttribute("disabled",!0)):d===f.length-1&&l&&l.setAttribute("disabled",!0)},_destroy:function(){o&&n.clearTimeout(o),f=null}}}const vl={name:"notice",add:function(t){const e=t.context;e.notice={};let n=t.util.createElement("DIV"),i=t.util.createElement("SPAN"),s=t.util.createElement("BUTTON");n.className="se-notice",s.className="close",s.setAttribute("aria-label","Close"),s.setAttribute("title",t.lang.dialogBox.close),s.innerHTML=t.icons.cancel,n.appendChild(i),n.appendChild(s),e.notice.modal=n,e.notice.message=i,s.addEventListener("click",this.onClick_cancel.bind(t)),e.element.editorArea.appendChild(n),n=null},onClick_cancel:function(t){t.preventDefault(),t.stopPropagation(),this.plugins.notice.close.call(this)},open:function(t){this.context.notice.message.textContent=t,this.context.notice.modal.style.display="block"},close:function(){this.context.notice.modal.style.display="none"}};function U1(t,e,n,i,s,r){const a=t.element.originElement.ownerDocument||document,l=a.defaultView||window,o=ve,d=s.icons,f={_d:a,_w:l,_parser:new l.DOMParser,_prevRtl:s.rtl,_editorHeight:0,_editorHeightPadding:0,_listCamel:s.__listCommonStyle,_listKebab:o.camelToKebabCase(s.__listCommonStyle),_wd:null,_ww:null,_shadowRoot:null,_shadowRootControllerEventTarget:null,util:o,functions:null,options:null,wwComputedStyle:null,notice:vl,icons:d,history:null,context:t,pluginCallButtons:e,plugins:n||{},initPlugins:{},_targetPlugins:{},_menuTray:{},lang:i,effectNode:null,submenu:null,container:null,_submenuName:"",_bindedSubmenuOff:null,_bindedContainerOff:null,submenuActiveButton:null,containerActiveButton:null,controllerArray:[],currentControllerName:"",currentControllerTarget:null,currentFileComponentInfo:null,codeViewDisabledButtons:[],resizingDisabledButtons:[],_moreLayerActiveButton:null,_htmlCheckWhitelistRegExp:null,_htmlCheckBlacklistRegExp:null,_disallowedTextTagsRegExp:null,editorTagsWhitelistRegExp:null,editorTagsBlacklistRegExp:null,pasteTagsWhitelistRegExp:null,pasteTagsBlacklistRegExp:null,hasFocus:!1,isDisabled:!1,isReadOnly:!1,_attributesWhitelistRegExp:null,_attributesWhitelistRegExp_all_data:null,_attributesBlacklistRegExp:null,_attributesTagsWhitelist:null,_attributesTagsBlacklist:null,_bindControllersOff:null,_isInline:null,_isBalloon:null,_isBalloonAlways:null,_inlineToolbarAttr:{top:"",width:"",isShow:!1},_notHideToolbar:!1,_sticky:!1,_antiBlur:!1,_lineBreaker:null,_lineBreakerButton:null,_componentsInfoInit:!0,_componentsInfoReset:!1,activePlugins:null,managedTagsInfo:null,_charTypeHTML:!1,_fileInfoPluginsCheck:null,_fileInfoPluginsReset:null,_fileManager:{tags:null,regExp:null,queryString:null,pluginRegExp:null,pluginMap:null},commandMap:{},_commandMapStyles:{STRONG:["font-weight"],U:["text-decoration"],EM:["font-style"],DEL:["text-decoration"]},_styleCommandMap:null,_cleanStyleRegExp:{span:new l.RegExp("\\s*[^-a-zA-Z](font-family|font-size|color|background-color)\\s*:[^;]+(?!;)*","ig"),format:new l.RegExp("\\s*[^-a-zA-Z](text-align|margin-left|margin-right)\\s*:[^;]+(?!;)*","ig"),fontSizeUnit:new l.RegExp("\\d+"+s.fontSizeUnit+"$","i")},_variable:{isChanged:!1,isCodeView:!1,isFullScreen:!1,innerHeight_fullScreen:0,resizeClientY:0,tabSize:4,codeIndent:2,minResizingSize:o.getNumber(t.element.wysiwygFrame.style.minHeight||"65",0),currentNodes:[],currentNodesMap:[],_range:null,_selectionNode:null,_originCssText:t.element.topArea.style.cssText,_bodyOverflow:"",_editorAreaOriginCssText:"",_wysiwygOriginCssText:"",_codeOriginCssText:"",_fullScreenAttrs:{sticky:!1,balloon:!1,inline:!1},_lineBreakComp:null,_lineBreakDir:""},_formatAttrsTemp:null,_saveButtonStates:function(){this.allCommandButtons||(this.allCommandButtons={});const c=this.context.element._buttonTray.querySelectorAll(".se-menu-list button[data-display]");for(let u=0,h,p;u<c.length;u++)h=c[u],p=h.getAttribute("data-command"),this.allCommandButtons[p]=h},_recoverButtonStates:function(){if(this.allCommandButtons){const c=this.context.element._buttonTray.querySelectorAll(".se-menu-list button[data-display]");for(let u=0,h,p,m;u<c.length;u++)h=c[u],p=h.getAttribute("data-command"),m=this.allCommandButtons[p],m&&(h.parentElement.replaceChild(m,h),this.context.tool[p]&&(this.context.tool[p]=m))}},callPlugin:function(c,u,h){if(h=h||e[c],this.plugins[c])this.initPlugins[c]?typeof this._targetPlugins[c]=="object"&&h&&this.initMenuTarget(c,h,this._targetPlugins[c]):(this.plugins[c].add(this,h),this.initPlugins[c]=!0);else throw Error('[SUNEDITOR.core.callPlugin.fail] The called plugin does not exist or is in an invalid format. (pluginName:"'+c+'")');this.plugins[c].active&&!this.commandMap[c]&&h&&(this.commandMap[c]=h,this.activePlugins.push(c)),typeof u=="function"&&u()},addModule:function(c){for(let u=0,h=c.length,p;u<h;u++)p=c[u].name,this.plugins[p]||(this.plugins[p]=c[u]),this.initPlugins[p]||(this.initPlugins[p]=!0,typeof this.plugins[p].add=="function"&&this.plugins[p].add(this))},getGlobalScrollOffset:function(){let c=0,u=0,h=t.element.topArea;for(;h;)c+=h.scrollTop,u+=h.scrollLeft,h=h.parentElement;for(h=this._shadowRoot?this._shadowRoot.host:null;h;)c+=h.scrollTop,u+=h.scrollLeft,h=h.parentElement;return{top:c,left:u}},initMenuTarget:function(c,u,h){u?(t.element._menuTray.appendChild(h),this._targetPlugins[c]=!0,this._menuTray[u.getAttribute("data-command")]=h):this._targetPlugins[c]=h},submenuOn:function(c){this._bindedSubmenuOff&&this._bindedSubmenuOff(),this._bindControllersOff&&this.controllersOff();const u=this._submenuName=c.getAttribute("data-command"),h=this.submenu=this._menuTray[u];this.submenuActiveButton=c,this._setMenuPosition(c,h),this._bindedSubmenuOff=this.submenuOff.bind(this),this.addDocEvent("mousedown",this._bindedSubmenuOff,!1),this.plugins[u].on&&this.plugins[u].on.call(this),this._antiBlur=!0},submenuOff:function(){this.removeDocEvent("mousedown",this._bindedSubmenuOff),this._bindedSubmenuOff=null,this.submenu&&(this._submenuName="",this.submenu.style.display="none",this.submenu=null,o.removeClass(this.submenuActiveButton,"on"),this.submenuActiveButton=null,this._notHideToolbar=!1),this._antiBlur=!1},moreLayerOff:function(){if(this._moreLayerActiveButton){const c=t.element.toolbar.querySelector("."+this._moreLayerActiveButton.getAttribute("data-command"));c.style.display="none",o.removeClass(this._moreLayerActiveButton,"on"),this._moreLayerActiveButton=null}},containerOn:function(c){this._bindedContainerOff&&this._bindedContainerOff();const u=this._containerName=c.getAttribute("data-command"),h=this.container=this._menuTray[u];this.containerActiveButton=c,this._setMenuPosition(c,h),this._bindedContainerOff=this.containerOff.bind(this),this.addDocEvent("mousedown",this._bindedContainerOff,!1),this.plugins[u].on&&this.plugins[u].on.call(this),this._antiBlur=!0},containerOff:function(){this.removeDocEvent("mousedown",this._bindedContainerOff),this._bindedContainerOff=null,this.container&&(this._containerName="",this.container.style.display="none",this.container=null,o.removeClass(this.containerActiveButton,"on"),this.containerActiveButton=null,this._notHideToolbar=!1),this._antiBlur=!1},_setMenuPosition:function(c,u){u.style.visibility="hidden",u.style.display="block",u.style.height="",o.addClass(c,"on");const h=this.context.element.toolbar,p=h.offsetWidth,m=y._getEditorOffsets(t.element.toolbar),g=u.offsetWidth,_=c.parentElement.offsetLeft+3;if(s.rtl){const N=c.offsetWidth,P=g>N?g-N:0,B=P>0?0:N-g;u.style.left=_-P+B+"px",m.left>y._getEditorOffsets(u).left&&(u.style.left="0px")}else{const N=p<=g?0:p-(_+g);N<0?u.style.left=_+N+"px":u.style.left=_+"px"}let C=0,E=c;for(;E&&E!==h;)C+=E.offsetTop,E=E.offsetParent;const k=C;this._isBalloon?C+=h.offsetTop+c.offsetHeight:C-=c.offsetHeight;const T=m.top,O=u.offsetHeight,M=this.getGlobalScrollOffset().top,F=l.innerHeight-(T-M+k+c.parentElement.offsetHeight);if(F<O){let N=-1*(O-k+3);const P=T-M+N,B=O+(P<0?P:0);B>F?(u.style.height=B+"px",N=-1*(B-k+3)):(u.style.height=F+"px",N=k+c.parentElement.offsetHeight),u.style.top=N+"px"}else u.style.top=k+c.parentElement.offsetHeight+"px";u.style.visibility=""},controllersOn:function(){this._bindControllersOff&&this._bindControllersOff(),this.controllerArray=[];for(let c=0,u;c<arguments.length;c++)if(u=arguments[c],!!u){if(typeof u=="string"){this.currentControllerName=u;continue}if(typeof u=="function"){this.controllerArray.push(u);continue}if(!o.hasClass(u,"se-controller")){this.currentControllerTarget=u,this.currentFileComponentInfo=this.getFileComponent(u);continue}u.style&&(u.style.display="block",this._shadowRoot&&this._shadowRootControllerEventTarget.indexOf(u)===-1&&(u.addEventListener("mousedown",function(h){h.preventDefault(),h.stopPropagation()}),this._shadowRootControllerEventTarget.push(u))),this.controllerArray.push(u)}this._bindControllersOff=this.controllersOff.bind(this),this.addDocEvent("mousedown",this._bindControllersOff,!1),this.addDocEvent("keydown",this._bindControllersOff,!1),this._antiBlur=!0,typeof b.showController=="function"&&b.showController(this.currentControllerName,this.controllerArray,this)},controllersOff:function(c){this._lineBreaker.style.display="none";const u=this.controllerArray.length;if(c&&c.target&&u>0){for(let h=0;h<u;h++)if(typeof this.controllerArray[h].contains=="function"&&this.controllerArray[h].contains(c.target))return}if(!(this._fileManager.pluginRegExp.test(this.currentControllerName)&&c&&c.type==="keydown"&&c.keyCode!==27)&&(t.element.lineBreaker_t.style.display=t.element.lineBreaker_b.style.display="none",this._variable._lineBreakComp=null,this.currentControllerName="",this.currentControllerTarget=null,this.currentFileComponentInfo=null,this.effectNode=null,!!this._bindControllersOff)){if(this.removeDocEvent("mousedown",this._bindControllersOff),this.removeDocEvent("keydown",this._bindControllersOff),this._bindControllersOff=null,u>0){for(let h=0;h<u;h++)typeof this.controllerArray[h]=="function"?this.controllerArray[h]():this.controllerArray[h].style.display="none";this.controllerArray=[]}this._antiBlur=!1}},setControllerPosition:function(c,u,h,p){s.rtl&&(p.left*=-1);const m=o.getOffset(u,t.element.wysiwygFrame);c.style.visibility="hidden",c.style.display="block";const g=h==="top"?-(c.offsetHeight+2):u.offsetHeight+12;c.style.top=m.top+g+p.top+"px";const _=m.left-t.element.wysiwygFrame.scrollLeft+p.left,C=c.offsetWidth,E=u.offsetWidth,k=o.hasClass(c.firstElementChild,"se-arrow")?c.firstElementChild:null;if(s.rtl){const T=C>E?C-E:0,O=T>0?0:E-C;c.style.left=_-T+O+"px",T>0&&k&&(k.style.left=(C-14<10+T?C-14:10+T)+"px");const M=t.element.wysiwygFrame.offsetLeft-c.offsetLeft;M>0&&(c.style.left="0px",k&&(k.style.left=M+"px"))}else{c.style.left=_+"px";const T=t.element.wysiwygFrame.offsetWidth-(c.offsetLeft+C);T<0?(c.style.left=c.offsetLeft+T+"px",k&&(k.style.left=20-T+"px")):k&&(k.style.left="20px")}c.style.visibility=""},execCommand:function(c,u,h){this._wd.execCommand(c,u,c==="formatBlock"?"<"+h+">":h),this.history.push(!0)},nativeFocus:function(){this.__focus(),this._editorRange()},__focus:function(){const c=o.getParentElement(this.getSelectionNode(),"figcaption");c?c.focus():t.element.wysiwyg.focus()},focus:function(){if(t.element.wysiwygFrame.style.display!=="none"){if(s.iframe)this.nativeFocus();else try{const c=this.getRange();if(c.startContainer===c.endContainer&&o.isWysiwygDiv(c.startContainer)){const u=c.commonAncestorContainer.children[c.startOffset];if(!o.isFormatElement(u)&&!o.isComponent(u)){const h=o.createElement(s.defaultTag),p=o.createElement("BR");h.appendChild(p),t.element.wysiwyg.insertBefore(h,u),this.setRange(p,0,p,0);return}}this.setRange(c.startContainer,c.startOffset,c.endContainer,c.endOffset)}catch{this.nativeFocus()}y._applyTagEffects(),this._isBalloon&&y._toggleToolbarBalloon()}},focusEdge:function(c){c||(c=t.element.wysiwyg.lastElementChild);const u=this.getFileComponent(c);u?this.selectComponent(u.target,u.pluginName):c?(c=o.getChildElement(c,function(h){return h.childNodes.length===0||h.nodeType===3},!0),c?this.setRange(c,c.textContent.length,c,c.textContent.length):this.nativeFocus()):this.focus()},blur:function(){s.iframe?t.element.wysiwygFrame.blur():t.element.wysiwyg.blur()},setRange:function(c,u,h,p){if(!c||!h)return;u>c.textContent.length&&(u=c.textContent.length),p>h.textContent.length&&(p=h.textContent.length),o.isFormatElement(c)&&(c=c.childNodes[u]||c.childNodes[u-1]||c,u=u>0?c.nodeType===1?1:c.textContent?c.textContent.length:0:0),o.isFormatElement(h)&&(h=h.childNodes[p]||h.childNodes[p-1]||h,p=p>0?h.nodeType===1?1:h.textContent?h.textContent.length:0:0);const m=this._wd.createRange();try{m.setStart(c,u),m.setEnd(h,p)}catch(_){console.warn("[SUNEDITOR.core.focus.error] "+_),this.nativeFocus();return}const g=this.getSelection();return g.removeAllRanges&&g.removeAllRanges(),g.addRange(m),this._rangeInfo(m,this.getSelection()),s.iframe&&this.__focus(),m},removeRange:function(){this._variable._range=null,this._variable._selectionNode=null,this.hasFocus&&this.getSelection().removeAllRanges(),this._setKeyEffect([])},getRange:function(){const c=this._variable._range||this._createDefaultRange(),u=this.getSelection();if(c.collapsed===u.isCollapsed||!t.element.wysiwyg.contains(u.focusNode))return c;if(u.rangeCount>0)return this._variable._range=u.getRangeAt(0),this._variable._range;{const h=u.anchorNode,p=u.focusNode,m=u.anchorOffset,g=u.focusOffset,_=o.compareElements(h,p),C=_.ancestor&&(_.result===0?m<=g:_.result>1);return this.setRange(C?h:p,C?m:g,C?p:h,C?g:m)}},getRange_addLine:function(c,u){if(this._selectionVoid(c)){const h=t.element.wysiwyg,p=o.createElement(s.defaultTag);p.innerHTML="<br>",h.insertBefore(p,u&&u!==h?u.nextElementSibling:h.firstElementChild),this.setRange(p.firstElementChild,0,p.firstElementChild,1),c=this._variable._range}return c},getSelection:function(){const c=this._shadowRoot&&this._shadowRoot.getSelection?this._shadowRoot.getSelection():this._ww.getSelection();return!this._variable._range&&!t.element.wysiwyg.contains(c.focusNode)&&(c.removeAllRanges(),c.addRange(this._createDefaultRange())),c},getSelectionNode:function(){if(t.element.wysiwyg.contains(this._variable._selectionNode)||this._editorRange(),!this._variable._selectionNode){const c=o.getChildElement(t.element.wysiwyg.firstChild,function(u){return u.childNodes.length===0||u.nodeType===3},!1);if(!c)this._editorRange();else return this._variable._selectionNode=c,c}return this._variable._selectionNode},_editorRange:function(){const c=this._wd.activeElement;if(o.isInputElement(c))return this._variable._selectionNode=c,c;const u=this.getSelection();if(!u)return null;let h=null;u.rangeCount>0?h=u.getRangeAt(0):h=this._createDefaultRange(),this._rangeInfo(h,u)},_rangeInfo:function(c,u){let h=null;this._variable._range=c,c.collapsed?o.isWysiwygDiv(c.commonAncestorContainer)?h=c.commonAncestorContainer.children[c.startOffset]||c.commonAncestorContainer:h=c.commonAncestorContainer:h=u.extentNode||u.anchorNode,this._variable._selectionNode=h},_createDefaultRange:function(){const c=t.element.wysiwyg,u=this._wd.createRange();let h=c.firstElementChild,p=null;return h?(p=h.firstChild,p||(p=o.createElement("BR"),h.appendChild(p))):(h=o.createElement(s.defaultTag),p=o.createElement("BR"),h.appendChild(p),c.appendChild(h)),u.setStart(p,0),u.setEnd(p,0),u},_selectionVoid:function(c){const u=c.commonAncestorContainer;return o.isWysiwygDiv(c.startContainer)&&o.isWysiwygDiv(c.endContainer)||/FIGURE/i.test(u.nodeName)||this._fileManager.regExp.test(u.nodeName)||o.isMediaComponent(u)},_resetRangeToTextNode:function(){const c=this.getRange();if(this._selectionVoid(c))return!1;let u=c.startContainer,h=c.startOffset,p=c.endContainer,m=c.endOffset,g,_,C;if(o.isFormatElement(u))for(u.childNodes[h]?(u=u.childNodes[h]||u,h=0):(u=u.lastChild||u,h=u.textContent.length);u&&u.nodeType===1&&u.firstChild;)u=u.firstChild||u,h=0;if(o.isFormatElement(p)){for(p=p.childNodes[m]||p.lastChild||p;p&&p.nodeType===1&&p.lastChild;)p=p.lastChild;m=p.textContent.length}if(g=o.isWysiwygDiv(u)?t.element.wysiwyg.firstChild:u,_=h,o.isBreak(g)||g.nodeType===1&&g.childNodes.length>0){const E=o.isBreak(g);if(!E){for(;g&&!o.isBreak(g)&&g.nodeType===1;)g=g.childNodes[_]||g.nextElementSibling||g.nextSibling,_=0;let k=o.getFormatElement(g,null);k===o.getRangeFormatElement(k,null)&&(k=o.createElement(o.getParentElement(g,o.isCell)?"DIV":s.defaultTag),g.parentNode.insertBefore(k,g),k.appendChild(g))}if(o.isBreak(g)){const k=o.createTextNode(o.zeroWidthSpace);g.parentNode.insertBefore(k,g),g=k,E&&u===p&&(p=g,m=1)}}if(u=g,h=_,g=o.isWysiwygDiv(p)?t.element.wysiwyg.lastChild:p,_=m,o.isBreak(g)||g.nodeType===1&&g.childNodes.length>0){const E=o.isBreak(g);if(!E){for(;g&&!o.isBreak(g)&&g.nodeType===1&&(C=g.childNodes,C.length!==0);)g=C[_>0?_-1:_]||!/FIGURE/i.test(C[0].nodeName)?C[0]:g.previousElementSibling||g.previousSibling||u,_=_>0?g.textContent.length:_;let k=o.getFormatElement(g,null);k===o.getRangeFormatElement(k,null)&&(k=o.createElement(o.isCell(k)?"DIV":s.defaultTag),g.parentNode.insertBefore(k,g),k.appendChild(g))}if(o.isBreak(g)){const k=o.createTextNode(o.zeroWidthSpace);g.parentNode.insertBefore(k,g),g=k,_=1,E&&!g.previousSibling&&o.removeItem(p)}}return p=g,m=_,this.setRange(u,h,p,m),!0},getSelectedElements:function(c){if(!this._resetRangeToTextNode())return[];let u=this.getRange();if(o.isWysiwygDiv(u.startContainer)){const N=t.element.wysiwyg.children;if(N.length===0)return[];this.setRange(N[0],0,N[N.length-1],N[N.length-1].textContent.trim().length),u=this.getRange()}const h=u.startContainer,p=u.endContainer,m=u.commonAncestorContainer,g=o.getListChildren(m,function(N){return c?c(N):o.isFormatElement(N)});if(!o.isWysiwygDiv(m)&&!o.isRangeFormatElement(m)&&g.unshift(o.getFormatElement(m,null)),h===p||g.length===1)return g;let _=o.getFormatElement(h,null),C=o.getFormatElement(p,null),E=null,k=null;const T=function(N){return o.isTable(N)?/^TABLE$/i.test(N.nodeName):!0};let O=o.getRangeFormatElement(_,T),M=o.getRangeFormatElement(C,T);o.isTable(O)&&o.isListCell(O.parentNode)&&(O=O.parentNode),o.isTable(M)&&o.isListCell(M.parentNode)&&(M=M.parentNode);const F=O===M;for(let N=0,P=g.length,B;N<P;N++){if(B=g[N],_===B||!F&&B===O){E=N;continue}if(C===B||!F&&B===M){k=N;break}}return E===null&&(E=0),k===null&&(k=g.length-1),g.slice(E,k+1)},getSelectedElementsAndComponents:function(c){const u=this.getRange().commonAncestorContainer,h=o.getParentElement(u,o.isComponent),p=o.isTable(u)?this.getSelectedElements(null):this.getSelectedElements(function(m){const g=this.getParentElement(m,this.isComponent);return this.isFormatElement(m)&&(!g||g===h)||this.isComponent(m)&&!this.getFormatElement(m)}.bind(o));if(c){for(let m=0,g=p.length;m<g;m++)for(let _=m-1;_>=0;_--)if(p[_].contains(p[m])){p.splice(m,1),m--,g--;break}}return p},isEdgePoint:function(c,u,h){return h!=="end"&&u===0||(!h||h!=="front")&&!c.nodeValue&&u===1||(!h||h==="end")&&!!c.nodeValue&&u===c.nodeValue.length},_isEdgeFormat:function(c,u,h){if(!this.isEdgePoint(c,u,h))return!1;const p=[];for(h=h==="front"?"previousSibling":"nextSibling";c&&!o.isFormatElement(c)&&!o.isWysiwygDiv(c);)if(!c[h]||o.isBreak(c[h])&&!c[h][h])c.nodeType===1&&p.push(c.cloneNode(!1)),c=c.parentNode;else return null;return p},showLoading:function(){t.element.loading.style.display="block"},closeLoading:function(){t.element.loading.style.display="none"},appendFormatTag:function(c,u){if(!c||!c.parentNode)return null;const h=o.getFormatElement(this.getSelectionNode(),null);let p=null;if(!o.isFormatElement(c)&&o.isFreeFormatElement(h||c.parentNode))p=o.createElement("BR");else{const m=u?typeof u=="string"?u:u.nodeName:o.isFormatElement(h)&&!o.isRangeFormatElement(h)&&!o.isFreeFormatElement(h)?h.nodeName:s.defaultTag;p=o.createElement(m),p.innerHTML="<br>",(u&&typeof u!="string"||!u&&o.isFormatElement(h))&&o.copyTagAttributes(p,u||h,["id"])}return o.isCell(c)?c.insertBefore(p,c.nextElementSibling):c.parentNode.insertBefore(p,c.nextElementSibling),p},insertComponent:function(c,u,h,p){if(this.isReadOnly||h&&!this.checkCharCount(c,null))return null;const m=this.removeNode();this.getRange_addLine(this.getRange(),m.container);let g=null,_=this.getSelectionNode(),C=o.getFormatElement(_,null);if(o.isListCell(C))this.insertNode(c,_===C?null:m.container.nextSibling,!1),c.nextSibling||c.parentNode.appendChild(o.createElement("BR"));else{if(this.getRange().collapsed&&(m.container.nodeType===3||o.isBreak(m.container))){const E=o.getParentElement(m.container,function(k){return this.isRangeFormatElement(k)}.bind(o));g=o.splitElement(m.container,m.offset,E?o.getElementDepth(E)+1:0),g&&(C=g.previousSibling)}this.insertNode(c,o.isRangeFormatElement(C)?null:C,!1),C&&o.onlyZeroWidthSpace(C)&&o.removeItem(C)}if(!p){this.setRange(c,0,c,0);const E=this.getFileComponent(c);E?this.selectComponent(E.target,E.pluginName):g&&(g=o.getEdgeChildNodes(g,null).sc||g,this.setRange(g,0,g,0))}return u||this.history.push(1),g||c},getFileComponent:function(c){if(!this._fileManager.queryString||!c)return null;let u,h;return(/^FIGURE$/i.test(c.nodeName)||/se-component/.test(c.className))&&(u=c.querySelector(this._fileManager.queryString)),!u&&c.nodeName&&this._fileManager.regExp.test(c.nodeName)&&(u=c),u&&(h=this._fileManager.pluginMap[u.nodeName.toLowerCase()],h)?{target:u,component:o.getParentElement(u,o.isComponent),pluginName:h}:null},selectComponent:function(c,u){if(o.isUneditableComponent(o.getParentElement(c,o.isComponent))||o.isUneditableComponent(c))return!1;this.hasFocus||this.focus();const h=this.plugins[u];h&&l.setTimeout(function(){typeof h.select=="function"&&this.callPlugin(u,h.select.bind(this,c),null),this._setComponentLineBreaker(c)}.bind(this))},_setComponentLineBreaker:function(c){this._lineBreaker.style.display="none";const u=o.getParentElement(c,o.isComponent),h=t.element.lineBreaker_t.style,p=t.element.lineBreaker_b.style,m=this.context.resizing.resizeContainer.style.display==="block"?this.context.resizing.resizeContainer:c,g=o.isListCell(u.parentNode);let _,C,E;(g?!u.previousSibling:!o.isFormatElement(u.previousElementSibling))?(this._variable._lineBreakComp=u,C=t.element.wysiwyg.scrollTop,_=o.getOffset(c,t.element.wysiwygFrame).top+C,E=m.offsetWidth/2/2,h.top=_-C-12+"px",h.left=o.getOffset(m).left+E+"px",h.display="block"):h.display="none",(g?!u.nextSibling:!o.isFormatElement(u.nextElementSibling))?(_||(this._variable._lineBreakComp=u,C=t.element.wysiwyg.scrollTop,_=o.getOffset(c,t.element.wysiwygFrame).top+C,E=m.offsetWidth/2/2),p.top=_+m.offsetHeight-C-12+"px",p.left=o.getOffset(m).left+m.offsetWidth-E-24+"px",p.display="block"):p.display="none"},_checkDuplicateNode:function(c,u){(function h(p){f._dupleCheck(p,u);const m=p.childNodes;for(let g=0,_=m.length;g<_;g++)h(m[g])})(c)},_dupleCheck:function(c,u){if(!o.isTextStyleElement(c))return;const h=(c.style.cssText.match(/[^;]+;/g)||[]).map(function(g){return g.trim()}),p=c.nodeName;if(/^span$/i.test(p)&&h.length===0)return c;let m=!1;return function g(_){if(!(o.isWysiwygDiv(_)||!o.isTextStyleElement(_))){if(_.nodeName===p){m=!0;const C=_.style.cssText.match(/[^;]+;/g)||[];for(let E=0,k=C.length,T;E<k;E++)(T=h.indexOf(C[E].trim()))>-1&&h.splice(T,1);for(let E=0,k=_.classList.length;E<k;E++)c.classList.remove(_.classList[E])}g(_.parentElement)}}(u),m&&((c.style.cssText=h.join(" "))||(c.setAttribute("style",""),c.removeAttribute("style")),c.attributes.length||c.setAttribute("data-se-duple","true")),c},insertNode:function(c,u,h){if(this.isReadOnly||h&&!this.checkCharCount(c,null))return null;let p=this.getRange(),m=o.isListCell(p.commonAncestorContainer)?p.commonAncestorContainer:o.getFormatElement(this.getSelectionNode(),null),g=o.isListCell(m)&&(o.isListCell(c)||o.isList(c)),_,C,E,k=null;const T=o.isFreeFormatElement(m),O=!T&&(o.isFormatElement(c)||o.isRangeFormatElement(c))||o.isComponent(c);if(g&&(E=u||o.isList(c)?m.lastChild:m.nextElementSibling,k=o.isList(c)?m:(E||m).parentNode),!u&&(O||o.isComponent(c)||o.isMedia(c))){const D=this.isEdgePoint(p.endContainer,p.endOffset,"end"),$=this.removeNode(),q=$.container,V=q===$.prevContainer&&p.collapsed?null:$.prevContainer;if(g&&V)if(k=V.nodeType===3?V.parentNode:V,k.contains(q)){let K=!0;for(E=q;E.parentNode&&E.parentNode!==k;)E=E.parentNode,K=!1;K&&q===V&&(E=E.nextSibling)}else E=null;else if(g&&o.isListCell(q)&&!m.parentElement)m=o.createElement("LI"),k.appendChild(m),q.appendChild(k),E=null;else if(q.nodeType===3||o.isBreak(q)||g){const K=o.getParentElement(q,function(R){return this.isRangeFormatElement(R)||this.isListCell(R)}.bind(o));if(u=o.splitElement(q,$.offset,K?o.getElementDepth(K)+1:0),!u)E=u=m;else if(g){if(m.contains(q)){const R=o.isList(m.lastElementChild);let j=null;D||(j=m.cloneNode(!1),j.appendChild(u.textContent.trim()?u:o.createTextNode(o.zeroWidthSpace))),R&&(j||(j=m.cloneNode(!1),j.appendChild(o.createTextNode(o.zeroWidthSpace))),j.appendChild(m.lastElementChild)),j&&(m.parentNode.insertBefore(j,m.nextElementSibling),E=u=j)}}else u=u.previousSibling}}p=!u&&!O?this.getRange_addLine(this.getRange(),null):this.getRange();const M=p.commonAncestorContainer,F=p.startOffset,N=p.endOffset,P=p.startContainer===M&&o.isFormatElement(M),B=P&&(M.childNodes[F]||M.childNodes[0])||p.startContainer,z=P&&(M.childNodes[N]||M.childNodes[M.childNodes.length-1])||p.endContainer;if(!g)if(u)_=u.parentNode,u=u.nextSibling,C=!0;else if(_=B,B.nodeType===3&&(_=B.parentNode),p.collapsed)if(M.nodeType===3)M.textContent.length>N?u=M.splitText(N):u=M.nextSibling;else if(o.isBreak(_))u=_,_=_.parentNode;else{let D=_.childNodes[F];const $=D&&D.nodeType===3&&o.onlyZeroWidthSpace(D)&&o.isBreak(D.nextSibling)?D.nextSibling:D;$?!$.nextSibling&&o.isBreak($)?(_.removeChild($),u=null):u=o.isBreak($)&&!o.isBreak(c)?$:$.nextSibling:u=null}else if(B===z){this.isEdgePoint(z,N)?u=z.nextSibling:u=z.splitText(N);let $=B;this.isEdgePoint(B,F)||($=B.splitText(F)),_.removeChild($),_.childNodes.length===0&&O&&(_.innerHTML="<br>")}else{const $=this.removeNode(),q=$.container,V=$.prevContainer;if(q&&q.childNodes.length===0&&O&&(o.isFormatElement(q)?q.innerHTML="<br>":o.isRangeFormatElement(q)&&(q.innerHTML="<"+s.defaultTag+"><br></"+s.defaultTag+">")),o.isListCell(q)&&c.nodeType===3)_=q,u=null;else if(!O&&V)if(_=V.nodeType===3?V.parentNode:V,_.contains(q)){let K=!0;for(u=q;u.parentNode&&u.parentNode!==_;)u=u.parentNode,K=!1;K&&q===V&&(u=u.nextSibling)}else u=null;else o.isWysiwygDiv(q)&&!o.isFormatElement(c)?(_=q.appendChild(o.createElement(s.defaultTag)),u=null):(u=O?z:q===V?q.nextSibling:q,_=!u||!u.parentNode?M:u.parentNode);for(;u&&!o.isFormatElement(u)&&u.parentNode!==M;)u=u.parentNode}try{if(!g){if((o.isWysiwygDiv(u)||_===t.element.wysiwyg.parentNode)&&(_=t.element.wysiwyg,u=null),o.isFormatElement(c)||o.isRangeFormatElement(c)||!o.isListCell(_)&&o.isComponent(c)){const D=_;if(o.isList(u))_=u,u=null;else if(o.isListCell(u))_=u.previousElementSibling||u;else if(!C&&!u){const $=this.removeNode(),q=$.container.nodeType===3?o.isListCell(o.getFormatElement($.container,null))?$.container:o.getFormatElement($.container,null)||$.container.parentNode:$.container,V=o.isWysiwygDiv(q)||o.isRangeFormatElement(q);_=V?q:q.parentNode,u=V?null:q.nextSibling}D.childNodes.length===0&&_!==D&&o.removeItem(D)}if(O&&!T&&!o.isRangeFormatElement(_)&&!o.isListCell(_)&&!o.isWysiwygDiv(_)&&(u=_.nextElementSibling,_=_.parentNode),o.isWysiwygDiv(_)&&(c.nodeType===3||o.isBreak(c))){const D=o.createElement(s.defaultTag);D.appendChild(c),c=D}}if(g?k.parentNode?(_=k,u=E):(_=t.element.wysiwyg,u=null):u=_===u?_.lastChild:u,o.isListCell(c)&&!o.isList(_)){if(o.isListCell(_))u=_.nextElementSibling,_=_.parentNode;else{const D=o.createElement("ol");_.insertBefore(D,u),_=D,u=null}g=!0}if(this._checkDuplicateNode(c,_),_.insertBefore(c,u),g)if(o.onlyZeroWidthSpace(m.textContent.trim()))o.removeItem(m),c=c.lastChild;else{const D=o.getArrayItem(m.children,o.isList);D&&(c!==D?(c.appendChild(D),c=D.previousSibling):(_.appendChild(c),c=_),o.onlyZeroWidthSpace(m.textContent.trim())&&o.removeItem(m))}}catch(D){_.appendChild(c),console.warn("[SUNEDITOR.insertNode.warn] "+D)}finally{const D=_.querySelectorAll("[data-se-duple]");if(D.length>0)for(let $=0,q=D.length,V,K,R,j;$<q;$++){for(V=D[$],R=V.childNodes,j=V.parentNode;R[0];)K=R[0],j.insertBefore(K,V);V===c&&(c=K),o.removeItem(V)}if((o.isFormatElement(c)||o.isComponent(c))&&B===z){const $=o.getFormatElement(M,null);$&&$.nodeType===1&&o.isEmptyLine($)&&o.removeItem($)}if(T&&(o.isFormatElement(c)||o.isRangeFormatElement(c))&&(c=this._setIntoFreeFormat(c)),!o.isComponent(c)){let $=1;if(c.nodeType===3){const q=c.previousSibling,V=c.nextSibling,K=!q||q.nodeType===1||o.onlyZeroWidthSpace(q)?"":q.textContent,R=!V||V.nodeType===1||o.onlyZeroWidthSpace(V)?"":V.textContent;q&&K.length>0&&(c.textContent=K+c.textContent,o.removeItem(q)),V&&V.length>0&&(c.textContent+=R,o.removeItem(V));const j={container:c,startOffset:K.length,endOffset:c.textContent.length-R.length};return this.setRange(c,j.startOffset,c,j.endOffset),j}else if(!o.isBreak(c)&&!o.isListCell(c)&&o.isFormatElement(_)){let q=null;(!c.previousSibling||o.isBreak(c.previousSibling))&&(q=o.createTextNode(o.zeroWidthSpace),c.parentNode.insertBefore(q,c)),(!c.nextSibling||o.isBreak(c.nextSibling))&&(q=o.createTextNode(o.zeroWidthSpace),c.parentNode.insertBefore(q,c.nextSibling)),o._isIgnoreNodeChange(c)&&(c=c.nextSibling,$=0)}this.setRange(c,$,c,$)}return this.history.push(!0),c}},_setIntoFreeFormat:function(c){const u=c.parentNode;let h,p;for(;o.isFormatElement(c)||o.isRangeFormatElement(c);){for(h=c.childNodes,p=null;h[0];){if(p=h[0],o.isFormatElement(p)||o.isRangeFormatElement(p)){if(this._setIntoFreeFormat(p),!c.parentNode)break;h=c.childNodes;continue}u.insertBefore(p,c)}c.childNodes.length===0&&o.removeItem(c),c=o.createElement("BR"),u.insertBefore(c,p.nextSibling)}return c},removeNode:function(){this._resetRangeToTextNode();const c=this.getRange(),u=c.startOffset===0,h=f.isEdgePoint(c.endContainer,c.endOffset,"end");let p=null,m=null,g=null;u&&(m=o.getFormatElement(c.startContainer),p=m.previousElementSibling,m=m&&p),h&&(g=o.getFormatElement(c.endContainer),g=g&&g.nextElementSibling);let _,C=0,E=c.startContainer,k=c.endContainer,T=c.startOffset,O=c.endOffset;const M=c.commonAncestorContainer.nodeType===3&&c.commonAncestorContainer.parentNode===E.parentNode?E.parentNode:c.commonAncestorContainer;if(M===E&&M===k&&(E=M.children[T],k=M.children[O],T=O=0),!E||!k)return{container:M,offset:0};if(E===k&&c.collapsed&&E.textContent&&o.onlyZeroWidthSpace(E.textContent.substr(T)))return{container:E,offset:T,prevContainer:E&&E.parentNode?E:null};let F=null,N=null;const P=o.getListChildNodes(M,null);let B=o.getArrayIndex(P,E),z=o.getArrayIndex(P,k);if(P.length>0&&B>-1&&z>-1){for(let q=B+1,V=E;q>=0;q--)P[q]===V.parentNode&&P[q].firstChild===V&&T===0&&(B=q,V=V.parentNode);for(let q=z-1,V=k;q>B;q--)P[q]===V.parentNode&&P[q].nodeType===1&&(P.splice(q,1),V=V.parentNode,--z)}else{if(P.length===0){if(o.isFormatElement(M)||o.isRangeFormatElement(M)||o.isWysiwygDiv(M)||o.isBreak(M)||o.isMedia(M))return{container:M,offset:0};if(M.nodeType===3)return{container:M,offset:O};P.push(M),E=k=M}else if(E=k=P[0],o.isBreak(E)||o.onlyZeroWidthSpace(E))return{container:o.isMedia(M)?M:E,offset:0};B=z=0}for(let q=B;q<=z;q++){const V=P[q];if(V.length===0||V.nodeType===3&&V.data===void 0){this._nodeRemoveListItem(V);continue}if(V===E){if(E.nodeType===1){if(o.isComponent(E))continue;F=o.createTextNode(E.textContent)}else V===k?(F=o.createTextNode(E.substringData(0,T)+k.substringData(O,k.length-O)),C=T):F=o.createTextNode(E.substringData(0,T));if(F.length>0?E.data=F.data:this._nodeRemoveListItem(E),V===k)break;continue}if(V===k){if(k.nodeType===1){if(o.isComponent(k))continue;N=o.createTextNode(k.textContent)}else N=o.createTextNode(k.substringData(O,k.length-O));N.length>0?k.data=N.data:this._nodeRemoveListItem(k);continue}this._nodeRemoveListItem(V)}const D=o.getParentElement(k,"ul"),$=o.getParentElement(E,"li");if(D&&$&&$.contains(D)?(_=D.previousSibling,C=_.textContent.length):(_=k&&k.parentNode?k:E&&E.parentNode?E:c.endContainer||c.startContainer,C=!u&&!h?C:h?_.textContent.length:0),!o.isWysiwygDiv(_)&&_.childNodes.length===0){const q=o.removeItemAllParents(_,null,null);q&&(_=q.sc||q.ec||t.element.wysiwyg)}return!o.getFormatElement(_)&&!(E&&E.parentNode)&&(g?(_=g,C=0):m&&(_=m,C=1)),this.setRange(_,C,_,C),this.history.push(!0),{container:_,offset:C,prevContainer:p}},_nodeRemoveListItem:function(c){const u=o.getFormatElement(c,null);o.removeItem(c),o.isListCell(u)&&(o.removeItemAllParents(u,null,null),u&&o.isList(u.firstChild)&&u.insertBefore(o.createTextNode(o.zeroWidthSpace),u.firstChild))},applyRangeFormatElement:function(c){this.getRange_addLine(this.getRange(),null);const u=this.getSelectedElementsAndComponents(!1);if(!u||u.length===0)return;e:for(let O=0,M=u.length,F,N,P,B,z,D;O<M;O++)if(F=u[O],!!o.isListCell(F)&&(N=F.lastElementChild,N&&o.isListCell(F.nextElementSibling)&&u.indexOf(F.nextElementSibling)>-1&&(B=N.lastElementChild,u.indexOf(B)>-1))){let $=null;for(;$=B.lastElementChild;)if(o.isList($))if(u.indexOf($.lastElementChild)>-1)B=$.lastElementChild;else continue e;P=N.firstElementChild,z=u.indexOf(P),D=u.indexOf(B),u.splice(z,D-z+1),M=u.length;continue}let h=u[u.length-1],p,m,g;o.isRangeFormatElement(h)||o.isFormatElement(h)?p=h:p=o.getRangeFormatElement(h,null)||o.getFormatElement(h,null),o.isCell(p)?(m=null,g=p):(m=p.nextSibling,g=p.parentNode);let _=o.getElementDepth(p),C=null;const E=[],k=function(O,M,F){let N=null;if(O!==M&&!o.isTable(M)){if(M&&o.getElementDepth(O)===o.getElementDepth(M))return F;N=o.removeItemAllParents(M,null,O)}return N?N.ec:F};for(let O=0,M=u.length,F,N,P,B,z,D,$;O<M;O++)if(F=u[O],N=F.parentNode,!(!N||c.contains(N)))if(P=o.getElementDepth(F),o.isList(N)){if(C===null&&(D?(C=D,$=!0,D=null):C=N.cloneNode(!1)),E.push(F),z=u[O+1],O===M-1||z&&z.parentNode!==N){z&&F.contains(z.parentNode)&&(D=z.parentNode.cloneNode(!1));let q=N.parentNode,V;for(;o.isList(q);)V=o.createElement(q.nodeName),V.appendChild(C),C=V,q=q.parentNode;const K=this.detachRangeFormatElement(N,E,null,!0,!0);_>=P?(_=P,g=K.cc,m=k(g,N,K.ec),m&&(g=m.parentNode)):g===K.cc&&(m=K.ec),g!==K.cc&&(B=k(g,K.cc,B),B!==void 0?m=B:m=K.cc);for(let R=0,j=K.removeArray.length;R<j;R++)C.appendChild(K.removeArray[R]);$||c.appendChild(C),D&&K.removeArray[K.removeArray.length-1].appendChild(D),C=null,$=!1}}else _>=P&&(_=P,g=N,m=F.nextSibling),c.appendChild(F),g!==N&&(B=k(g,N),B!==void 0&&(m=B));if(this.effectNode=null,o.mergeSameTags(c,null,!1),o.mergeNestedTags(c,function(O){return this.isList(O)}.bind(o)),m&&o.getElementDepth(m)>0&&(o.isList(m.parentNode)||o.isList(m.parentNode.parentNode))){const O=o.getParentElement(m,function(F){return this.isRangeFormatElement(F)&&!this.isList(F)}.bind(o)),M=o.splitElement(m,null,O?o.getElementDepth(O)+1:0);M.parentNode.insertBefore(c,M)}else g.insertBefore(c,m),k(c,m);const T=o.getEdgeChildNodes(c.firstElementChild,c.lastElementChild);u.length>1?this.setRange(T.sc,0,T.ec,T.ec.textContent.length):this.setRange(T.ec,T.ec.textContent.length,T.ec,T.ec.textContent.length),this.history.push(!1)},detachRangeFormatElement:function(c,u,h,p,m){const g=this.getRange();let _=g.startOffset,C=g.endOffset,E=o.getListChildNodes(c,function(K){return K.parentNode===c}),k=c.parentNode,T=null,O=null,M=c.cloneNode(!1);const F=[],N=o.isList(h);let P=!1,B=!1,z=!1;function D(K,R,j,I){if(o.onlyZeroWidthSpace(R)&&(R.innerHTML=o.zeroWidthSpace,_=C=1),R.nodeType===3)return K.insertBefore(R,j),R;const H=(z?R:I).childNodes;let U=R.cloneNode(!1),G=null,X=null;for(;H[0];)X=H[0],o._notTextNode(X)&&!o.isBreak(X)&&!o.isListCell(U)?(U.childNodes.length>0&&(G||(G=U),K.insertBefore(U,j),U=R.cloneNode(!1)),K.insertBefore(X,j),G||(G=X)):U.appendChild(X);if(U.childNodes.length>0){if(o.isListCell(K)&&o.isListCell(U)&&o.isList(j))if(N){for(G=j;j;)U.appendChild(j),j=j.nextSibling;K.parentNode.insertBefore(U,K.nextElementSibling)}else{const Z=I.nextElementSibling,te=o.detachNestedList(I,!1);if(c!==te||Z!==I.nextElementSibling){const ne=U.childNodes;for(;ne[0];)I.appendChild(ne[0]);c=te,B=!0}}else K.insertBefore(U,j);G||(G=U)}return G}for(let K=0,R=E.length,j,I,H;K<R;K++)if(j=E[K],!(j.nodeType===3&&o.isList(M)))if(z=!1,p&&K===0&&(!u||u.length===R||u[0]===j?T=c.previousSibling:T=M),u&&(I=u.indexOf(j)),u&&I===-1)M||(M=c.cloneNode(!1)),M.appendChild(j);else{if(u&&(H=u[I+1]),M&&M.children.length>0&&(k.insertBefore(M,c),M=null),!N&&o.isListCell(j))if(H&&o.getElementDepth(j)!==o.getElementDepth(H)&&(o.isListCell(k)||o.getArrayItem(j.children,o.isList,!1))){const U=j.nextElementSibling,G=o.detachNestedList(j,!1);(c!==G||U!==j.nextElementSibling)&&(c=G,B=!0)}else{const U=j;j=o.createElement(p?U.nodeName:o.isList(c.parentNode)||o.isListCell(c.parentNode)?"LI":o.isCell(c.parentNode)?"DIV":s.defaultTag);const G=o.isListCell(j),X=U.childNodes;for(;X[0]&&!(o.isList(X[0])&&!G);)j.appendChild(X[0]);o.copyFormatAttributes(j,U),z=!0}else j=j.cloneNode(!1);if(!B&&(p?(F.push(j),o.removeItem(E[K])):(h?(P||(k.insertBefore(h,c),P=!0),j=D(h,j,null,E[K])):j=D(k,j,c,E[K]),B||(u?(O=j,T||(T=j)):T||(T=O=j))),B)){B=z=!1,E=o.getListChildNodes(c,function(U){return U.parentNode===c}),M=c.cloneNode(!1),k=c.parentNode,K=-1,R=E.length;continue}}const $=c.parentNode;let q=c.nextSibling;M&&M.children.length>0&&$.insertBefore(M,q),h?T=h.previousSibling:T||(T=c.previousSibling),q=c.nextSibling!==M?c.nextSibling:M?M.nextSibling:null,c.children.length===0||c.textContent.length===0?o.removeItem(c):o.removeEmptyNode(c,null,!1);let V=null;if(p)V={cc:$,sc:T,so:_,ec:q,eo:C,removeArray:F};else{T||(T=O),O||(O=T);const K=o.getEdgeChildNodes(T,O.parentNode?T:O);V={cc:(K.sc||K.ec).parentNode,sc:K.sc,so:_,ec:K.ec,eo:C,removeArray:null}}if(this.effectNode=null,m)return V;!p&&V&&(u?this.setRange(V.sc,_,V.ec,C):this.setRange(V.sc,0,V.sc,0)),this.history.push(!1)},detachList:function(c,u){let h={},p=!1,m=!1,g=null,_=null;const C=function(E){return!this.isComponent(E)}.bind(o);for(let E=0,k=c.length,T,O,M,F;E<k;E++){if(M=E===k-1,O=o.getRangeFormatElement(c[E],C),F=o.isList(O),!T&&F)T=O,h={r:T,f:[o.getParentElement(c[E],"LI")]},E===0&&(p=!0);else if(T&&F)if(T!==O){const N=this.detachRangeFormatElement(h.f[0].parentNode,h.f,null,u,!0);O=c[E].parentNode,p&&(g=N.sc,p=!1),M&&(_=N.ec),F?(T=O,h={r:T,f:[o.getParentElement(c[E],"LI")]},M&&(m=!0)):T=null}else h.f.push(o.getParentElement(c[E],"LI")),M&&(m=!0);if(M&&o.isList(T)){const N=this.detachRangeFormatElement(h.f[0].parentNode,h.f,null,u,!0);(m||k===1)&&(_=N.ec),p&&(g=N.sc||_)}}return{sc:g,ec:_}},nodeChange:function(c,u,h,p){this._resetRangeToTextNode();let m=this.getRange_addLine(this.getRange(),null);u=u&&u.length>0?u:!1,h=h&&h.length>0?h:!1;const g=!c,_=g&&!h&&!u;let C=m.startContainer,E=m.startOffset,k=m.endContainer,T=m.endOffset;if(_&&m.collapsed&&o.isFormatElement(C.parentNode)||C===k&&C.nodeType===1&&o.isNonEditable(C)){const X=C.parentNode;if(!o.isListCell(X)||!o.getValues(X.style).some(function(Z){return this._listKebab.indexOf(Z)>-1}.bind(this)))return}if(m.collapsed&&!_&&C.nodeType===1&&!o.isBreak(C)&&!o.isComponent(C)){let X=null;const Z=C.childNodes[E];Z&&(Z.nextSibling?X=o.isBreak(Z)?Z:Z.nextSibling:X=null);const te=o.createTextNode(o.zeroWidthSpace);C.insertBefore(te,X),this.setRange(te,1,te,1),m=this.getRange(),C=m.startContainer,E=m.startOffset,k=m.endContainer,T=m.endOffset}o.isFormatElement(C)&&(C=C.childNodes[E]||C.firstChild,E=0),o.isFormatElement(k)&&(k=k.childNodes[T]||k.lastChild,T=k.textContent.length),g&&(c=o.createElement("DIV"));const O=l.RegExp,M=c.nodeName;if(!_&&C===k&&!h&&c){let X=C,Z=0;const te=[],ne=c.style;for(let ie=0,ce=ne.length;ie<ce;ie++)te.push(ne[ie]);const se=c.classList;for(let ie=0,ce=se.length;ie<ce;ie++)te.push("."+se[ie]);if(te.length>0){for(;!o.isFormatElement(X)&&!o.isWysiwygDiv(X);){for(let ie=0;ie<te.length;ie++)if(X.nodeType===1){const ce=te[ie],re=/^\./.test(ce)?new O("\\s*"+ce.replace(/^\./,"")+"(\\s+|$)","ig"):!1,de=g?!!X.style[ce]:!!X.style[ce]&&!!c.style[ce]&&X.style[ce]===c.style[ce],fe=re===!1?!1:g?!!X.className.match(re):!!X.className.match(re)&&!!c.className.match(re);(de||fe)&&Z++}X=X.parentNode}if(Z>=te.length)return}}let F={},N={},P,B="",z="",D="";if(u){for(let X=0,Z=u.length,te;X<Z;X++)te=u[X],/^\./.test(te)?z+=(z?"|":"\\s*(?:")+te.replace(/^\./,""):B+=(B?"|":"(?:;|^|\\s)(?:")+te;B&&(B+=")\\s*:[^;]*\\s*(?:;|$)",B=new O(B,"ig")),z&&(z+=")(?=\\s+|$)",z=new O(z,"ig"))}if(h){D="^(?:"+h[0];for(let X=1;X<h.length;X++)D+="|"+h[X];D+=")$",D=new O(D,"i")}const $=l.Boolean,q={v:!1},V=function(X){const Z=X.cloneNode(!1);if(Z.nodeType===3||o.isBreak(Z))return Z;if(_)return null;const te=!D&&g||D&&D.test(Z.nodeName);if(te&&!p)return q.v=!0,null;const ne=Z.style.cssText;let se="";B&&ne.length>0&&(se=ne.replace(B,"").trim(),se!==ne&&(q.v=!0));const ie=Z.className;let ce="";return z&&ie.length>0&&(ce=ie.replace(z,"").trim(),ce!==ie&&(q.v=!0)),g&&(z||!ie)&&(B||!ne)&&!se&&!ce&&te?(q.v=!0,null):se||ce||Z.nodeName!==M||$(B)!==$(ne)||$(z)!==$(ie)?(B&&ne.length>0&&(Z.style.cssText=se),Z.style.cssText||Z.removeAttribute("style"),z&&ie.length>0&&(Z.className=ce.trim()),Z.className.trim()||Z.removeAttribute("class"),!Z.style.cssText&&!Z.className&&(Z.nodeName===M||te)?(q.v=!0,null):Z):(q.v=!0,null)},K=this.getSelectedElements(null);m=this.getRange(),C=m.startContainer,E=m.startOffset,k=m.endContainer,T=m.endOffset,o.getFormatElement(C,null)||(C=o.getChildElement(K[0],function(X){return X.nodeType===3},!1),E=0),o.getFormatElement(k,null)||(k=o.getChildElement(K[K.length-1],function(X){return X.nodeType===3},!1),T=k.textContent.length);const R=o.getFormatElement(C,null)===o.getFormatElement(k,null),j=K.length-(R?0:1);P=c.cloneNode(!1);const I=_||g&&function(X){for(let Z=0,te=X.length;Z<te;Z++)if(o._isMaintainedNode(X[Z])||o._isSizeNode(X[Z]))return!0;return!1}(h),H=g||o._isSizeNode(P),U=this._util_getMaintainedNode.bind(o,I,H),G=this._util_isMaintainedNode.bind(o,I,H);if(R){this._resetCommonListCell(K[0],u)&&(m=this.setRange(C,E,k,T));const X=this._nodeChange_oneLine(K[0],P,V,C,E,k,T,_,g,m.collapsed,q,U,G);F.container=X.startContainer,F.offset=X.startOffset,N.container=X.endContainer,N.offset=X.endOffset,F.container===N.container&&o.onlyZeroWidthSpace(F.container)&&(F.offset=N.offset=1),this._setCommonListStyle(X.ancestor,null)}else{let X=!1;j>0&&this._resetCommonListCell(K[j],u)&&(X=!0),this._resetCommonListCell(K[0],u)&&(X=!0),X&&this.setRange(C,E,k,T),j>0&&(P=c.cloneNode(!1),N=this._nodeChange_endLine(K[j],P,V,k,T,_,g,q,U,G));for(let Z=j-1,te;Z>0;Z--)this._resetCommonListCell(K[Z],u),P=c.cloneNode(!1),te=this._nodeChange_middleLine(K[Z],P,V,_,g,q,N.container),te.endContainer&&te.ancestor.contains(te.endContainer)&&(N.ancestor=null,N.container=te.endContainer),this._setCommonListStyle(te.ancestor,null);P=c.cloneNode(!1),F=this._nodeChange_startLine(K[0],P,V,C,E,_,g,q,U,G,N.container),F.endContainer&&(N.ancestor=null,N.container=F.endContainer),j<=0?N=F:N.container||(N.ancestor=null,N.container=F.container,N.offset=F.container.textContent.length),this._setCommonListStyle(F.ancestor,null),this._setCommonListStyle(N.ancestor||o.getFormatElement(N.container),null)}this.controllersOff(),this.setRange(F.container,F.offset,N.container,N.offset),this.history.push(!1)},_resetCommonListCell:function(c,u){if(!o.isListCell(c))return;u||(u=this._listKebab);const h=o.getArrayItem(c.childNodes,function(O){return!o.isBreak(O)},!0),p=c.style,m=[],g=[],_=o.getValues(p);for(let O=0,M=this._listKebab.length;O<M;O++)_.indexOf(this._listKebab[O])>-1&&u.indexOf(this._listKebab[O])>-1&&(m.push(this._listCamel[O]),g.push(this._listKebab[O]));if(!m.length)return;const C=o.createElement("SPAN");for(let O=0,M=m.length;O<M;O++)C.style[m[O]]=p[g[O]],p.removeProperty(g[O]);let E=C.cloneNode(!1),k=null,T=!1;for(let O=0,M=h.length,F,N;O<M;O++)F=h[O],!s._textTagsMap[F.nodeName.toLowerCase()]&&(N=o.getValues(F.style),N.length===0||m.some(function(P){return N.indexOf(P)===-1})&&N.some(function(P){})?(k=F.nextSibling,E.appendChild(F)):E.childNodes.length>0&&(c.insertBefore(E,k),E=C.cloneNode(!1),k=null,T=!0));return E.childNodes.length>0&&(c.insertBefore(E,k),T=!0),p.length||c.removeAttribute("style"),T},_setCommonListStyle:function(c,u){if(!o.isListCell(c))return;const h=o.getArrayItem((u||c).childNodes,function(E){return!o.isBreak(E)},!0);if(u=h[0],!u||h.length>1||u.nodeType!==1)return;const p=u.style,m=c.style,g=u.nodeName.toLowerCase();let _=!1;s._textTagsMap[g]===s._defaultCommand.bold.toLowerCase()&&(m.fontWeight="bold"),s._textTagsMap[g]===s._defaultCommand.italic.toLowerCase()&&(m.fontStyle="italic");const C=o.getValues(p);if(C.length>0)for(let E=0,k=this._listCamel.length;E<k;E++)C.indexOf(this._listKebab[E])>-1&&(m[this._listCamel[E]]=p[this._listCamel[E]],p.removeProperty(this._listKebab[E]),_=!0);if(this._setCommonListStyle(c,u),!!_&&!p.length){const E=u.childNodes,k=u.parentNode,T=u.nextSibling;for(;E.length>0;)k.insertBefore(E[0],T);o.removeItem(u)}},_stripRemoveNode:function(c){const u=c.parentNode;if(!c||c.nodeType===3||!u)return;const h=c.childNodes;for(;h[0];)u.insertBefore(h[0],c);u.removeChild(c)},_util_getMaintainedNode:function(c,u,h){return!h||c?null:this.getParentElement(h,this._isMaintainedNode.bind(this))||(u?null:this.getParentElement(h,this._isSizeNode.bind(this)))},_util_isMaintainedNode:function(c,u,h){if(!h||c||h.nodeType!==1)return!1;const p=this._isMaintainedNode(h);return this.getParentElement(h,this._isMaintainedNode.bind(this))?p:p||(u?!1:this._isSizeNode(h))},_nodeChange_oneLine:function(c,u,h,p,m,g,_,C,E,k,T,O,M){let F=p.parentNode;for(;!F.nextSibling&&!F.previousSibling&&!o.isFormatElement(F.parentNode)&&!o.isWysiwygDiv(F.parentNode)&&F.nodeName!==u.nodeName;)F=F.parentNode;if(!E&&F===g.parentNode&&F.nodeName===u.nodeName&&o.onlyZeroWidthSpace(p.textContent.slice(0,m))&&o.onlyZeroWidthSpace(g.textContent.slice(_))){const fe=F.childNodes;let we=!0;for(let _e=0,Oe=fe.length,Me,W,A,L;_e<Oe;_e++){if(Me=fe[_e],L=!o.onlyZeroWidthSpace(Me),Me===p){W=!0;continue}if(Me===g){A=!0;continue}if(!W&&L||W&&A&&L){we=!1;break}}if(we)return o.copyTagAttributes(F,u),{ancestor:c,startContainer:p,startOffset:m,endContainer:g,endOffset:_}}T.v=!1;const N=c,P=[u],B=c.cloneNode(!1),z=p===g;let D=p,$=m,q=g,V=_,K=!1,R=!1,j,I,H,U,G;const X=l.RegExp;function Z(fe){const we=new X("(?:;|^|\\s)(?:"+U+"null)\\s*:[^;]*\\s*(?:;|$)","ig");let _e="";return we&&fe.style.cssText.length>0&&(_e=we.test(fe.style.cssText)),!_e}if(function fe(we,_e){const Oe=we.childNodes;for(let Me=0,W=Oe.length,A;Me<W;Me++){let L=Oe[Me];if(!L)continue;let Y=_e,Q;if(!K&&L===D){let J=B;G=O(L);const ee=o.createTextNode(D.nodeType===1?"":D.substringData(0,$)),ue=o.createTextNode(D.nodeType===1?"":D.substringData($,z&&V>=$?V-$:D.data.length-$));if(G){const Le=O(_e);if(Le&&Le.parentNode!==J){let me=Le,Re=null;for(;me.parentNode!==J;){for(_e=Re=me.parentNode.cloneNode(!1);me.childNodes[0];)Re.appendChild(me.childNodes[0]);me.appendChild(Re),me=me.parentNode}me.parentNode.appendChild(Le)}G=G.cloneNode(!1)}o.onlyZeroWidthSpace(ee)||_e.appendChild(ee);const pe=O(_e);for(pe&&(G=pe),G&&(J=G),I=L,j=[],U="";I!==J&&I!==N&&I!==null;)A=M(I)?null:h(I),A&&I.nodeType===1&&Z(I)&&(j.push(A),U+=I.style.cssText.substr(0,I.style.cssText.indexOf(":"))+"|"),I=I.parentNode;const Ee=j.pop()||ue;for(H=I=Ee;j.length>0;)I=j.pop(),H.appendChild(I),H=I;if(u.appendChild(Ee),J.appendChild(u),G&&!O(q)&&(u=u.cloneNode(!1),B.appendChild(u),P.push(u)),D=ue,$=0,K=!0,I!==ue&&I.appendChild(D),!z)continue}if(!R&&L===q){G=O(L);const J=o.createTextNode(q.nodeType===1?"":q.substringData(V,q.length-V)),ee=o.createTextNode(z||q.nodeType===1?"":q.substringData(0,V));if(G?G=G.cloneNode(!1):M(u.parentNode)&&!G&&(u=u.cloneNode(!1),B.appendChild(u),P.push(u)),!o.onlyZeroWidthSpace(J)){I=L,U="",j=[];const pe=[];for(;I!==B&&I!==N&&I!==null;)I.nodeType===1&&Z(I)&&(M(I)?pe.push(I.cloneNode(!1)):j.push(I.cloneNode(!1)),U+=I.style.cssText.substr(0,I.style.cssText.indexOf(":"))+"|"),I=I.parentNode;for(j=j.concat(pe),Q=H=I=j.pop()||J;j.length>0;)I=j.pop(),H.appendChild(I),H=I;B.appendChild(Q),I.textContent=J.data}if(G&&Q){const pe=O(Q);pe&&(G=pe)}for(I=L,j=[],U="";I!==B&&I!==N&&I!==null;)A=M(I)?null:h(I),A&&I.nodeType===1&&Z(I)&&(j.push(A),U+=I.style.cssText.substr(0,I.style.cssText.indexOf(":"))+"|"),I=I.parentNode;const ue=j.pop()||ee;for(H=I=ue;j.length>0;)I=j.pop(),H.appendChild(I),H=I;G?(u=u.cloneNode(!1),u.appendChild(ue),G.insertBefore(u,G.firstChild),B.appendChild(G),P.push(u),G=null):u.appendChild(ue),q=ee,V=ee.data.length,R=!0,!C&&k&&(u=ee,ee.textContent=o.zeroWidthSpace),I!==ee&&I.appendChild(q);continue}if(K){if(L.nodeType===1&&!o.isBreak(L)){o._isIgnoreNodeChange(L)?(B.appendChild(L.cloneNode(!0)),k||(u=u.cloneNode(!1),B.appendChild(u),P.push(u))):fe(L,L);continue}I=L,j=[],U="";const J=[];for(;I.parentNode!==null&&I!==N&&I!==u;)A=R?I.cloneNode(!1):h(I),I.nodeType===1&&!o.isBreak(L)&&A&&Z(I)&&(M(I)?G||J.push(A):j.push(A),U+=I.style.cssText.substr(0,I.style.cssText.indexOf(":"))+"|"),I=I.parentNode;j=j.concat(J);const ee=j.pop()||L;for(H=I=ee;j.length>0;)I=j.pop(),H.appendChild(I),H=I;if(M(u.parentNode)&&!M(ee)&&!o.onlyZeroWidthSpace(u)&&(u=u.cloneNode(!1),B.appendChild(u),P.push(u)),!R&&!G&&M(ee)){u=u.cloneNode(!1);const ue=ee.childNodes;for(let pe=0,Ee=ue.length;pe<Ee;pe++)u.appendChild(ue[pe]);ee.appendChild(u),B.appendChild(ee),P.push(u),u.children.length>0?_e=I:_e=u}else ee===L?R?_e=B:_e=u:R?(B.appendChild(ee),_e=I):(u.appendChild(ee),_e=I);if(G&&L.nodeType===3)if(O(L)){const ue=o.getParentElement(_e,function(pe){return this._isMaintainedNode(pe.parentNode)||pe.parentNode===B}.bind(o));G.appendChild(ue),u=ue.cloneNode(!1),P.push(u),B.appendChild(u)}else G=null}Q=L.cloneNode(!1),_e.appendChild(Q),L.nodeType===1&&!o.isBreak(L)&&(Y=Q),fe(L,Y)}}(c,B),E&&!C&&!T.v)return{ancestor:c,startContainer:p,startOffset:m,endContainer:g,endOffset:_};if(C=C&&E,C)for(let fe=0;fe<P.length;fe++){let we=P[fe],_e,Oe,Me;if(k)_e=o.createTextNode(o.zeroWidthSpace),B.replaceChild(_e,we);else{const W=we.childNodes;for(Oe=W[0];W[0];)Me=W[0],B.insertBefore(Me,we);o.removeItem(we)}fe===0&&(k?D=q=_e:(D=Oe,q=Me))}else{if(E)for(let fe=0;fe<P.length;fe++)this._stripRemoveNode(P[fe]);k&&(D=q=u)}o.removeEmptyNode(B,u,!1),k&&($=D.textContent.length,V=q.textContent.length);const te=C||q.textContent.length===0;!o.isBreak(q)&&q.textContent.length===0&&(o.removeItem(q),q=D),V=te?q.textContent.length:V;const ne={s:0,e:0},se=o.getNodePath(D,B,ne),ie=!q.parentNode;ie&&(q=D);const ce={s:0,e:0},re=o.getNodePath(q,B,!ie&&!te?ce:null);$+=ne.s,V=k?$:ie?D.textContent.length:te?V+ne.s:V+ce.s;const de=o.mergeSameTags(B,[se,re],!0);return c.parentNode.replaceChild(B,c),D=o.getNodeFromPath(se,B),q=o.getNodeFromPath(re,B),{ancestor:B,startContainer:D,startOffset:$+de[0],endContainer:q,endOffset:V+de[1]}},_nodeChange_startLine:function(c,u,h,p,m,g,_,C,E,k,T){let O=p.parentNode;for(;!O.nextSibling&&!O.previousSibling&&!o.isFormatElement(O.parentNode)&&!o.isWysiwygDiv(O.parentNode)&&O.nodeName!==u.nodeName;)O=O.parentNode;if(!_&&O.nodeName===u.nodeName&&!o.isFormatElement(O)&&!O.nextSibling&&o.onlyZeroWidthSpace(p.textContent.slice(0,m))){let K=!0,R=p.previousSibling;for(;R;){if(!o.onlyZeroWidthSpace(R)){K=!1;break}R=R.previousSibling}if(K)return o.copyTagAttributes(O,u),{ancestor:c,container:p,offset:m}}C.v=!1;const M=c,F=[u],N=c.cloneNode(!1);let P=p,B=m,z=!1,D,$,q,V;if(function K(R,j){const I=R.childNodes;for(let H=0,U=I.length,G,X;H<U;H++){const Z=I[H];if(!Z)continue;let te=j;if(z&&!o.isBreak(Z)){if(Z.nodeType===1){if(o._isIgnoreNodeChange(Z)){if(u=u.cloneNode(!1),X=Z.cloneNode(!0),N.appendChild(X),N.appendChild(u),F.push(u),T&&Z.contains(T)){const ce=o.getNodePath(T,Z);T=o.getNodeFromPath(ce,X)}}else K(Z,Z);continue}$=Z,D=[];const ne=[];for(;$.parentNode!==null&&$!==M&&$!==u;)G=h($),$.nodeType===1&&G&&(k($)?V||ne.push(G):D.push(G)),$=$.parentNode;D=D.concat(ne);const se=D.length>0,ie=D.pop()||Z;for(q=$=ie;D.length>0;)$=D.pop(),q.appendChild($),q=$;if(k(u.parentNode)&&!k(ie)&&(u=u.cloneNode(!1),N.appendChild(u),F.push(u)),!V&&k(ie)){u=u.cloneNode(!1);const ce=ie.childNodes;for(let re=0,de=ce.length;re<de;re++)u.appendChild(ce[re]);ie.appendChild(u),N.appendChild(ie),j=k($)?u:$,F.push(u)}else se?(u.appendChild(ie),j=$):j=u;if(V&&Z.nodeType===3)if(E(Z)){const ce=o.getParentElement(j,function(re){return this._isMaintainedNode(re.parentNode)||re.parentNode===N}.bind(o));V.appendChild(ce),u=ce.cloneNode(!1),F.push(u),N.appendChild(u)}else V=null}if(!z&&Z===P){let ne=N;V=E(Z);const se=o.createTextNode(P.nodeType===1?"":P.substringData(0,B)),ie=o.createTextNode(P.nodeType===1?"":P.substringData(B,P.length-B));if(V){const de=E(j);if(de&&de.parentNode!==ne){let fe=de,we=null;for(;fe.parentNode!==ne;){for(j=we=fe.parentNode.cloneNode(!1);fe.childNodes[0];)we.appendChild(fe.childNodes[0]);fe.appendChild(we),fe=fe.parentNode}fe.parentNode.appendChild(de)}V=V.cloneNode(!1)}o.onlyZeroWidthSpace(se)||j.appendChild(se);const ce=E(j);for(ce&&(V=ce),V&&(ne=V),$=j,D=[];$!==ne&&$!==null;)G=h($),$.nodeType===1&&G&&D.push(G),$=$.parentNode;const re=D.pop()||j;for(q=$=re;D.length>0;)$=D.pop(),q.appendChild($),q=$;re!==j?(u.appendChild(re),j=$):j=u,o.isBreak(Z)&&u.appendChild(Z.cloneNode(!1)),ne.appendChild(u),P=ie,B=0,z=!0,j.appendChild(P);continue}G=z?h(Z):Z.cloneNode(!1),G&&(j.appendChild(G),Z.nodeType===1&&!o.isBreak(Z)&&(te=G)),K(Z,te)}}(c,N),_&&!g&&!C.v)return{ancestor:c,container:p,offset:m,endContainer:T};if(g=g&&_,g)for(let K=0;K<F.length;K++){let R=F[K];const j=R.childNodes,I=j[0];for(;j[0];)N.insertBefore(j[0],R);o.removeItem(R),K===0&&(P=I)}else if(_){u=u.firstChild;for(let K=0;K<F.length;K++)this._stripRemoveNode(F[K])}if(!g&&N.childNodes.length===0)c.childNodes?P=c.childNodes[0]:(P=o.createTextNode(o.zeroWidthSpace),c.appendChild(P));else{o.removeEmptyNode(N,u,!1),o.onlyZeroWidthSpace(N.textContent)&&(P=N.firstChild,B=0);const K={s:0,e:0},R=o.getNodePath(P,N,K);B+=K.s;const j=o.mergeSameTags(N,[R],!0);c.parentNode.replaceChild(N,c),P=o.getNodeFromPath(R,N),B+=j[0]}return{ancestor:N,container:P,offset:B,endContainer:T}},_nodeChange_middleLine:function(c,u,h,p,m,g,_){if(!m){let T=null;_&&c.contains(_)&&(T=o.getNodePath(_,c));const O=c.cloneNode(!0),M=u.nodeName,F=u.style.cssText,N=u.className;let P=O.childNodes,B=0,z=P.length;for(let D;B<z&&(D=P[B],D.nodeType!==3);B++)if(D.nodeName===M)D.style.cssText+=F,o.addClass(D,N);else{if(!o.isBreak(D)&&o._isIgnoreNodeChange(D))continue;if(z===1){P=D.childNodes,z=P.length,B=-1;continue}else break}if(z>0&&B===z)return c.innerHTML=O.innerHTML,{ancestor:c,endContainer:T?o.getNodeFromPath(T,c):null}}g.v=!1;const C=c.cloneNode(!1),E=[u];let k=!0;if(function T(O,M){const F=O.childNodes;for(let N=0,P=F.length,B,z;N<P;N++){let D=F[N];if(!D)continue;let $=M;if(!o.isBreak(D)&&o._isIgnoreNodeChange(D)){if(u.childNodes.length>0&&(C.appendChild(u),u=u.cloneNode(!1)),z=D.cloneNode(!0),C.appendChild(z),C.appendChild(u),E.push(u),M=u,_&&D.contains(_)){const q=o.getNodePath(_,D);_=o.getNodeFromPath(q,z)}continue}else B=h(D),B&&(k=!1,M.appendChild(B),D.nodeType===1&&($=B));o.isBreak(D)||T(D,$)}}(c,u),k||m&&!p&&!g.v)return{ancestor:c,endContainer:_};if(C.appendChild(u),p&&m)for(let T=0;T<E.length;T++){let O=E[T];const M=O.childNodes;for(;M[0];)C.insertBefore(M[0],O);o.removeItem(O)}else if(m){u=u.firstChild;for(let T=0;T<E.length;T++)this._stripRemoveNode(E[T])}return o.removeEmptyNode(C,u,!1),o.mergeSameTags(C,null,!0),c.parentNode.replaceChild(C,c),{ancestor:C,endContainer:_}},_nodeChange_endLine:function(c,u,h,p,m,g,_,C,E,k){let T=p.parentNode;for(;!T.nextSibling&&!T.previousSibling&&!o.isFormatElement(T.parentNode)&&!o.isWysiwygDiv(T.parentNode)&&T.nodeName!==u.nodeName;)T=T.parentNode;if(!_&&T.nodeName===u.nodeName&&!o.isFormatElement(T)&&!T.previousSibling&&o.onlyZeroWidthSpace(p.textContent.slice(m))){let V=!0,K=p.nextSibling;for(;K;){if(!o.onlyZeroWidthSpace(K)){V=!1;break}K=K.nextSibling}if(V)return o.copyTagAttributes(T,u),{ancestor:c,container:p,offset:m}}C.v=!1;const O=c,M=[u],F=c.cloneNode(!1);let N=p,P=m,B=!1,z,D,$,q;if(function V(K,R){const j=K.childNodes;for(let I=j.length-1,H;0<=I;I--){const U=j[I];if(!U)continue;let G=R;if(B&&!o.isBreak(U)){if(U.nodeType===1){if(o._isIgnoreNodeChange(U)){u=u.cloneNode(!1);const ne=U.cloneNode(!0);F.insertBefore(ne,R),F.insertBefore(u,ne),M.push(u)}else V(U,U);continue}D=U,z=[];const X=[];for(;D.parentNode!==null&&D!==O&&D!==u;)H=h(D),H&&D.nodeType===1&&(k(D)?q||X.push(H):z.push(H)),D=D.parentNode;z=z.concat(X);const Z=z.length>0,te=z.pop()||U;for($=D=te;z.length>0;)D=z.pop(),$.appendChild(D),$=D;if(k(u.parentNode)&&!k(te)&&(u=u.cloneNode(!1),F.insertBefore(u,F.firstChild),M.push(u)),!q&&k(te)){u=u.cloneNode(!1);const ne=te.childNodes;for(let se=0,ie=ne.length;se<ie;se++)u.appendChild(ne[se]);te.appendChild(u),F.insertBefore(te,F.firstChild),M.push(u),u.children.length>0?R=D:R=u}else Z?(u.insertBefore(te,u.firstChild),R=D):R=u;if(q&&U.nodeType===3)if(E(U)){const ne=o.getParentElement(R,function(se){return this._isMaintainedNode(se.parentNode)||se.parentNode===F}.bind(o));q.appendChild(ne),u=ne.cloneNode(!1),M.push(u),F.insertBefore(u,F.firstChild)}else q=null}if(!B&&U===N){q=E(U);const X=o.createTextNode(N.nodeType===1?"":N.substringData(P,N.length-P)),Z=o.createTextNode(N.nodeType===1?"":N.substringData(0,P));if(q){q=q.cloneNode(!1);const ne=E(R);if(ne&&ne.parentNode!==F){let se=ne,ie=null;for(;se.parentNode!==F;){for(R=ie=se.parentNode.cloneNode(!1);se.childNodes[0];)ie.appendChild(se.childNodes[0]);se.appendChild(ie),se=se.parentNode}se.parentNode.insertBefore(ne,se.parentNode.firstChild)}q=q.cloneNode(!1)}else k(u.parentNode)&&!q&&(u=u.cloneNode(!1),F.appendChild(u),M.push(u));for(o.onlyZeroWidthSpace(X)||R.insertBefore(X,R.firstChild),D=R,z=[];D!==F&&D!==null;)H=k(D)?null:h(D),H&&D.nodeType===1&&z.push(H),D=D.parentNode;const te=z.pop()||R;for($=D=te;z.length>0;)D=z.pop(),$.appendChild(D),$=D;te!==R?(u.insertBefore(te,u.firstChild),R=D):R=u,o.isBreak(U)&&u.appendChild(U.cloneNode(!1)),q?(q.insertBefore(u,q.firstChild),F.insertBefore(q,F.firstChild),q=null):F.insertBefore(u,F.firstChild),N=Z,P=Z.data.length,B=!0,R.insertBefore(N,R.firstChild);continue}H=B?h(U):U.cloneNode(!1),H&&(R.insertBefore(H,R.firstChild),U.nodeType===1&&!o.isBreak(U)&&(G=H)),V(U,G)}}(c,F),_&&!g&&!C.v)return{ancestor:c,container:p,offset:m};if(g=g&&_,g)for(let V=0;V<M.length;V++){let K=M[V];const R=K.childNodes;let j=null;for(;R[0];)j=R[0],F.insertBefore(j,K);o.removeItem(K),V===M.length-1&&(N=j,P=j.textContent.length)}else if(_){u=u.firstChild;for(let V=0;V<M.length;V++)this._stripRemoveNode(M[V])}if(!g&&F.childNodes.length===0)c.childNodes?N=c.childNodes[0]:(N=o.createTextNode(o.zeroWidthSpace),c.appendChild(N));else{if(!_&&u.textContent.length===0)return o.removeEmptyNode(F,null,!1),{ancestor:null,container:null,offset:0};o.removeEmptyNode(F,u,!1),o.onlyZeroWidthSpace(F.textContent)?(N=F.firstChild,P=N.textContent.length):o.onlyZeroWidthSpace(N)&&(N=u,P=1);const V={s:0,e:0},K=o.getNodePath(N,F,V);P+=V.s;const R=o.mergeSameTags(F,[K],!0);c.parentNode.replaceChild(F,c),N=o.getNodeFromPath(K,F),P+=R[0]}return{ancestor:F,container:N,offset:N.nodeType===1&&P===1?N.childNodes.length:P}},actionCall:function(c,u,h){if(u){if(/more/i.test(u)){if(h!==this._moreLayerActiveButton){const p=t.element.toolbar.querySelector("."+c);p&&(this._moreLayerActiveButton&&this.moreLayerOff(),this._moreLayerActiveButton=h,p.style.display="block",y._showToolbarBalloon(),y._showToolbarInline()),o.addClass(h,"on")}else t.element.toolbar.querySelector("."+this._moreLayerActiveButton.getAttribute("data-command"))&&(this.moreLayerOff(),y._showToolbarBalloon(),y._showToolbarInline());return}if(/container/.test(u)&&(this._menuTray[c]===null||h!==this.containerActiveButton)){this.callPlugin(c,this.containerOn.bind(this,h),h);return}if(this.isReadOnly&&o.arrayIncludes(this.resizingDisabledButtons,h))return;if(/submenu/.test(u)&&(this._menuTray[c]===null||h!==this.submenuActiveButton)){this.callPlugin(c,this.submenuOn.bind(this,h),h);return}else if(/dialog/.test(u)){this.callPlugin(c,this.plugins[c].open.bind(this),h);return}else/command/.test(u)?this.callPlugin(c,this.plugins[c].action.bind(this),h):/fileBrowser/.test(u)&&this.callPlugin(c,this.plugins[c].open.bind(this,null),h)}else c&&this.commandHandler(h,c);/submenu/.test(u)?this.submenuOff():/command/.test(u)||(this.submenuOff(),this.containerOff())},commandHandler:function(c,u){if(!(f.isReadOnly&&!/copy|cut|selectAll|codeView|fullScreen|print|preview|showBlocks/.test(u)))switch(u){case"copy":case"cut":this.execCommand(u);break;case"paste":break;case"selectAll":this.containerOff();const h=t.element.wysiwyg;let p=o.getChildElement(h.firstChild,function(E){return E.childNodes.length===0||E.nodeType===3},!1)||h.firstChild,m=o.getChildElement(h.lastChild,function(E){return E.childNodes.length===0||E.nodeType===3},!0)||h.lastChild;if(!p||!m)return;if(o.isMedia(p)){const E=this.getFileComponent(p),k=o.createElement("BR"),T=o.createElement(s.defaultTag);T.appendChild(k),p=E?E.component:p,p.parentNode.insertBefore(T,p),p=k}if(o.isMedia(m)){const E=o.createElement("BR"),k=o.createElement(s.defaultTag);k.appendChild(E),h.appendChild(k),m=E}y._showToolbarBalloon(this.setRange(p,0,m,m.textContent.length));break;case"codeView":this.toggleCodeView();break;case"fullScreen":this.toggleFullScreen(c);break;case"indent":case"outdent":this.indent(u);break;case"undo":this.history.undo();break;case"redo":this.history.redo();break;case"removeFormat":this.removeFormat(),this.focus();break;case"print":this.print();break;case"preview":this.preview();break;case"showBlocks":this.toggleDisplayBlocks();break;case"dir":this.setDir(s.rtl?"ltr":"rtl");break;case"dir_ltr":this.setDir("ltr");break;case"dir_rtl":this.setDir("rtl");break;case"save":if(typeof s.callBackSave=="function")s.callBackSave(this.getContents(!1),this._variable.isChanged);else if(this._variable.isChanged&&typeof b.save=="function")b.save();else throw Error("[SUNEDITOR.core.commandHandler.fail] Please register call back function in creation option. (callBackSave : Function)");this._variable.isChanged=!1,t.tool.save&&t.tool.save.setAttribute("disabled",!0);break;default:u=s._defaultCommand[u.toLowerCase()]||u,this.commandMap[u]||(this.commandMap[u]=c);const g=this._variable.currentNodesMap,_=g.indexOf(u)>-1?null:o.createElement(u);let C=u;/^SUB$/i.test(u)&&g.indexOf("SUP")>-1?C="SUP":/^SUP$/i.test(u)&&g.indexOf("SUB")>-1&&(C="SUB"),this.nodeChange(_,this._commandMapStyles[u]||null,[C],!1),this.focus()}},removeFormat:function(){this.nodeChange(null,null,null,null)},indent:function(c){const u=this.getRange(),h=this.getSelectedElements(null),p=[],m=c!=="indent",g=s.rtl?"marginRight":"marginLeft";let _=u.startContainer,C=u.endContainer,E=u.startOffset,k=u.endOffset;for(let T=0,O=h.length,M,F;T<O;T++)M=h[T],!o.isListCell(M)||!this.plugins.list?(F=/\d+/.test(M.style[g])?o.getNumber(M.style[g],0):0,m?F-=25:F+=25,o.setStyle(M,g,F<=0?"":F+"px")):(m||M.previousElementSibling)&&p.push(M);p.length>0&&this.plugins.list.editInsideList.call(this,m,p),this.effectNode=null,this.setRange(_,E,C,k),this.history.push(!1)},toggleDisplayBlocks:function(){const c=t.element.wysiwyg;o.toggleClass(c,"se-show-block"),o.hasClass(c,"se-show-block")?o.addClass(this._styleCommandMap.showBlocks,"active"):o.removeClass(this._styleCommandMap.showBlocks,"active"),this._resourcesStateChange()},toggleCodeView:function(){const c=this._variable.isCodeView;this.controllersOff(),o.setDisabledButtons(!c,this.codeViewDisabledButtons),c?(o.isNonEditable(t.element.wysiwygFrame)||this._setCodeDataToEditor(),t.element.wysiwygFrame.scrollTop=0,t.element.code.style.display="none",t.element.wysiwygFrame.style.display="block",this._variable._codeOriginCssText=this._variable._codeOriginCssText.replace(/(\s?display(\s+)?:(\s+)?)[a-zA-Z]+(?=;)/,"display: none"),this._variable._wysiwygOriginCssText=this._variable._wysiwygOriginCssText.replace(/(\s?display(\s+)?:(\s+)?)[a-zA-Z]+(?=;)/,"display: block"),s.height==="auto"&&!s.codeMirrorEditor&&(t.element.code.style.height="0px"),this._variable.isCodeView=!1,this._variable.isFullScreen||(this._notHideToolbar=!1,/balloon|balloon-always/i.test(s.mode)&&(t.element._arrow.style.display="",this._isInline=!1,this._isBalloon=!0,y._hideToolbar())),this.nativeFocus(),o.removeClass(this._styleCommandMap.codeView,"active"),o.isNonEditable(t.element.wysiwygFrame)||(this.history.push(!1),this.history._resetCachingButton())):(this._setEditorDataToCodeView(),this._variable._codeOriginCssText=this._variable._codeOriginCssText.replace(/(\s?display(\s+)?:(\s+)?)[a-zA-Z]+(?=;)/,"display: block"),this._variable._wysiwygOriginCssText=this._variable._wysiwygOriginCssText.replace(/(\s?display(\s+)?:(\s+)?)[a-zA-Z]+(?=;)/,"display: none"),this._variable.isFullScreen?t.element.code.style.height="100%":s.height==="auto"&&!s.codeMirrorEditor&&(t.element.code.style.height=t.element.code.scrollHeight>0?t.element.code.scrollHeight+"px":"auto"),s.codeMirrorEditor&&s.codeMirrorEditor.refresh(),this._variable.isCodeView=!0,this._variable.isFullScreen||(this._notHideToolbar=!0,this._isBalloon&&(t.element._arrow.style.display="none",t.element.toolbar.style.left="",this._isInline=!0,this._isBalloon=!1,y._showToolbarInline())),this._variable._range=null,t.element.code.focus(),o.addClass(this._styleCommandMap.codeView,"active")),this._checkPlaceholder(),this.isReadOnly&&o.setDisabledButtons(!0,this.resizingDisabledButtons),typeof b.toggleCodeView=="function"&&b.toggleCodeView(this._variable.isCodeView,this)},_setCodeDataToEditor:function(){const c=this._getCodeView();if(s.fullPage){const u=this._parser.parseFromString(c,"text/html");if(!this.options.__allowedScriptTag){const m=u.head.children;for(let g=0,_=m.length;g<_;g++)/^script$/i.test(m[g].tagName)&&(u.head.removeChild(m[g]),g--,_--)}let h=u.head.innerHTML;(!u.head.querySelector('link[rel="stylesheet"]')||this.options.height==="auto"&&!u.head.querySelector("style"))&&(h+=o._setIframeCssTags(this.options)),this._wd.head.innerHTML=h,this._wd.body.innerHTML=this.convertContentsForEditor(u.body.innerHTML);const p=u.body.attributes;for(let m=0,g=p.length;m<g;m++)p[m].name!=="contenteditable"&&this._wd.body.setAttribute(p[m].name,p[m].value);if(!o.hasClass(this._wd.body,"sun-editor-editable")){const m=s._editableClass.split(" ");for(let g=0;g<m.length;g++)o.addClass(this._wd.body,s._editableClass[g])}}else t.element.wysiwyg.innerHTML=c.length>0?this.convertContentsForEditor(c):"<"+s.defaultTag+"><br></"+s.defaultTag+">"},_setEditorDataToCodeView:function(){const c=this.convertHTMLForCodeView(t.element.wysiwyg,!1);let u="";if(s.fullPage){const h=o.getAttributesToString(this._wd.body,null);u=`<!DOCTYPE html>
<html>
`+this._wd.head.outerHTML.replace(/>(?!\n)/g,`>
`)+"<body "+h+`>
`+c+`</body>
</html>`}else u=c;t.element.code.style.display="block",t.element.wysiwygFrame.style.display="none",this._setCodeView(u)},toggleFullScreen:function(c){const u=t.element.topArea,h=t.element.toolbar,p=t.element.editorArea,m=t.element.wysiwygFrame,g=t.element.code,_=this._variable;this.controllersOff();const C=h.style.display==="none"||this._isInline&&!this._inlineToolbarAttr.isShow;_.isFullScreen?(_.isFullScreen=!1,m.style.cssText=_._wysiwygOriginCssText,g.style.cssText=_._codeOriginCssText,h.style.cssText="",p.style.cssText=_._editorAreaOriginCssText,u.style.cssText=_._originCssText,a.body.style.overflow=_._bodyOverflow,s.height==="auto"&&!s.codeMirrorEditor&&y._codeViewAutoHeight(),s.toolbarContainer&&s.toolbarContainer.appendChild(h),s.stickyToolbar>-1&&o.removeClass(h,"se-toolbar-sticky"),_._fullScreenAttrs.sticky&&!s.toolbarContainer&&(_._fullScreenAttrs.sticky=!1,t.element._stickyDummy.style.display="block",o.addClass(h,"se-toolbar-sticky")),this._isInline=_._fullScreenAttrs.inline,this._isBalloon=_._fullScreenAttrs.balloon,this._isInline&&y._showToolbarInline(),s.toolbarContainer&&o.removeClass(h,"se-toolbar-balloon"),y.onScroll_window(),c&&o.changeElement(c.firstElementChild,d.expansion),t.element.topArea.style.marginTop="",o.removeClass(this._styleCommandMap.fullScreen,"active")):(_.isFullScreen=!0,_._fullScreenAttrs.inline=this._isInline,_._fullScreenAttrs.balloon=this._isBalloon,(this._isInline||this._isBalloon)&&(this._isInline=!1,this._isBalloon=!1),s.toolbarContainer&&t.element.relative.insertBefore(h,p),u.style.position="fixed",u.style.top="0",u.style.left="0",u.style.width="100%",u.style.maxWidth="100%",u.style.height="100%",u.style.zIndex="2147483647",t.element._stickyDummy.style.display!==""&&(_._fullScreenAttrs.sticky=!0,t.element._stickyDummy.style.display="none",o.removeClass(h,"se-toolbar-sticky")),_._bodyOverflow=a.body.style.overflow,a.body.style.overflow="hidden",_._editorAreaOriginCssText=p.style.cssText,_._wysiwygOriginCssText=m.style.cssText,_._codeOriginCssText=g.style.cssText,p.style.cssText=h.style.cssText="",m.style.cssText=(m.style.cssText.match(/\s?display(\s+)?:(\s+)?[a-zA-Z]+;/)||[""])[0]+s._editorStyles.editor,g.style.cssText=(g.style.cssText.match(/\s?display(\s+)?:(\s+)?[a-zA-Z]+;/)||[""])[0],h.style.width=m.style.height=g.style.height="100%",h.style.position="relative",h.style.display="block",_.innerHeight_fullScreen=l.innerHeight-h.offsetHeight,p.style.height=_.innerHeight_fullScreen-s.fullScreenOffset+"px",c&&o.changeElement(c.firstElementChild,d.reduction),s.iframe&&s.height==="auto"&&(p.style.overflow="auto",this._iframeAutoHeight()),t.element.topArea.style.marginTop=s.fullScreenOffset+"px",o.addClass(this._styleCommandMap.fullScreen,"active")),C&&b.toolbar.hide(),typeof b.toggleFullScreen=="function"&&b.toggleFullScreen(this._variable.isFullScreen,this)},print:function(){const c=o.createElement("IFRAME");c.style.display="none",a.body.appendChild(c);const u=s.printTemplate?s.printTemplate.replace(/\{\{\s*contents\s*\}\}/i,this.getContents(!0)):this.getContents(!0),h=o.getIframeDocument(c),p=this._wd;if(s.iframe){const m=s._printClass!==null?'class="'+s._printClass+'"':s.fullPage?o.getAttributesToString(p.body,["contenteditable"]):'class="'+s._editableClass+'"';h.write("<!DOCTYPE html><html><head>"+p.head.innerHTML+"</head><body "+m+">"+u+"</body></html>")}else{const m=a.head.getElementsByTagName("link"),g=a.head.getElementsByTagName("style");let _="";for(let C=0,E=m.length;C<E;C++)_+=m[C].outerHTML;for(let C=0,E=g.length;C<E;C++)_+=g[C].outerHTML;h.write("<!DOCTYPE html><html><head>"+_+'</head><body class="'+(s._printClass!==null?s._printClass:s._editableClass)+'">'+u+"</body></html>")}this.showLoading(),l.setTimeout(function(){try{if(c.focus(),o.isIE_Edge||o.isChromium||a.documentMode||l.StyleMedia)try{c.contentWindow.document.execCommand("print",!1,null)}catch{c.contentWindow.print()}else c.contentWindow.print()}catch(m){throw Error("[SUNEDITOR.core.print.fail] error: "+m)}finally{f.closeLoading(),o.removeItem(c)}},1e3)},preview:function(){f.submenuOff(),f.containerOff(),f.controllersOff();const c=s.previewTemplate?s.previewTemplate.replace(/\{\{\s*contents\s*\}\}/i,this.getContents(!0)):this.getContents(!0),u=l.open("","_blank");u.mimeType="text/html";const h=this._wd;if(s.iframe){const p=s._printClass!==null?'class="'+s._printClass+'"':s.fullPage?o.getAttributesToString(h.body,["contenteditable"]):'class="'+s._editableClass+'"';u.document.write("<!DOCTYPE html><html><head>"+h.head.innerHTML+"<style>body {overflow:auto !important; margin: 10px auto !important; height:auto !important; outline:1px dashed #ccc;}</style></head><body "+p+">"+c+"</body></html>")}else{const p=a.head.getElementsByTagName("link"),m=a.head.getElementsByTagName("style");let g="";for(let _=0,C=p.length;_<C;_++)g+=p[_].outerHTML;for(let _=0,C=m.length;_<C;_++)g+=m[_].outerHTML;u.document.write('<!DOCTYPE html><html><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><title>'+i.toolbar.preview+"</title>"+g+'</head><body class="'+(s._printClass!==null?s._printClass:s._editableClass)+'" style="margin:10px auto !important; height:auto !important; outline:1px dashed #ccc;">'+c+"</body></html>")}},setDir:function(c){const u=c==="rtl",h=this._prevRtl!==u;this._prevRtl=s.rtl=u,h&&(this.plugins.align&&this.plugins.align.exchangeDir.call(this),t.tool.indent&&o.changeElement(t.tool.indent.firstElementChild,d.indent),t.tool.outdent&&o.changeElement(t.tool.outdent.firstElementChild,d.outdent));const p=t.element;u?(o.addClass(p.topArea,"se-rtl"),o.addClass(p.wysiwygFrame,"se-rtl")):(o.removeClass(p.topArea,"se-rtl"),o.removeClass(p.wysiwygFrame,"se-rtl"));const m=o.getListChildren(p.wysiwyg,function(_){return o.isFormatElement(_)&&(_.style.marginRight||_.style.marginLeft||_.style.textAlign)});for(let _=0,C=m.length,E,k,T;_<C;_++)E=m[_],T=E.style.marginRight,k=E.style.marginLeft,(T||k)&&(E.style.marginRight=k,E.style.marginLeft=T),T=E.style.textAlign,T==="left"?E.style.textAlign="right":T==="right"&&(E.style.textAlign="left");const g=t.tool;g.dir&&(o.changeTxt(g.dir.querySelector(".se-tooltip-text"),i.toolbar[s.rtl?"dir_ltr":"dir_rtl"]),o.changeElement(g.dir.firstElementChild,d[s.rtl?"dir_ltr":"dir_rtl"])),g.dir_ltr&&(u?o.removeClass(g.dir_ltr,"active"):o.addClass(g.dir_ltr,"active")),g.dir_rtl&&(u?o.addClass(g.dir_rtl,"active"):o.removeClass(g.dir_rtl,"active"))},setContents:function(c){this.removeRange();const u=c==null?"":this.convertContentsForEditor(c,null,null);if(!this._variable.isCodeView)t.element.wysiwyg.innerHTML=u,this._resetComponents(),this.history.push(!1);else{const h=this.convertHTMLForCodeView(u,!1);this._setCodeView(h)}},setIframeContents:function(c){if(!s.iframe)return!1;c.head&&(this._wd.head.innerHTML=this.options.__allowedScriptTag?c.head:c.head.replace(this.__scriptTagRegExp,"")),c.body&&(this._wd.body.innerHTML=this.convertContentsForEditor(c.body)),this._resetComponents()},getContents:function(c){const u=this.cleanHTML(t.element.wysiwyg.innerHTML,null,null),h=o.createElement("DIV");h.innerHTML=u;const p=o.getListChildren(h,function(m){return m.hasAttribute("contenteditable")});for(let m=0,g=p.length;m<g;m++)p[m].removeAttribute("contenteditable");if(s.fullPage&&!c){const m=o.getAttributesToString(this._wd.body,["contenteditable"]);return"<!DOCTYPE html><html>"+this._wd.head.outerHTML+"<body "+m+">"+h.innerHTML+"</body></html>"}else return h.innerHTML},getFullContents:function(c){return'<div class="sun-editor-editable'+(s.rtl?" se-rtl":"")+'">'+this.getContents(c)+"</div>"},_makeLine:function(c,u){const h=s.defaultTag;if(c.nodeType===1){if(this.__disallowedTagNameRegExp.test(c.nodeName))return"";if(/__se__tag/.test(c.className))return c.outerHTML;const p=o.getListChildNodes(c,function(m){return o.isSpanWithoutAttr(m)&&!o.getParentElement(m,o.isNotCheckingNode)})||[];for(let m=p.length-1;m>=0;m--)p[m].outerHTML=p[m].innerHTML;return!u||o.isFormatElement(c)||o.isRangeFormatElement(c)||o.isComponent(c)||o.isMedia(c)||o.isAnchor(c)&&o.isMedia(c.firstElementChild)?o.isSpanWithoutAttr(c)?c.innerHTML:c.outerHTML:"<"+h+">"+(o.isSpanWithoutAttr(c)?c.innerHTML:c.outerHTML)+"</"+h+">"}if(c.nodeType===3){if(!u)return o._HTMLConvertor(c.textContent);const p=c.textContent.split(/\n/g);let m="";for(let g=0,_=p.length,C;g<_;g++)C=p[g].trim(),C.length>0&&(m+="<"+h+">"+o._HTMLConvertor(C)+"</"+h+">");return m}return c.nodeType===8&&this._allowHTMLComments?"<!--"+c.textContent.trim()+"-->":""},_tagConvertor:function(c){if(!this._disallowedTextTagsRegExp)return c;const u=s._textTagsMap;return c.replace(this._disallowedTextTagsRegExp,function(h,p,m,g){return p+(typeof u[m]=="string"?u[m]:m)+(g?" "+g:"")})},_deleteDisallowedTags:function(c){return c=c.replace(this.__disallowedTagsRegExp,"").replace(/<[a-z0-9]+\:[a-z0-9]+[^>^\/]*>[^>]*<\/[a-z0-9]+\:[a-z0-9]+>/gi,""),/\bfont\b/i.test(this.options._editorTagsWhitelist)||(c=c.replace(/(<\/?)font(\s?)/gi,"$1span$2")),c.replace(this.editorTagsWhitelistRegExp,"").replace(this.editorTagsBlacklistRegExp,"")},_convertFontSize:function(c,u){const h=this._w.Math,p=u.match(/(\d+(?:\.\d+)?)(.+)/),m=p?p[1]*1:o.fontValueMap[u],g=p?p[2]:"rem";let _=m;switch(/em/.test(g)?_=h.round(m/.0625):g==="pt"?_=h.round(m*1.333):g==="%"&&(_=m/100),c){case"em":case"rem":case"%":return(_*.0625).toFixed(2)+c;case"pt":return h.floor(_/1.333)+c;default:return _+c}},_cleanStyle:function(c,u,h){let p=(c.match(/style\s*=\s*(?:"|')[^"']*(?:"|')/)||[])[0];if(/span/i.test(h)&&!p&&(c.match(/<span\s(.+)/)||[])[1]){const m=(c.match(/\ssize="([^"]+)"/i)||[])[1],g=(c.match(/\sface="([^"]+)"/i)||[])[1],_=(c.match(/\scolor="([^"]+)"/i)||[])[1];(m||g||_)&&(p='style="'+(m?"font-size:"+this.util.getNumber(m/3.333,1)+"rem;":"")+(g?"font-family:"+g+";":"")+(_?"color:"+_+";":"")+'"')}if(p){u||(u=[]);const m=p.replace(/&quot;/g,"").match(this._cleanStyleRegExp[h]);if(m){const g=[];for(let _=0,C=m.length,E;_<C;_++)if(E=m[_].match(/([a-zA-Z0-9-]+)(:)([^"]+)/),E&&!/inherit|initial|revert|unset/i.test(E[3])){const k=o.kebabToCamelCase(E[1].trim()),T=this.wwComputedStyle[k].replace(/"/g,""),O=E[3].trim();switch(k){case"fontFamily":if(!s.plugins.font||s.font.indexOf(O)===-1)continue;break;case"fontSize":if(!s.plugins.fontSize)continue;this._cleanStyleRegExp.fontSizeUnit.test(E[0])||(E[0]=E[0].replace((E[0].match(/:\s*([^;]+)/)||[])[1],this._convertFontSize.bind(this,s.fontSizeUnit)));break;case"color":if(!s.plugins.fontColor||/rgba\(([0-9]+\s*,\s*){3}0\)|windowtext/i.test(O))continue;break;case"backgroundColor":if(!s.plugins.hiliteColor||/rgba\(([0-9]+\s*,\s*){3}0\)|windowtext/i.test(O))continue;break}T!==O&&g.push(E[0])}g.length>0&&u.push('style="'+g.join(";")+'"')}}return u},_cleanTags:function(c,u,h){if(/^<[a-z0-9]+\:[a-z0-9]+/i.test(u))return u;let p=null;const m=h.match(/(?!<)[a-zA-Z0-9\-]+/)[0].toLowerCase(),g=this._attributesTagsBlacklist[m];u=u.replace(/\s(?:on[a-z]+)\s*=\s*(")[^"]*\1/ig,""),g?u=u.replace(g,""):u=u.replace(this._attributesBlacklistRegExp,"");const _=this._attributesTagsWhitelist[m];if(_?p=u.match(_):p=u.match(c?this._attributesWhitelistRegExp:this._attributesWhitelistRegExp_all_data),c||m==="span")if(m==="a"){const C=u.match(/(?:(?:id|name)\s*=\s*(?:"|')[^"']*(?:"|'))/g);C&&(p||(p=[]),p.push(C[0]))}else(!p||!/style=/i.test(p.toString()))&&(m==="span"?p=this._cleanStyle(u,p,"span"):/^(P|DIV|H[1-6]|PRE)$/i.test(m)&&(p=this._cleanStyle(u,p,"format")));else{const C=u.match(/style\s*=\s*(?:"|')[^"']*(?:"|')/);C&&!p?p=[C[0]]:C&&!p.some(function(E){return/^style/.test(E.trim())})&&p.push(C[0])}if(o.isFigures(m)){const C=u.match(/style\s*=\s*(?:"|')[^"']*(?:"|')/);p||(p=[]),C&&p.push(C[0])}if(p)for(let C=0,E=p.length,k;C<E;C++)k=/^(?:href|src)\s*=\s*('|"|\s)*javascript\s*\:/i.test(p[C].trim())?"":p[C],h+=(/^\s/.test(k)?"":" ")+k;return h},_editFormat:function(c){let u="",h;const p=c.childNodes;for(let m=0,g=p.length,_;m<g;m++)_=p[m],_.nodeType===8?u+="<!-- "+_.textContent+" -->":!o.isFormatElement(_)&&!o.isRangeFormatElement(_)&&!o.isComponent(_)&&!/meta/i.test(_.nodeName)?(h||(h=o.createElement(s.defaultTag)),h.appendChild(_),m--,g--):(h&&(u+=h.outerHTML,h=null),u+=_.outerHTML);return h&&(u+=h.outerHTML),a.createRange().createContextualFragment(u)},_convertListCell:function(c){let u="";for(let h=0,p=c.length,m;h<p;h++)m=c[h],m.nodeType===1?o.isList(m)?u+=m.innerHTML:o.isListCell(m)?u+=m.outerHTML:o.isFormatElement(m)?u+="<li>"+(m.innerHTML.trim()||"<br>")+"</li>":o.isRangeFormatElement(m)&&!o.isTable(m)?u+=this._convertListCell(m):u+="<li>"+m.outerHTML+"</li>":u+="<li>"+(m.textContent||"<br>")+"</li>";return u},_isFormatData:function(c){let u=!1;for(let h=0,p=c.length,m;h<p;h++)if(m=c[h],m.nodeType===1&&!o.isTextStyleElement(m)&&!o.isBreak(m)&&!this.__disallowedTagNameRegExp.test(m.nodeName)){u=!0;break}return u},cleanHTML:function(c,u,h){c=this._deleteDisallowedTags(this._parser.parseFromString(o.htmlCompress(c),"text/html").body.innerHTML).replace(/(<[a-zA-Z0-9\-]+)[^>]*(?=>)/g,this._cleanTags.bind(this,!0)).replace(/<br\/?>$/i,"");const p=a.createRange().createContextualFragment(c);try{o._consistencyCheckOfHTML(p,this._htmlCheckWhitelistRegExp,this._htmlCheckBlacklistRegExp,this._classNameFilter)}catch(C){console.warn("[SUNEDITOR.cleanHTML.consistencyCheck.fail] "+C)}if(this.managedTagsInfo&&this.managedTagsInfo.query){const C=p.querySelectorAll(this.managedTagsInfo.query);for(let E=0,k=C.length,T,O;E<k;E++){O=[].slice.call(C[E].classList);for(let M=0,F=O.length;M<F;M++)if(T=this.managedTagsInfo.map[O[M]],T){T(C[E]);break}}}let m=p.childNodes,g="";const _=this._isFormatData(m);_&&(m=this._editFormat(p).childNodes);for(let C=0,E=m.length,k;C<E;C++){if(k=m[C],this.__allowedScriptRegExp.test(k.nodeName)){g+=k.outerHTML;continue}g+=this._makeLine(k,_)}return g=o.htmlRemoveWhiteSpace(g),g?(u&&(g=g.replace(typeof u=="string"?o.createTagsWhitelist(u):u,"")),h&&(g=g.replace(typeof h=="string"?o.createTagsBlacklist(h):h,""))):g=c,this._tagConvertor(g)},convertContentsForEditor:function(c){c=this._deleteDisallowedTags(this._parser.parseFromString(o.htmlCompress(c),"text/html").body.innerHTML).replace(/(<[a-zA-Z0-9\-]+)[^>]*(?=>)/g,this._cleanTags.bind(this,!0));const u=a.createRange().createContextualFragment(c);try{o._consistencyCheckOfHTML(u,this._htmlCheckWhitelistRegExp,this._htmlCheckBlacklistRegExp,this._classNameFilter)}catch(g){console.warn("[SUNEDITOR.convertContentsForEditor.consistencyCheck.fail] "+g)}if(this.managedTagsInfo&&this.managedTagsInfo.query){const g=u.querySelectorAll(this.managedTagsInfo.query);for(let _=0,C=g.length,E,k;_<C;_++){k=[].slice.call(g[_].classList);for(let T=0,O=k.length;T<O;T++)if(E=this.managedTagsInfo.map[k[T]],E){E(g[_]);break}}}const h=u.childNodes;let p="",m=null;for(let g=0,_;g<h.length;g++){if(_=h[g],this.__allowedScriptRegExp.test(_.nodeName)){p+=_.outerHTML;continue}if(!o.isFormatElement(_)&&!o.isRangeFormatElement(_)&&!o.isComponent(_)&&!o.isMedia(_)&&_.nodeType!==8&&!/__se__tag/.test(_.className)){if(m||(m=o.createElement(s.defaultTag)),m.appendChild(_),g--,h[g+1]&&!o.isFormatElement(h[g+1]))continue;_=m,m=null}m&&(p+=this._makeLine(m,!0),m=null),p+=this._makeLine(_,!0)}return m&&(p+=this._makeLine(m,!0)),p.length===0?"<"+s.defaultTag+"><br></"+s.defaultTag+">":(p=o.htmlRemoveWhiteSpace(p),this._tagConvertor(p))},convertHTMLForCodeView:function(c,u){let h="";const p=l.RegExp,m=new p("^(BLOCKQUOTE|PRE|TABLE|THEAD|TBODY|TR|TH|TD|OL|UL|IMG|IFRAME|VIDEO|AUDIO|FIGURE|FIGCAPTION|HR|BR|CANVAS|SELECT)$","i"),g=typeof c=="string"?a.createRange().createContextualFragment(c):c,_=function(k){return this.isFormatElement(k)||this.isComponent(k)}.bind(o),C=u?"":`
`;let E=u?0:this._variable.codeIndent*1;return E=E>0?new l.Array(E+1).join(" "):"",function k(T,O){const M=T.childNodes,F=m.test(T.nodeName),N=F?O:"";for(let P=0,B=M.length,z,D,$,q,V,K;P<B;P++){if(z=M[P],q=m.test(z.nodeName),D=q?C:"",$=_(z)&&!F&&!/^(TH|TD)$/i.test(T.nodeName)?C:"",z.nodeType===8){h+=`
<!-- `+z.textContent.trim()+" -->"+D;continue}if(z.nodeType===3){o.isList(z.parentElement)||(h+=o._HTMLConvertor(/^\n+$/.test(z.data)?"":z.data));continue}if(z.childNodes.length===0){h+=(/^HR$/i.test(z.nodeName)?C:"")+(/^PRE$/i.test(z.parentElement.nodeName)&&/^BR$/i.test(z.nodeName)?"":N)+z.outerHTML+D;continue}z.outerHTML?(V=z.nodeName.toLowerCase(),K=N||q?O:"",h+=($||(F?"":D))+K+z.outerHTML.match(p("<"+V+"[^>]*>","i"))[0]+D,k(z,O+E),h+=(/\n$/.test(h)?K:"")+"</"+V+">"+($||D||F||/^(TH|TD)$/i.test(z.nodeName)?C:"")):h+=new l.XMLSerializer().serializeToString(z)}}(g,""),h.trim()+C},addDocEvent:function(c,u,h){a.addEventListener(c,u,h),s.iframe&&this._wd.addEventListener(c,u)},removeDocEvent:function(c,u){a.removeEventListener(c,u),s.iframe&&this._wd.removeEventListener(c,u)},_charCount:function(c){const u=s.maxCharCount,h=s.charCounterType;let p=0;if(c&&(p=this.getCharLength(c,h)),this._setCharCount(),u>0){let m=!1;const g=b.getCharCount(h);if(g>u){if(m=!0,p>0){this._editorRange();const _=this.getRange(),C=_.endOffset-1,E=this.getSelectionNode().textContent,k=_.endOffset-(g-u);this.getSelectionNode().textContent=E.slice(0,k<0?0:k)+E.slice(_.endOffset,E.length),this.setRange(_.endContainer,C,_.endContainer,C)}}else g+p>u&&(m=!0);if(m&&(this._callCounterBlink(),p>0))return!1}return!0},checkCharCount:function(c,u){if(s.maxCharCount){const h=u||s.charCounterType,p=this.getCharLength(typeof c=="string"?c:this._charTypeHTML&&c.nodeType===1?c.outerHTML:c.textContent,h);if(p>0&&p+b.getCharCount(h)>s.maxCharCount)return this._callCounterBlink(),!1}return!0},getCharLength:function(c,u){return/byte/.test(u)?o.getByteLength(c):c.length},resetResponsiveToolbar:function(){f.controllersOff();const c=y._responsiveButtonSize;if(c){let u=0;(f._isBalloon||f._isInline)&&s.toolbarWidth==="auto"?u=t.element.topArea.offsetWidth:u=t.element.toolbar.offsetWidth;let h="default";for(let p=1,m=c.length;p<m;p++)if(u<c[p]){h=c[p]+"";break}y._responsiveCurrentSize!==h&&(y._responsiveCurrentSize=h,b.setToolbarButtons(y._responsiveButtons[h]))}},_setCharCount:function(){t.element.charCounter&&l.setTimeout(function(){t.element.charCounter.textContent=b.getCharCount(s.charCounterType)})},_callCounterBlink:function(){const c=t.element.charWrapper;c&&!o.hasClass(c,"se-blink")&&(o.addClass(c,"se-blink"),l.setTimeout(function(){o.removeClass(c,"se-blink")},600))},_checkComponents:function(){for(let c=0,u=this._fileInfoPluginsCheck.length;c<u;c++)this._fileInfoPluginsCheck[c]()},_resetComponents:function(){for(let c=0,u=this._fileInfoPluginsReset.length;c<u;c++)this._fileInfoPluginsReset[c]()},_setCodeView:function(c){s.codeMirrorEditor?s.codeMirrorEditor.getDoc().setValue(c):t.element.code.value=c},_getCodeView:function(){return s.codeMirrorEditor?s.codeMirrorEditor.getDoc().getValue():t.element.code.value},_setKeyEffect:function(c){const u=this.commandMap,h=this.activePlugins;for(let p in u)c.indexOf(p)>-1||!o.hasOwn(u,p)||(h.indexOf(p)>-1?n[p].active.call(this,null):u.OUTDENT&&/^OUTDENT$/i.test(p)?o.isImportantDisabled(u.OUTDENT)||u.OUTDENT.setAttribute("disabled",!0):u.INDENT&&/^INDENT$/i.test(p)?o.isImportantDisabled(u.INDENT)||u.INDENT.removeAttribute("disabled"):o.removeClass(u[p],"active"))},_init:function(c,u){const h=l.RegExp;this._ww=s.iframe?t.element.wysiwygFrame.contentWindow:l,this._wd=a,this._charTypeHTML=s.charCounterType==="byte-html",this.wwComputedStyle=l.getComputedStyle(t.element.wysiwyg),this._editorHeight=t.element.wysiwygFrame.offsetHeight,this._editorHeightPadding=o.getNumber(this.wwComputedStyle.getPropertyValue("padding-top"))+o.getNumber(this.wwComputedStyle.getPropertyValue("padding-bottom")),this._classNameFilter=function(D){return this.test(D)?D:""}.bind(s.allowedClassNames);const p=s.__allowedScriptTag?"":"script|";if(this.__scriptTagRegExp=new h("<(script)[^>]*>([\\s\\S]*?)<\\/\\1>|<script[^>]*\\/?>","gi"),this.__disallowedTagsRegExp=new h("<("+p+"style)[^>]*>([\\s\\S]*?)<\\/\\1>|<("+p+"style)[^>]*\\/?>","gi"),this.__disallowedTagNameRegExp=new h("^("+p+"meta|link|style|[a-z]+:[a-z]+)$","i"),this.__allowedScriptRegExp=new h("^"+(s.__allowedScriptTag?"script":"")+"$","i"),!s.iframe&&typeof l.ShadowRoot=="function"){let D=t.element.wysiwygFrame;for(;D;){if(D.shadowRoot){this._shadowRoot=D.shadowRoot;break}else if(D instanceof l.ShadowRoot){this._shadowRoot=D;break}D=D.parentNode}this._shadowRoot&&(this._shadowRootControllerEventTarget=[])}const m=l.Object.keys(s._textTagsMap),g=s.addTagsWhitelist?s.addTagsWhitelist.split("|").filter(function(D){return/b|i|ins|s|strike/i.test(D)}):[];for(let D=0;D<g.length;D++)m.splice(m.indexOf(g[D].toLowerCase()),1);this._disallowedTextTagsRegExp=m.length===0?null:new h("(<\\/?)("+m.join("|")+")\\b\\s*([^>^<]+)?\\s*(?=>)","gi");const _=function(D,$){return D?D==="*"?"[a-z-]+":$?D+"|"+$:D:"^"},C="contenteditable|colspan|rowspan|target|href|download|rel|src|alt|class|type|controls|origin-size",E="data-format|data-size|data-file-size|data-file-name|data-origin|data-align|data-image-link|data-rotate|data-proportion|data-percentage|data-exp|data-font-size";this._allowHTMLComments=s._editorTagsWhitelist.indexOf("//")>-1||s._editorTagsWhitelist==="*",this._htmlCheckWhitelistRegExp=new h("^("+_(s._editorTagsWhitelist.replace("|//",""),"")+")$","i"),this._htmlCheckBlacklistRegExp=new h("^("+(s.tagsBlacklist||"^")+")$","i"),this.editorTagsWhitelistRegExp=o.createTagsWhitelist(_(s._editorTagsWhitelist.replace("|//","|<!--|-->"),"")),this.editorTagsBlacklistRegExp=o.createTagsBlacklist(s.tagsBlacklist.replace("|//","|<!--|-->")),this.pasteTagsWhitelistRegExp=o.createTagsWhitelist(_(s.pasteTagsWhitelist,"")),this.pasteTagsBlacklistRegExp=o.createTagsBlacklist(s.pasteTagsBlacklist);const k='\\s*=\\s*(")[^"]*\\1',T=s.attributesWhitelist;let O={},M="";if(T)for(let D in T)!o.hasOwn(T,D)||/^on[a-z]+$/i.test(T[D])||(D==="all"?M=_(T[D],C):O[D]=new h("\\s(?:"+_(T[D],"")+")"+k,"ig"));this._attributesWhitelistRegExp=new h("\\s(?:"+(M||C+"|"+E)+")"+k,"ig"),this._attributesWhitelistRegExp_all_data=new h("\\s(?:"+((M||C)+"|data-[a-z0-9\\-]+")+")"+k,"ig"),this._attributesTagsWhitelist=O;const F=s.attributesBlacklist;if(O={},M="",F)for(let D in F)o.hasOwn(F,D)&&(D==="all"?M=_(F[D],""):O[D]=new h("\\s(?:"+_(F[D],"")+")"+k,"ig"));this._attributesBlacklistRegExp=new h("\\s(?:"+(M||"^")+")"+k,"ig"),this._attributesTagsBlacklist=O,this._isInline=/inline/i.test(s.mode),this._isBalloon=/balloon|balloon-always/i.test(s.mode),this._isBalloonAlways=/balloon-always/i.test(s.mode),this._cachingButtons(),this._fileInfoPluginsCheck=[],this._fileInfoPluginsReset=[],this.managedTagsInfo={query:"",map:{}};const N=[];this.activePlugins=[],this._fileManager.tags=[],this._fileManager.pluginMap={};let P=[],B,z;for(let D in n)if(o.hasOwn(n,D)){if(B=n[D],z=e[D],(B.active||B.action)&&z&&this.callPlugin(D,null,z),typeof B.checkFileInfo=="function"&&typeof B.resetFileInfo=="function"&&(this.callPlugin(D,null,z),this._fileInfoPluginsCheck.push(B.checkFileInfo.bind(this)),this._fileInfoPluginsReset.push(B.resetFileInfo.bind(this))),l.Array.isArray(B.fileTags)){const $=B.fileTags;this.callPlugin(D,null,z),this._fileManager.tags=this._fileManager.tags.concat($),P.push(D);for(let q=0,V=$.length;q<V;q++)this._fileManager.pluginMap[$[q].toLowerCase()]=D}if(B.managedTags){const $=B.managedTags();N.push("."+$.className),this.managedTagsInfo.map[$.className]=$.method.bind(this)}}this.managedTagsInfo.query=N.toString(),this._fileManager.queryString=this._fileManager.tags.join(","),this._fileManager.regExp=new h("^("+(this._fileManager.tags.join("|")||"^")+")$","i"),this._fileManager.pluginRegExp=new h("^("+(P.length===0?"^":P.join("|"))+")$","i"),this._variable._originCssText=t.element.topArea.style.cssText,this._placeholder=t.element.placeholder,this._lineBreaker=t.element.lineBreaker,this._lineBreakerButton=this._lineBreaker.querySelector("button"),this.history=V1(this,this._onChange_historyStack.bind(this)),this.addModule([vl]),s.iframe&&(this._wd=t.element.wysiwygFrame.contentDocument,t.element.wysiwyg=this._wd.body,s._editorStyles.editor&&(t.element.wysiwyg.style.cssText=s._editorStyles.editor),s.height==="auto"&&(this._iframeAuto=this._wd.body)),this._initWysiwygArea(c,u)},_cachingButtons:function(){this.codeViewDisabledButtons=t.element._buttonTray.querySelectorAll('.se-menu-list button[data-display]:not([class~="se-code-view-enabled"]):not([data-display="MORE"])'),this.resizingDisabledButtons=t.element._buttonTray.querySelectorAll('.se-menu-list button[data-display]:not([class~="se-resizing-enabled"]):not([data-display="MORE"])');const c=t.tool,u=this.commandMap;u.INDENT=c.indent,u.OUTDENT=c.outdent,u[s.textTags.bold.toUpperCase()]=c.bold,u[s.textTags.underline.toUpperCase()]=c.underline,u[s.textTags.italic.toUpperCase()]=c.italic,u[s.textTags.strike.toUpperCase()]=c.strike,u[s.textTags.sub.toUpperCase()]=c.subscript,u[s.textTags.sup.toUpperCase()]=c.superscript,this._styleCommandMap={fullScreen:c.fullScreen,showBlocks:c.showBlocks,codeView:c.codeView},this._saveButtonStates()},_initWysiwygArea:function(c,u){t.element.wysiwyg.innerHTML=c?u:this.convertContentsForEditor((typeof u=="string"?u:/^TEXTAREA$/i.test(t.element.originElement.nodeName)?t.element.originElement.value:t.element.originElement.innerHTML)||"")},_resourcesStateChange:function(){this._iframeAutoHeight(),this._checkPlaceholder()},_onChange_historyStack:function(){this.hasFocus&&y._applyTagEffects(),this._variable.isChanged=!0,t.tool.save&&t.tool.save.removeAttribute("disabled"),b.onChange&&b.onChange(this.getContents(!0),this),t.element.toolbar.style.display==="block"&&y._showToolbarBalloon()},_iframeAutoHeight:function(){this._iframeAuto?l.setTimeout(function(){const c=f._iframeAuto.offsetHeight;t.element.wysiwygFrame.style.height=c+"px",o.isResizeObserverSupported||f.__callResizeFunction(c,null)}):o.isResizeObserverSupported||f.__callResizeFunction(t.element.wysiwygFrame.offsetHeight,null)},__callResizeFunction:function(c,u){c=c===-1?u.borderBoxSize&&u.borderBoxSize[0]?u.borderBoxSize[0].blockSize:u.contentRect.height+this._editorHeightPadding:c,this._editorHeight!==c&&(typeof b.onResizeEditor=="function"&&b.onResizeEditor(c,this._editorHeight,f,u),this._editorHeight=c)},_checkPlaceholder:function(){if(this._placeholder){if(this._variable.isCodeView){this._placeholder.style.display="none";return}const c=t.element.wysiwyg;!o.onlyZeroWidthSpace(c.textContent)||c.querySelector(o._allowedEmptyNodeList)||(c.innerText.match(/\n/g)||"").length>1?this._placeholder.style.display="none":this._placeholder.style.display="block"}},_setDefaultFormat:function(c){if(this._fileManager.pluginRegExp.test(this.currentControllerName))return;const u=this.getRange(),h=u.commonAncestorContainer,p=u.startContainer,m=o.getRangeFormatElement(h,null);let g,_,C;const E=o.getParentElement(h,o.isComponent);if(!(E&&!o.isTable(E))){if(h.nodeType===1&&h.getAttribute("data-se-embed")==="true"){let k=h.nextElementSibling;o.isFormatElement(k)||(k=this.appendFormatTag(h,s.defaultTag)),this.setRange(k.firstChild,0,k.firstChild,0);return}if(!((o.isRangeFormatElement(p)||o.isWysiwygDiv(p))&&(o.isComponent(p.children[u.startOffset])||o.isComponent(p.children[u.startOffset-1])))){if(o.getParentElement(h,o.isNotCheckingNode))return null;if(m){C=o.createElement(c||s.defaultTag),C.innerHTML=m.innerHTML,C.childNodes.length===0&&(C.innerHTML=o.zeroWidthSpace),m.innerHTML=C.outerHTML,C=m.firstChild,g=o.getEdgeChildNodes(C,null).sc,g||(g=o.createTextNode(o.zeroWidthSpace),C.insertBefore(g,C.firstChild)),_=g.textContent.length,this.setRange(g,_,g,_);return}if(o.isRangeFormatElement(h)&&h.childNodes.length<=1){let k=null;h.childNodes.length===1&&o.isBreak(h.firstChild)?k=h.firstChild:(k=o.createTextNode(o.zeroWidthSpace),h.appendChild(k)),this.setRange(k,1,k,1);return}if(this.execCommand("formatBlock",!1,c||s.defaultTag),g=o.getEdgeChildNodes(h,h),g=g?g.ec:h,C=o.getFormatElement(g,null),!C){this.removeRange(),this._editorRange();return}if(o.isBreak(C.nextSibling)&&o.removeItem(C.nextSibling),o.isBreak(C.previousSibling)&&o.removeItem(C.previousSibling),o.isBreak(g)){const k=o.createTextNode(o.zeroWidthSpace);g.parentNode.insertBefore(k,g),g=k}this.effectNode=null,this.nativeFocus()}}},_setOptionsInit:function(c,u){this.context=t=jr(c.originElement,this._getConstructed(c),s),this._componentsInfoReset=!0,this._editorInit(!0,u)},_editorInit:function(c,u){this._init(c,u),y._addEvent(),this._setCharCount(),y._offStickyToolbar(),y.onResize_window(),t.element.toolbar.style.visibility="";const h=s.frameAttrbutes;for(let p in h)t.element.wysiwyg.setAttribute(p,h[p]);this._checkComponents(),this._componentsInfoInit=!1,this._componentsInfoReset=!1,this.history.reset(!0),l.setTimeout(function(){typeof f._resourcesStateChange=="function"&&(y._resizeObserver&&y._resizeObserver.observe(t.element.wysiwygFrame),y._toolbarObserver&&y._toolbarObserver.observe(t.element._toolbarShadow),f._resourcesStateChange(),typeof b.onload=="function"&&b.onload(f,c))})},_getConstructed:function(c){return{_top:c.topArea,_relative:c.relative,_toolBar:c.toolbar,_toolbarShadow:c._toolbarShadow,_menuTray:c._menuTray,_editorArea:c.editorArea,_wysiwygArea:c.wysiwygFrame,_codeArea:c.code,_placeholder:c.placeholder,_resizingBar:c.resizingBar,_navigation:c.navigation,_charCounter:c.charCounter,_charWrapper:c.charWrapper,_loading:c.loading,_lineBreaker:c.lineBreaker,_lineBreaker_t:c.lineBreaker_t,_lineBreaker_b:c.lineBreaker_b,_resizeBack:c.resizeBackground,_stickyDummy:c._stickyDummy,_arrow:c._arrow}}},y={_IEisComposing:!1,_lineBreakerBind:null,_responsiveCurrentSize:"default",_responsiveButtonSize:null,_responsiveButtons:null,_cursorMoveKeyCode:new l.RegExp("^(8|3[2-9]|40|46)$"),_directionKeyCode:new l.RegExp("^(8|13|3[2-9]|40|46)$"),_nonTextKeyCode:new l.RegExp("^(8|13|1[6-9]|20|27|3[3-9]|40|45|46|11[2-9]|12[0-3]|144|145)$"),_historyIgnoreKeyCode:new l.RegExp("^(1[6-9]|20|27|3[3-9]|40|45|11[2-9]|12[0-3]|144|145)$"),_onButtonsCheck:new l.RegExp("^("+l.Object.keys(s._textTagsMap).join("|")+")$","i"),_frontZeroWidthReg:new l.RegExp(o.zeroWidthSpace+"+",""),_keyCodeShortcut:{65:"A",66:"B",83:"S",85:"U",73:"I",89:"Y",90:"Z",219:"[",221:"]"},_shortcutCommand:function(c,u){let h=null;const p=y._keyCodeShortcut[c];switch(p){case"A":h="selectAll";break;case"B":s.shortcutsDisable.indexOf("bold")===-1&&(h="bold");break;case"S":u&&s.shortcutsDisable.indexOf("strike")===-1?h="strike":!u&&s.shortcutsDisable.indexOf("save")===-1&&(h="save");break;case"U":s.shortcutsDisable.indexOf("underline")===-1&&(h="underline");break;case"I":s.shortcutsDisable.indexOf("italic")===-1&&(h="italic");break;case"Z":s.shortcutsDisable.indexOf("undo")===-1&&(u?h="redo":h="undo");break;case"Y":s.shortcutsDisable.indexOf("undo")===-1&&(h="redo");break;case"[":s.shortcutsDisable.indexOf("indent")===-1&&(h=s.rtl?"indent":"outdent");break;case"]":s.shortcutsDisable.indexOf("indent")===-1&&(h=s.rtl?"outdent":"indent");break}return h?(f.commandHandler(f.commandMap[h],h),!0):!!p},_applyTagEffects:function(){let c=f.getSelectionNode();if(c===f.effectNode)return;f.effectNode=c;const u=s.rtl?"marginRight":"marginLeft",h=f.commandMap,p=y._onButtonsCheck,m=[],g=[],_=f.activePlugins,C=_.length;let E="";for(;c.firstChild;)c=c.firstChild;for(let k=c;!o.isWysiwygDiv(k)&&k;k=k.parentNode)if(!(k.nodeType!==1||o.isBreak(k))){if(E=k.nodeName.toUpperCase(),g.push(E),!f.isReadOnly)for(let T=0,O;T<C;T++)O=_[T],m.indexOf(O)===-1&&n[O].active.call(f,k)&&m.push(O);if(o.isFormatElement(k)){m.indexOf("OUTDENT")===-1&&h.OUTDENT&&!o.isImportantDisabled(h.OUTDENT)&&(o.isListCell(k)||k.style[u]&&o.getNumber(k.style[u],0)>0)&&(m.push("OUTDENT"),h.OUTDENT.removeAttribute("disabled")),m.indexOf("INDENT")===-1&&h.INDENT&&!o.isImportantDisabled(h.INDENT)&&(m.push("INDENT"),o.isListCell(k)&&!k.previousElementSibling?h.INDENT.setAttribute("disabled",!0):h.INDENT.removeAttribute("disabled"));continue}p&&p.test(E)&&(m.push(E),o.addClass(h[E],"active"))}f._setKeyEffect(m),f._variable.currentNodes=g.reverse(),f._variable.currentNodesMap=m,s.showPathLabel&&(t.element.navigation.textContent=f._variable.currentNodes.join(" > "))},_buttonsEventHandler:function(c){let u=c.target;if(f._bindControllersOff&&c.stopPropagation(),/^(input|textarea|select|option)$/i.test(u.nodeName)?f._antiBlur=!1:c.preventDefault(),o.getParentElement(u,".se-submenu"))c.stopPropagation(),f._notHideToolbar=!0;else{let h=u.getAttribute("data-command"),p=u.className;for(;!h&&!/se-menu-list/.test(p)&&!/sun-editor-common/.test(p);)u=u.parentNode,h=u.getAttribute("data-command"),p=u.className;(h===f._submenuName||h===f._containerName)&&c.stopPropagation()}},onClick_toolbar:function(c){let u=c.target,h=u.getAttribute("data-display"),p=u.getAttribute("data-command"),m=u.className;for(f.controllersOff();u.parentNode&&!p&&!/se-menu-list/.test(m)&&!/se-toolbar/.test(m);)u=u.parentNode,p=u.getAttribute("data-command"),h=u.getAttribute("data-display"),m=u.className;!p&&!h||u.disabled||f.actionCall(p,h,u)},onMouseDown_wysiwyg:function(c){if(f.isReadOnly||o.isNonEditable(t.element.wysiwyg))return;if(o._isExcludeSelectionElement(c.target)){c.preventDefault();return}if(l.setTimeout(f._editorRange.bind(f)),typeof b.onMouseDown=="function"&&b.onMouseDown(c,f)===!1)return;const u=o.getParentElement(c.target,o.isCell);if(u){const h=f.plugins.table;h&&u!==h._fixedCell&&!h._shift&&f.callPlugin("table",function(){h.onTableCellMultiSelect.call(f,u,!1)},null)}f._isBalloon&&y._hideToolbar()},onClick_wysiwyg:function(c){const u=c.target;if(f.isReadOnly)return c.preventDefault(),o.isAnchor(u)&&l.open(u.href,u.target),!1;if(o.isNonEditable(t.element.wysiwyg)||typeof b.onClick=="function"&&b.onClick(c,f)===!1)return;const h=f.getFileComponent(u);if(h){c.preventDefault(),f.selectComponent(h.target,h.pluginName);return}const p=o.getParentElement(u,"FIGCAPTION");if(p&&o.isNonEditable(p)&&(c.preventDefault(),p.focus(),f._isInline&&!f._inlineToolbarAttr.isShow)){y._showToolbarInline();const C=function(){y._hideToolbar(),p.removeEventListener("blur",C)};p.addEventListener("blur",C)}if(f._editorRange(),c.detail===3){let C=f.getRange();o.isFormatElement(C.endContainer)&&C.endOffset===0&&(C=f.setRange(C.startContainer,C.startOffset,C.startContainer,C.startContainer.length),f._rangeInfo(C,f.getSelection()))}const m=f.getSelectionNode(),g=o.getFormatElement(m,null),_=o.getRangeFormatElement(m,null);if(!g&&!o.isNonEditable(u)&&!o.isList(_)){const C=f.getRange();if(o.getFormatElement(C.startContainer)===o.getFormatElement(C.endContainer))if(o.isList(_)){c.preventDefault();const E=o.createElement("LI"),k=m.nextElementSibling;E.appendChild(m),_.insertBefore(E,k),f.focus()}else!o.isWysiwygDiv(m)&&!o.isComponent(m)&&(!o.isTable(m)||o.isCell(m))&&f._setDefaultFormat(o.isRangeFormatElement(_)?"DIV":s.defaultTag)!==null?(c.preventDefault(),f.focus()):y._applyTagEffects()}else y._applyTagEffects();f._isBalloon&&l.setTimeout(y._toggleToolbarBalloon)},_balloonDelay:null,_showToolbarBalloonDelay:function(){y._balloonDelay&&l.clearTimeout(y._balloonDelay),y._balloonDelay=l.setTimeout(function(){l.clearTimeout(this._balloonDelay),this._balloonDelay=null,this._showToolbarBalloon()}.bind(y),350)},_toggleToolbarBalloon:function(){f._editorRange();const c=f.getRange();f._bindControllersOff||!f._isBalloonAlways&&c.collapsed?y._hideToolbar():y._showToolbarBalloon(c)},_showToolbarBalloon:function(c){if(!f._isBalloon)return;const u=c||f.getRange(),h=t.element.toolbar,p=t.element.topArea,m=f.getSelection();let g;if(f._isBalloonAlways&&u.collapsed)g=!0;else if(m.focusNode===m.anchorNode)g=m.focusOffset<m.anchorOffset;else{const D=o.getListChildNodes(u.commonAncestorContainer,null);g=o.getArrayIndex(D,m.focusNode)<o.getArrayIndex(D,m.anchorNode)}let _=u.getClientRects();_=_[g?0:_.length-1];const C=f.getGlobalScrollOffset();let E=C.left,k=C.top;const T=p.offsetWidth,O=y._getEditorOffsets(null),M=O.top,F=O.left;if(h.style.top="-10000px",h.style.visibility="hidden",h.style.display="block",!_){const D=f.getSelectionNode();if(o.isFormatElement(D)){const $=o.createTextNode(o.zeroWidthSpace);f.insertNode($,null,!1),f.setRange($,1,$,1),f._editorRange(),_=f.getRange().getClientRects(),_=_[g?0:_.length-1]}if(!_){const $=o.getOffset(D,t.element.wysiwygFrame);_={left:$.left,top:$.top,right:$.left,bottom:$.top+D.offsetHeight,noText:!0},E=0,k=0}g=!0}const N=l.Math.round(t.element._arrow.offsetWidth/2),P=h.offsetWidth,B=h.offsetHeight,z=/iframe/i.test(t.element.wysiwygFrame.nodeName)?t.element.wysiwygFrame.getClientRects()[0]:null;if(z&&(_={left:_.left+z.left,top:_.top+z.top,right:_.right+z.right-z.width,bottom:_.bottom+z.bottom-z.height}),y._setToolbarOffset(g,_,h,F,T,E,k,M,N),(P!==h.offsetWidth||B!==h.offsetHeight)&&y._setToolbarOffset(g,_,h,F,T,E,k,M,N),s.toolbarContainer){const D=p.parentElement;let $=s.toolbarContainer,q=$.offsetLeft,V=$.offsetTop;for(;!$.parentElement.contains(D)||!/^(BODY|HTML)$/i.test($.parentElement.nodeName);)$=$.offsetParent,q+=$.offsetLeft,V+=$.offsetTop;h.style.left=h.offsetLeft-q+p.offsetLeft+"px",h.style.top=h.offsetTop-V+p.offsetTop+"px"}h.style.visibility=""},_setToolbarOffset:function(c,u,h,p,m,g,_,C,E){const T=h.offsetWidth,O=u.noText&&!c?0:h.offsetHeight,M=(c?u.left:u.right)-p-T/2+g,F=M+T-m;let N=(c?u.top-O-E:u.bottom+E)-(u.noText?0:C)+_,P=M<0?1:F<0?M:M-F-1-1,B=!1;const z=N+(c?y._getEditorOffsets(null).top:h.offsetHeight-t.element.wysiwyg.offsetHeight);!c&&z>0&&y._getPageBottomSpace()<z?(c=!0,B=!0):c&&a.documentElement.offsetTop>z&&(c=!1,B=!0),B&&(N=(c?u.top-O-E:u.bottom+E)-(u.noText?0:C)+_),h.style.left=l.Math.floor(P)+"px",h.style.top=l.Math.floor(N)+"px",c?(o.removeClass(t.element._arrow,"se-arrow-up"),o.addClass(t.element._arrow,"se-arrow-down"),t.element._arrow.style.top=O+"px"):(o.removeClass(t.element._arrow,"se-arrow-down"),o.addClass(t.element._arrow,"se-arrow-up"),t.element._arrow.style.top=-E+"px");const D=l.Math.floor(T/2+(M-P));t.element._arrow.style.left=(D+E>h.offsetWidth?h.offsetWidth-E:D<E?E:D)+"px"},_showToolbarInline:function(){if(!f._isInline)return;const c=t.element.toolbar;s.toolbarContainer?c.style.position="relative":c.style.position="absolute",c.style.visibility="hidden",c.style.display="block",f._inlineToolbarAttr.width=c.style.width=s.toolbarWidth,f._inlineToolbarAttr.top=c.style.top=(s.toolbarContainer?0:-1-c.offsetHeight)+"px",typeof b.showInline=="function"&&b.showInline(c,t,f),y.onScroll_window(),f._inlineToolbarAttr.isShow=!0,c.style.visibility=""},_hideToolbar:function(){!f._notHideToolbar&&!f._variable.isFullScreen&&(t.element.toolbar.style.display="none",f._inlineToolbarAttr.isShow=!1)},onInput_wysiwyg:function(c){if(f.isReadOnly||f.isDisabled)return c.preventDefault(),c.stopPropagation(),f.history.go(f.history.getCurrentIndex()),!1;f._editorRange();const u=(c.data===null?"":c.data===void 0?" ":c.data)||"";if(!f._charCount(u))return c.preventDefault(),c.stopPropagation(),!1;typeof b.onInput=="function"&&b.onInput(c,f)===!1||f.history.push(!0)},_isUneditableNode:function(c,u){const h=u?c.startContainer:c.endContainer,p=u?c.startOffset:c.endOffset,m=u?"previousSibling":"nextSibling",g=h.nodeType===1;let _;return g?(_=y._isUneditableNode_getSibling(h.childNodes[p],m,h),_&&_.nodeType===1&&_.getAttribute("contenteditable")==="false"):(_=y._isUneditableNode_getSibling(h,m,h),f.isEdgePoint(h,p,u?"front":"end")&&_&&_.nodeType===1&&_.getAttribute("contenteditable")==="false")},_isUneditableNode_getSibling:function(c,u,h){if(!c)return null;let p=c[u];if(!p)if(p=o.getFormatElement(h),p=p?p[u]:null,p&&!o.isComponent(p))p=u==="previousSibling"?p.firstChild:p.lastChild;else return null;return p},_onShortcutKey:!1,onKeyDown_wysiwyg:function(c){let u=f.getSelectionNode();if(o.isInputElement(u))return;const h=c.keyCode,p=c.shiftKey,m=c.ctrlKey||c.metaKey||h===91||h===92||h===224,g=c.altKey;if(y._IEisComposing=h===229,!m&&f.isReadOnly&&!y._cursorMoveKeyCode.test(h))return c.preventDefault(),!1;if(f.submenuOff(),f._isBalloon&&y._hideToolbar(),typeof b.onKeyDown=="function"&&b.onKeyDown(c,f)===!1)return;if(m&&y._shortcutCommand(h,p))return y._onShortcutKey=!0,c.preventDefault(),c.stopPropagation(),!1;y._onShortcutKey&&(y._onShortcutKey=!1);const _=f.getRange(),C=!_.collapsed||_.startContainer!==_.endContainer,E=f._fileManager.pluginRegExp.test(f.currentControllerName)?f.currentControllerName:"";let k=o.getFormatElement(u,null)||u,T=o.getRangeFormatElement(k,null);switch(h){case 8:if(!C&&E){c.preventDefault(),c.stopPropagation(),f.plugins[E].destroy.call(f);break}if(C&&y._hardDelete()){c.preventDefault(),c.stopPropagation();break}if(!o.isFormatElement(k)&&!t.element.wysiwyg.firstElementChild&&!o.isComponent(u)&&f._setDefaultFormat(s.defaultTag)!==null)return c.preventDefault(),c.stopPropagation(),!1;if(!C&&!k.previousElementSibling&&_.startOffset===0&&!u.previousSibling&&!o.isListCell(k)&&o.isFormatElement(k)&&(!o.isFreeFormatElement(k)||o.isClosureFreeFormatElement(k))){if(o.isClosureRangeFormatElement(k.parentNode))return c.preventDefault(),c.stopPropagation(),!1;if(o.isWysiwygDiv(k.parentNode)&&k.childNodes.length<=1&&(!k.firstChild||o.onlyZeroWidthSpace(k.textContent))){if(c.preventDefault(),c.stopPropagation(),k.nodeName.toUpperCase()===s.defaultTag.toUpperCase()){k.innerHTML="<br>";const V=k.attributes;for(;V[0];)k.removeAttribute(V[0].name)}else{const V=o.createElement(s.defaultTag);V.innerHTML="<br>",k.parentElement.replaceChild(V,k)}return f.nativeFocus(),!1}}const O=_.startContainer;if(k&&!k.previousElementSibling&&_.startOffset===0&&O.nodeType===3&&!o.isFormatElement(O.parentNode)){let V=O.parentNode.previousSibling;const K=O.parentNode.nextSibling;V||(K?V=K:(V=o.createElement("BR"),k.appendChild(V)));let R=O;for(;k.contains(R)&&!R.previousSibling;)R=R.parentNode;if(!k.contains(R)){O.textContent="",o.removeItemAllParents(O,null,k);break}}if(y._isUneditableNode(_,!0)){c.preventDefault(),c.stopPropagation();break}!C&&f._isEdgeFormat(_.startContainer,_.startOffset,"start")&&o.isFormatElement(k.previousElementSibling)&&(f._formatAttrsTemp=k.previousElementSibling.attributes);const M=_.commonAncestorContainer;if(k=o.getFormatElement(_.startContainer,null),T=o.getRangeFormatElement(k,null),T&&k&&!o.isCell(T)&&!/^FIGCAPTION$/i.test(T.nodeName)){if(o.isListCell(k)&&o.isList(T)&&(o.isListCell(T.parentNode)||k.previousElementSibling)&&(u===k||u.nodeType===3&&(!u.previousSibling||o.isList(u.previousSibling)))&&(o.getFormatElement(_.startContainer,null)!==o.getFormatElement(_.endContainer,null)?T.contains(_.startContainer):_.startOffset===0&&_.collapsed)){if(_.startContainer!==_.endContainer)c.preventDefault(),f.removeNode(),_.startContainer.nodeType===3&&f.setRange(_.startContainer,_.startContainer.textContent.length,_.startContainer,_.startContainer.textContent.length),f.history.push(!0);else{let V=k.previousElementSibling||T.parentNode;if(o.isListCell(V)){c.preventDefault();let K=V;if(!V.contains(k)&&o.isListCell(K)&&o.isList(K.lastElementChild)){for(K=K.lastElementChild.lastElementChild;o.isListCell(K)&&o.isList(K.lastElementChild);)K=K.lastElementChild&&K.lastElementChild.lastElementChild;V=K}let R=V===T.parentNode?T.previousSibling:V.lastChild;R||(R=o.createTextNode(o.zeroWidthSpace),T.parentNode.insertBefore(R,T.parentNode.firstChild));const j=R.nodeType===3?R.textContent.length:1,I=k.childNodes;let H=R,U=I[0];for(;U=I[0];)V.insertBefore(U,H.nextSibling),H=U;o.removeItem(k),T.children.length===0&&o.removeItem(T),f.setRange(R,j,R,j),f.history.push(!0)}}break}if(!C&&_.startOffset===0){let V=!0,K=M;for(;K&&K!==T&&!o.isWysiwygDiv(K);){if(K.previousSibling&&(K.previousSibling.nodeType===1||!o.onlyZeroWidthSpace(K.previousSibling.textContent.trim()))){V=!1;break}K=K.parentNode}if(V&&T.parentNode){c.preventDefault(),f.detachRangeFormatElement(T,o.isListCell(k)?[k]:null,null,!1,!1),f.history.push(!0);break}}}if(!C&&k&&(_.startOffset===0||u===k&&k.childNodes[_.startOffset])){const V=u===k?k.childNodes[_.startOffset]:u,K=k.previousSibling,R=(M.nodeType===3||o.isBreak(M))&&!M.previousSibling&&_.startOffset===0;if(V&&!V.previousSibling&&(M&&o.isComponent(M.previousSibling)||R&&o.isComponent(K))){const j=f.getFileComponent(K);j?(c.preventDefault(),c.stopPropagation(),k.textContent.length===0&&o.removeItem(k),f.selectComponent(j.target,j.pluginName)===!1&&f.blur()):o.isComponent(K)&&(c.preventDefault(),c.stopPropagation(),o.removeItem(K));break}if(V&&o.isNonEditable(V.previousSibling)){c.preventDefault(),c.stopPropagation(),o.removeItem(V.previousSibling);break}}break;case 46:if(E){c.preventDefault(),c.stopPropagation(),f.plugins[E].destroy.call(f);break}if(C&&y._hardDelete()){c.preventDefault(),c.stopPropagation();break}if(y._isUneditableNode(_,!1)){c.preventDefault(),c.stopPropagation();break}if((o.isFormatElement(u)||u.nextSibling===null||o.onlyZeroWidthSpace(u.nextSibling)&&u.nextSibling.nextSibling===null)&&_.startOffset===u.textContent.length){const V=k.nextElementSibling;if(!V)break;if(o.isComponent(V)){if(c.preventDefault(),o.onlyZeroWidthSpace(k)&&(o.removeItem(k),o.isTable(V))){let R=o.getChildElement(V,o.isCell,!1);R=R.firstElementChild||R,f.setRange(R,0,R,0);break}const K=f.getFileComponent(V);K?(c.stopPropagation(),f.selectComponent(K.target,K.pluginName)===!1&&f.blur()):o.isComponent(V)&&(c.stopPropagation(),o.removeItem(V));break}}if(!C&&(f.isEdgePoint(_.endContainer,_.endOffset)||u===k&&k.childNodes[_.startOffset])){const V=u===k&&k.childNodes[_.startOffset]||u;if(V&&o.isNonEditable(V.nextSibling)){c.preventDefault(),c.stopPropagation(),o.removeItem(V.nextSibling);break}else if(o.isComponent(V)){c.preventDefault(),c.stopPropagation(),o.removeItem(V);break}}if(!C&&f._isEdgeFormat(_.endContainer,_.endOffset,"end")&&o.isFormatElement(k.nextElementSibling)&&(f._formatAttrsTemp=k.attributes),k=o.getFormatElement(_.startContainer,null),T=o.getRangeFormatElement(k,null),o.isListCell(k)&&o.isList(T)&&(u===k||u.nodeType===3&&(!u.nextSibling||o.isList(u.nextSibling))&&(o.getFormatElement(_.startContainer,null)!==o.getFormatElement(_.endContainer,null)?T.contains(_.endContainer):_.endOffset===u.textContent.length&&_.collapsed))){_.startContainer!==_.endContainer&&f.removeNode();let V=o.getArrayItem(k.children,o.isList,!1);if(V=V||k.nextElementSibling||T.parentNode.nextElementSibling,V&&(o.isList(V)||o.getArrayItem(V.children,o.isList,!1))){c.preventDefault();let K,R;if(o.isList(V)){const j=V.firstElementChild;for(R=j.childNodes,K=R[0];R[0];)k.insertBefore(R[0],V);o.removeItem(j)}else{for(K=V.firstChild,R=V.childNodes;R[0];)k.appendChild(R[0]);o.removeItem(V)}f.setRange(K,0,K,0),f.history.push(!0)}break}break;case 9:if(E||s.tabDisable||(c.preventDefault(),m||g||o.isWysiwygDiv(u)))break;const F=!_.collapsed||f.isEdgePoint(_.startContainer,_.startOffset),N=f.getSelectedElements(null);u=f.getSelectionNode();const P=[];let B=[],z=o.isListCell(N[0]),D=o.isListCell(N[N.length-1]),$={sc:_.startContainer,so:_.startOffset,ec:_.endContainer,eo:_.endOffset};for(let V=0,K=N.length,R;V<K;V++)if(R=N[V],o.isListCell(R)){if(!R.previousElementSibling&&!p)continue;P.push(R)}else B.push(R);if(P.length>0&&F&&f.plugins.list)$=f.plugins.list.editInsideList.call(f,p,P);else{const V=o.getParentElement(u,o.isCell);if(V&&F){const K=o.getParentElement(V,"table"),R=o.getListChildren(K,o.isCell);let j=p?o.prevIdx(R,V):o.nextIdx(R,V);j===R.length&&!p&&(j=0),j===-1&&p&&(j=R.length-1);let I=R[j];if(!I)break;I=I.firstElementChild||I,f.setRange(I,0,I,0);break}B=B.concat(P),z=D=null}if(B.length>0)if(p){const V=B.length-1;for(let j=0,I;j<=V;j++){I=B[j].childNodes;for(let H=0,U=I.length,G;H<U&&(G=I[H],!!G);H++)if(!o.onlyZeroWidthSpace(G)){/^\s{1,4}$/.test(G.textContent)?o.removeItem(G):/^\s{1,4}/.test(G.textContent)&&(G.textContent=G.textContent.replace(/^\s{1,4}/,""));break}}const K=o.getChildElement(B[0],"text",!1),R=o.getChildElement(B[V],"text",!0);!z&&K&&($.sc=K,$.so=0),!D&&R&&($.ec=R,$.eo=R.textContent.length)}else{const V=o.createTextNode(new l.Array(f._variable.tabSize+1).join(" "));if(B.length===1){const K=f.insertNode(V,null,!0);if(!K)return!1;z||($.sc=V,$.so=K.endOffset),D||($.ec=V,$.eo=K.endOffset)}else{const K=B.length-1;for(let I=0,H;I<=K;I++)H=B[I].firstChild,H&&(o.isBreak(H)?B[I].insertBefore(V.cloneNode(!1),H):H.textContent=V.textContent+H.textContent);const R=o.getChildElement(B[0],"text",!1),j=o.getChildElement(B[K],"text",!0);!z&&R&&($.sc=R,$.so=0),!D&&j&&($.ec=j,$.eo=j.textContent.length)}}f.setRange($.sc,$.so,$.ec,$.eo),f.history.push(!1);break;case 13:const q=o.getFreeFormatElement(u,null);if(f._charTypeHTML){let V="";if(!p&&q||p?V="<br>":V="<"+k.nodeName+"><br></"+k.nodeName+">",!f.checkCharCount(V,"byte-html"))return c.preventDefault(),!1}if(!p){const V=f._isEdgeFormat(_.endContainer,_.endOffset,"end"),K=f._isEdgeFormat(_.startContainer,_.startOffset,"start");if(V&&(/^H[1-6]$/i.test(k.nodeName)||/^HR$/i.test(k.nodeName))){c.preventDefault();let R=null;const j=f.appendFormatTag(k,s.defaultTag);if(V&&V.length>0){R=V.pop();const I=R;for(;V.length>0;)R=R.appendChild(V.pop());j.appendChild(I)}R=R?R.appendChild(j.firstChild):j.firstChild,f.setRange(R,0,R,0);break}else if(T&&k&&!o.isCell(T)&&!/^FIGCAPTION$/i.test(T.nodeName)){const R=f.getRange();if(f.isEdgePoint(R.endContainer,R.endOffset)&&o.isList(u.nextSibling)){c.preventDefault();const j=o.createElement("LI"),I=o.createElement("BR");j.appendChild(I),k.parentNode.insertBefore(j,k.nextElementSibling),j.appendChild(u.nextSibling),f.setRange(I,1,I,1);break}if((R.commonAncestorContainer.nodeType!==3||!R.commonAncestorContainer.nextElementSibling)&&o.onlyZeroWidthSpace(k.innerText.trim())&&!o.isListCell(k.nextElementSibling)){c.preventDefault();let j=null;if(o.isListCell(T.parentNode)){if(T=k.parentNode.parentNode.parentNode,j=o.splitElement(k,null,o.getElementDepth(k)-2),!j){const I=o.createElement("LI");I.innerHTML="<br>",o.copyTagAttributes(I,k,s.lineAttrReset),T.insertBefore(I,j),j=I}}else{const I=o.isCell(T.parentNode)?"DIV":o.isList(T.parentNode)?"LI":o.isFormatElement(T.nextElementSibling)&&!o.isRangeFormatElement(T.nextElementSibling)?T.nextElementSibling.nodeName:o.isFormatElement(T.previousElementSibling)&&!o.isRangeFormatElement(T.previousElementSibling)?T.previousElementSibling.nodeName:s.defaultTag;j=o.createElement(I),o.copyTagAttributes(j,k,s.lineAttrReset);const H=f.detachRangeFormatElement(T,[k],null,!0,!0);H.cc.insertBefore(j,H.ec)}j.innerHTML="<br>",o.removeItemAllParents(k,null,null),f.setRange(j,1,j,1);break}}if(q){c.preventDefault();const R=u===q,j=f.getSelection(),I=u.childNodes,H=j.focusOffset,U=u.previousElementSibling,G=u.nextSibling;if(!o.isClosureFreeFormatElement(q)&&I&&(R&&_.collapsed&&I.length-1<=H+1&&o.isBreak(I[H])&&(!I[H+1]||(!I[H+2]||o.onlyZeroWidthSpace(I[H+2].textContent))&&I[H+1].nodeType===3&&o.onlyZeroWidthSpace(I[H+1].textContent))&&H>0&&o.isBreak(I[H-1])||!R&&o.onlyZeroWidthSpace(u.textContent)&&o.isBreak(U)&&(o.isBreak(U.previousSibling)||!o.onlyZeroWidthSpace(U.previousSibling.textContent))&&(!G||!o.isBreak(G)&&o.onlyZeroWidthSpace(G.textContent)))){R?o.removeItem(I[H-1]):o.removeItem(u);const X=f.appendFormatTag(q,o.isFormatElement(q.nextElementSibling)&&!o.isRangeFormatElement(q.nextElementSibling)?q.nextElementSibling:null);o.copyFormatAttributes(X,q),f.setRange(X,1,X,1);break}if(R){b.insertHTML(_.collapsed&&o.isBreak(_.startContainer.childNodes[_.startOffset-1])?"<br>":"<br><br>",!0,!1);let X=j.focusNode;const Z=j.focusOffset;q===X&&(X=X.childNodes[Z-H>1?Z-1:Z]),f.setRange(X,1,X,1)}else{const X=j.focusNode.nextSibling,Z=o.createElement("BR");f.insertNode(Z,null,!1);const te=Z.previousSibling,ne=Z.nextSibling;!o.isBreak(X)&&!o.isBreak(te)&&(!ne||o.onlyZeroWidthSpace(ne))?(Z.parentNode.insertBefore(Z.cloneNode(!1),Z),f.setRange(Z,1,Z,1)):f.setRange(ne,0,ne,0)}y._onShortcutKey=!0;break}if(_.collapsed&&(K||V)){c.preventDefault();const R=o.createElement("BR"),j=o.createElement(k.nodeName);o.copyTagAttributes(j,k,s.lineAttrReset);let I=R;do{if(!o.isBreak(u)&&u.nodeType===1){const H=u.cloneNode(!1);H.appendChild(I),I=H}u=u.parentNode}while(k!==u&&k.contains(u));j.appendChild(I),k.parentNode.insertBefore(j,K&&!V?k:k.nextElementSibling),V&&f.setRange(R,1,R,1);break}if(k){c.stopPropagation();let R,j=0;if(_.collapsed)o.onlyZeroWidthSpace(k)?R=f.appendFormatTag(k,k.cloneNode(!1)):R=o.splitElement(_.endContainer,_.endOffset,o.getElementDepth(k));else{const I=o.getFormatElement(_.startContainer,null)!==o.getFormatElement(_.endContainer,null),H=k.cloneNode(!1);H.innerHTML="<br>";const U=f.removeNode();if(R=o.getFormatElement(U.container,null),!R){o.isWysiwygDiv(U.container)&&(c.preventDefault(),t.element.wysiwyg.appendChild(H),R=H,o.copyTagAttributes(R,k,s.lineAttrReset),f.setRange(R,j,R,j));break}const G=o.getRangeFormatElement(U.container);if(R=R.contains(G)?o.getChildElement(G,o.getFormatElement.bind(o)):R,I){if(V&&!K)R.parentNode.insertBefore(H,!U.prevContainer||U.container===U.prevContainer?R.nextElementSibling:R),R=H,j=0;else if(j=U.offset,K){const X=R.parentNode.insertBefore(H,R);V&&(R=X,j=0)}}else V&&K?(R.parentNode.insertBefore(H,U.prevContainer&&U.container===U.prevContainer?R.nextElementSibling:R),R=H,j=0):R=o.splitElement(U.container,U.offset,o.getElementDepth(k))}c.preventDefault(),o.copyTagAttributes(R,k,s.lineAttrReset),f.setRange(R,j,R,j);break}}if(C)break;if(T&&o.getParentElement(T,"FIGCAPTION")&&o.getParentElement(T,o.isList)&&(c.preventDefault(),k=f.appendFormatTag(k,null),f.setRange(k,0,k,0)),E){c.preventDefault(),c.stopPropagation();const V=t[E],K=V._container,R=K.previousElementSibling||K.nextElementSibling;let j=null;o.isListCell(K.parentNode)?j=o.createElement("BR"):(j=o.createElement(o.isFormatElement(R)&&!o.isRangeFormatElement(R)?R.nodeName:s.defaultTag),j.innerHTML="<br>"),K.parentNode.insertBefore(j,K),f.callPlugin(E,function(){f.selectComponent(V._element,E)===!1&&f.blur()},null)}break;case 27:if(E)return c.preventDefault(),c.stopPropagation(),f.controllersOff(),!1;break}if(p&&h===16){c.preventDefault(),c.stopPropagation();const O=f.plugins.table;if(O&&!O._shift&&!O._ref){const M=o.getParentElement(k,o.isCell);if(M){O.onTableCellMultiSelect.call(f,M,!0);return}}}else if(p&&(o.isOSX_IOS?g:m)&&h===32){c.preventDefault(),c.stopPropagation();const O=f.insertNode(o.createTextNode(" "));if(O&&O.container){f.setRange(O.container,O.endOffset,O.container,O.endOffset);return}}if(o.isIE&&!m&&!g&&!C&&!y._nonTextKeyCode.test(h)&&o.isBreak(_.commonAncestorContainer)){const O=o.createTextNode(o.zeroWidthSpace);f.insertNode(O,null,!1),f.setRange(O,1,O,1)}y._directionKeyCode.test(h)&&(f._editorRange(),y._applyTagEffects())},onKeyUp_wysiwyg:function(c){if(y._onShortcutKey)return;f._editorRange();const u=c.keyCode,h=c.ctrlKey||c.metaKey||u===91||u===92||u===224,p=c.altKey;if(f.isReadOnly){!h&&y._cursorMoveKeyCode.test(u)&&y._applyTagEffects();return}const m=f.getRange();let g=f.getSelectionNode();if(f._isBalloon&&(f._isBalloonAlways&&u!==27||!m.collapsed))if(f._isBalloonAlways)u!==27&&y._showToolbarBalloonDelay();else{y._showToolbarBalloon();return}if(u===8&&o.isWysiwygDiv(g)&&g.textContent===""&&g.children.length===0){c.preventDefault(),c.stopPropagation(),g.innerHTML="";const T=o.createElement(o.isFormatElement(f._variable.currentNodes[0])?f._variable.currentNodes[0]:s.defaultTag);T.innerHTML="<br>",g.appendChild(T),f.setRange(T,0,T,0),y._applyTagEffects(),f.history.push(!1);return}const _=o.getFormatElement(g,null),C=o.getRangeFormatElement(g,null),E=f._formatAttrsTemp;if(E){for(let T=0,O=E.length;T<O;T++){if(u===13&&/^id$/i.test(E[T].name)){_.removeAttribute("id");continue}_.setAttribute(E[T].name,E[T].value)}f._formatAttrsTemp=null}if(!_&&m.collapsed&&!o.isComponent(g)&&!o.isList(g)&&f._setDefaultFormat(o.isRangeFormatElement(C)?"DIV":s.defaultTag)!==null&&(g=f.getSelectionNode()),!h&&!p&&!y._nonTextKeyCode.test(u)&&g.nodeType===3&&o.zeroWidthRegExp.test(g.textContent)&&!(c.isComposing!==void 0?c.isComposing:y._IEisComposing)){let T=m.startOffset,O=m.endOffset;const M=(g.textContent.substring(0,O).match(y._frontZeroWidthReg)||"").length;T=m.startOffset-M,O=m.endOffset-M,g.textContent=g.textContent.replace(o.zeroWidthRegExp,""),f.setRange(g,T<0?0:T,g,O<0?0:O)}f._charCount(""),!(typeof b.onKeyUp=="function"&&b.onKeyUp(c,f)===!1)&&!h&&!p&&!y._historyIgnoreKeyCode.test(u)&&f.history.push(!0)},onScroll_wysiwyg:function(c){f.controllersOff(),f._isBalloon&&y._hideToolbar(),typeof b.onScroll=="function"&&b.onScroll(c,f)},onFocus_wysiwyg:function(c){f._antiBlur||(f.hasFocus=!0,l.setTimeout(y._applyTagEffects),f._isInline&&y._showToolbarInline(),typeof b.onFocus=="function"&&b.onFocus(c,f))},onBlur_wysiwyg:function(c){f._antiBlur||f._variable.isCodeView||(f.hasFocus=!1,f.effectNode=null,f.controllersOff(),(f._isInline||f._isBalloon)&&y._hideToolbar(),f._setKeyEffect([]),f._variable.currentNodes=[],f._variable.currentNodesMap=[],s.showPathLabel&&(t.element.navigation.textContent=""),typeof b.onBlur=="function"&&b.onBlur(c,f,this))},onMouseDown_resizingBar:function(c){c.stopPropagation(),f.submenuOff(),f.controllersOff(),f._variable.resizeClientY=c.clientY,t.element.resizeBackground.style.display="block";function u(){t.element.resizeBackground.style.display="none",a.removeEventListener("mousemove",y._resize_editor),a.removeEventListener("mouseup",u)}a.addEventListener("mousemove",y._resize_editor),a.addEventListener("mouseup",u)},_resize_editor:function(c){const u=t.element.editorArea.offsetHeight+(c.clientY-f._variable.resizeClientY),h=u<f._variable.minResizingSize?f._variable.minResizingSize:u;t.element.wysiwygFrame.style.height=t.element.code.style.height=h+"px",f._variable.resizeClientY=c.clientY,o.isResizeObserverSupported||f.__callResizeFunction(h,null)},onResize_window:function(){o.isResizeObserverSupported||f.resetResponsiveToolbar();const c=t.element.toolbar,u=c.style.display==="none"||f._isInline&&!f._inlineToolbarAttr.isShow;if(!(c.offsetWidth===0&&!u)){if(t.fileBrowser&&t.fileBrowser.area.style.display==="block"&&(t.fileBrowser.body.style.maxHeight=l.innerHeight-t.fileBrowser.header.offsetHeight-50+"px"),f.submenuActiveButton&&f.submenu&&f._setMenuPosition(f.submenuActiveButton,f.submenu),f._variable.isFullScreen){f._variable.innerHeight_fullScreen+=l.innerHeight-c.offsetHeight-f._variable.innerHeight_fullScreen,t.element.editorArea.style.height=f._variable.innerHeight_fullScreen+"px";return}if(f._variable.isCodeView&&f._isInline){y._showToolbarInline();return}f._iframeAutoHeight(),f._sticky&&(c.style.width=t.element.topArea.offsetWidth-2+"px",y.onScroll_window())}},onScroll_window:function(){if(f._variable.isFullScreen||t.element.toolbar.offsetWidth===0||s.stickyToolbar<0)return;const c=t.element,u=c.editorArea.offsetHeight,h=(this.scrollY||a.documentElement.scrollTop)+s.stickyToolbar,p=y._getEditorOffsets(s.toolbarContainer).top-(f._isInline?c.toolbar.offsetHeight:0),m=f._isInline&&h-p>0?h-p-t.element.toolbar.offsetHeight:0;h<p?y._offStickyToolbar():h+f._variable.minResizingSize>=u+p?(f._sticky||y._onStickyToolbar(m),c.toolbar.style.top=m+u+p+s.stickyToolbar-h-f._variable.minResizingSize+"px"):h>=p&&y._onStickyToolbar(m)},_getEditorOffsets:function(c){let u=c||t.element.topArea,h=0,p=0,m=0;for(;u;)h+=u.offsetTop,p+=u.offsetLeft,m+=u.scrollTop,u=u.offsetParent;return{top:h,left:p,scroll:m}},_getPageBottomSpace:function(){return a.documentElement.scrollHeight-(y._getEditorOffsets(null).top+t.element.topArea.offsetHeight)},_onStickyToolbar:function(c){const u=t.element;!f._isInline&&!s.toolbarContainer&&(u._stickyDummy.style.height=u.toolbar.offsetHeight+"px",u._stickyDummy.style.display="block"),u.toolbar.style.top=s.stickyToolbar+c+"px",u.toolbar.style.width=f._isInline?f._inlineToolbarAttr.width:u.toolbar.offsetWidth+"px",o.addClass(u.toolbar,"se-toolbar-sticky"),f._sticky=!0},_offStickyToolbar:function(){const c=t.element;c._stickyDummy.style.display="none",c.toolbar.style.top=f._isInline?f._inlineToolbarAttr.top:"",c.toolbar.style.width=f._isInline?f._inlineToolbarAttr.width:"",c.editorArea.style.marginTop="",o.removeClass(c.toolbar,"se-toolbar-sticky"),f._sticky=!1},_codeViewAutoHeight:function(){f._variable.isFullScreen||(t.element.code.style.height=t.element.code.scrollHeight+"px")},_hardDelete:function(){const c=f.getRange(),u=c.startContainer,h=c.endContainer,p=o.getRangeFormatElement(u),m=o.getRangeFormatElement(h),g=o.isCell(p),_=o.isCell(m),C=c.commonAncestorContainer;if((g&&!p.previousElementSibling&&!p.parentElement.previousElementSibling||_&&!m.nextElementSibling&&!m.parentElement.nextElementSibling)&&p!==m)if(!g)o.removeItem(o.getParentElement(m,function(T){return C===T.parentNode}));else if(!_)o.removeItem(o.getParentElement(p,function(T){return C===T.parentNode}));else return o.removeItem(o.getParentElement(p,function(T){return C===T.parentNode})),f.nativeFocus(),!0;const E=u.nodeType===1?o.getParentElement(u,".se-component"):null,k=h.nodeType===1?o.getParentElement(h,".se-component"):null;return E&&o.removeItem(E),k&&o.removeItem(k),!1},onPaste_wysiwyg:function(c){const u=o.isIE?l.clipboardData:c.clipboardData;return u?y._dataTransferAction("paste",c,u):!0},_setClipboardComponent:function(c,u,h){c.preventDefault(),c.stopPropagation(),h.setData("text/html",u.component.outerHTML)},onCopy_wysiwyg:function(c){const u=o.isIE?l.clipboardData:c.clipboardData;if(typeof b.onCopy=="function"&&b.onCopy(c,u,f)===!1)return c.preventDefault(),c.stopPropagation(),!1;const h=f.currentFileComponentInfo;h&&!o.isIE&&(y._setClipboardComponent(c,h,u),o.addClass(h.component,"se-component-copy"),l.setTimeout(function(){o.removeClass(h.component,"se-component-copy")},150))},onSave_wysiwyg:function(c){if(typeof b.onSave=="function"){b.onSave(c,f);return}},onCut_wysiwyg:function(c){const u=o.isIE?l.clipboardData:c.clipboardData;if(typeof b.onCut=="function"&&b.onCut(c,u,f)===!1)return c.preventDefault(),c.stopPropagation(),!1;const h=f.currentFileComponentInfo;h&&!o.isIE&&(y._setClipboardComponent(c,h,u),o.removeItem(h.component),f.controllersOff()),l.setTimeout(function(){f.history.push(!1)})},onDrop_wysiwyg:function(c){if(f.isReadOnly||o.isIE)return c.preventDefault(),c.stopPropagation(),!1;const u=c.dataTransfer;return u?(f.removeNode(),y._setDropLocationSelection(c),y._dataTransferAction("drop",c,u)):!0},_setDropLocationSelection:function(c){if(c.rangeParent)f.setRange(c.rangeParent,c.rangeOffset,c.rangeParent,c.rangeOffset);else if(f._wd.caretRangeFromPoint){const u=f._wd.caretRangeFromPoint(c.clientX,c.clientY);f.setRange(u.startContainer,u.startOffset,u.endContainer,u.endOffset)}else{const u=f.getRange();f.setRange(u.startContainer,u.startOffset,u.endContainer,u.endOffset)}},_dataTransferAction:function(c,u,h){let p,m;if(o.isIE){p=h.getData("Text");const g=f.getRange(),_=o.createElement("DIV"),C={sc:g.startContainer,so:g.startOffset,ec:g.endContainer,eo:g.endOffset};return _.setAttribute("contenteditable",!0),_.style.cssText="position:absolute; top:0; left:0; width:1px; height:1px; overflow:hidden;",t.element.relative.appendChild(_),_.focus(),l.setTimeout(function(){m=_.innerHTML,o.removeItem(_),f.setRange(C.sc,C.so,C.ec,C.eo),y._setClipboardData(c,u,p,m,h)}),!0}else if(p=h.getData("text/plain"),m=h.getData("text/html"),y._setClipboardData(c,u,p,m,h)===!1)return u.preventDefault(),u.stopPropagation(),!1},_setClipboardData:function(c,u,h,p,m){const g=/class=["']*Mso(Normal|List)/i.test(p)||/content=["']*Word.Document/i.test(p)||/content=["']*OneNote.File/i.test(p)||/content=["']*Excel.Sheet/i.test(p);!p?p=o._HTMLConvertor(h).replace(/\n/g,"<br>"):(p=p.replace(/^<html>\r?\n?<body>\r?\n?\x3C!--StartFragment--\>|\x3C!--EndFragment-->\r?\n?<\/body\>\r?\n?<\/html>$/g,""),g&&(p=p.replace(/\n/g," "),h=h.replace(/\n/g," ")),p=f.cleanHTML(p,f.pasteTagsWhitelistRegExp,f.pasteTagsBlacklistRegExp));const C=f._charCount(f._charTypeHTML?p:h);if(c==="paste"&&typeof b.onPaste=="function"){const k=b.onPaste(u,p,C,f);if(k===!1)return!1;if(typeof k=="string"){if(!k)return!1;p=k}}if(c==="drop"&&typeof b.onDrop=="function"){const k=b.onDrop(u,p,C,f);if(k===!1)return!1;if(typeof k=="string"){if(!k)return!1;p=k}}const E=m.files;if(E.length>0&&!g)return/^image/.test(E[0].type)&&f.plugins.image&&b.insertImage(E),!1;if(!C)return!1;if(p)return b.insertHTML(p,!0,!1),!1},onMouseMove_wysiwyg:function(c){if(f.isDisabled||f.isReadOnly)return!1;const u=o.getParentElement(c.target,o.isComponent),h=f._lineBreaker.style;if(u&&!f.currentControllerName){const p=t.element;let m=0,g=p.wysiwyg;do m+=g.scrollTop,g=g.parentElement;while(g&&!/^(BODY|HTML)$/i.test(g.nodeName));const _=p.wysiwyg.scrollTop,C=y._getEditorOffsets(null),E=o.getOffset(u,p.wysiwygFrame).top+_,k=c.pageY+m+(s.iframe&&!s.toolbarContainer?p.toolbar.offsetHeight:0),T=E+(s.iframe?m:C.top),O=o.isListCell(u.parentNode);let M="",F="";if((O?!u.previousSibling:!o.isFormatElement(u.previousElementSibling))&&k<T+20)F=E,M="t";else if((O?!u.nextSibling:!o.isFormatElement(u.nextElementSibling))&&k>T+u.offsetHeight-20)F=E+u.offsetHeight,M="b";else{h.display="none";return}f._variable._lineBreakComp=u,f._variable._lineBreakDir=M,h.top=F-_+"px",f._lineBreakerButton.style.left=o.getOffset(u).left+u.offsetWidth/2-15+"px",h.display="block"}else h.display!=="none"&&(h.display="none")},_onMouseDown_lineBreak:function(c){c.preventDefault()},_onLineBreak:function(c){c.preventDefault();const u=f._variable._lineBreakComp,h=this?this:f._variable._lineBreakDir,p=o.isListCell(u.parentNode),m=o.createElement(p?"BR":o.isCell(u.parentNode)?"DIV":s.defaultTag);if(p||(m.innerHTML="<br>"),f._charTypeHTML&&!f.checkCharCount(m.outerHTML,"byte-html"))return;u.parentNode.insertBefore(m,h==="t"?u:u.nextSibling),f._lineBreaker.style.display="none",f._variable._lineBreakComp=null;const g=p?m:m.firstChild;f.setRange(g,1,g,1),f.history.push(!1)},_resizeObserver:null,_toolbarObserver:null,_addEvent:function(){const c=s.iframe?f._ww:t.element.wysiwyg;o.isResizeObserverSupported&&(this._resizeObserver=new l.ResizeObserver(function(u){f.__callResizeFunction(-1,u[0])})),t.element.toolbar.addEventListener("mousedown",y._buttonsEventHandler,!1),t.element._menuTray.addEventListener("mousedown",y._buttonsEventHandler,!1),t.element.toolbar.addEventListener("click",y.onClick_toolbar,!1),c.addEventListener("mousedown",y.onMouseDown_wysiwyg,!1),c.addEventListener("click",y.onClick_wysiwyg,!1),c.addEventListener(o.isIE?"textinput":"input",y.onInput_wysiwyg,!1),c.addEventListener("keydown",y.onKeyDown_wysiwyg,!1),c.addEventListener("keyup",y.onKeyUp_wysiwyg,!1),c.addEventListener("paste",y.onPaste_wysiwyg,!1),c.addEventListener("copy",y.onCopy_wysiwyg,!1),c.addEventListener("cut",y.onCut_wysiwyg,!1),c.addEventListener("drop",y.onDrop_wysiwyg,!1),c.addEventListener("scroll",y.onScroll_wysiwyg,!1),c.addEventListener("focus",y.onFocus_wysiwyg,!1),c.addEventListener("blur",y.onBlur_wysiwyg,!1),y._lineBreakerBind={a:y._onLineBreak.bind(""),t:y._onLineBreak.bind("t"),b:y._onLineBreak.bind("b")},c.addEventListener("mousemove",y.onMouseMove_wysiwyg,!1),f._lineBreakerButton.addEventListener("mousedown",y._onMouseDown_lineBreak,!1),f._lineBreakerButton.addEventListener("click",y._lineBreakerBind.a,!1),t.element.lineBreaker_t.addEventListener("mousedown",y._lineBreakerBind.t,!1),t.element.lineBreaker_b.addEventListener("mousedown",y._lineBreakerBind.b,!1),c.addEventListener("touchstart",y.onMouseDown_wysiwyg,{passive:!0,useCapture:!1}),c.addEventListener("touchend",y.onClick_wysiwyg,{passive:!0,useCapture:!1}),s.height==="auto"&&!s.codeMirrorEditor&&(t.element.code.addEventListener("keydown",y._codeViewAutoHeight,!1),t.element.code.addEventListener("keyup",y._codeViewAutoHeight,!1),t.element.code.addEventListener("paste",y._codeViewAutoHeight,!1)),t.element.resizingBar&&(/\d+/.test(s.height)&&s.resizeEnable?t.element.resizingBar.addEventListener("mousedown",y.onMouseDown_resizingBar,!1):o.addClass(t.element.resizingBar,"se-resizing-none")),y._setResponsiveToolbar(),o.isResizeObserverSupported&&(this._toolbarObserver=new l.ResizeObserver(f.resetResponsiveToolbar)),l.addEventListener("resize",y.onResize_window,!1),s.stickyToolbar>-1&&l.addEventListener("scroll",y.onScroll_window,!1)},_removeEvent:function(){const c=s.iframe?f._ww:t.element.wysiwyg;t.element.toolbar.removeEventListener("mousedown",y._buttonsEventHandler),t.element._menuTray.removeEventListener("mousedown",y._buttonsEventHandler),t.element.toolbar.removeEventListener("click",y.onClick_toolbar),c.removeEventListener("mousedown",y.onMouseDown_wysiwyg),c.removeEventListener("click",y.onClick_wysiwyg),c.removeEventListener(o.isIE?"textinput":"input",y.onInput_wysiwyg),c.removeEventListener("keydown",y.onKeyDown_wysiwyg),c.removeEventListener("keyup",y.onKeyUp_wysiwyg),c.removeEventListener("paste",y.onPaste_wysiwyg),c.removeEventListener("copy",y.onCopy_wysiwyg),c.removeEventListener("cut",y.onCut_wysiwyg),c.removeEventListener("drop",y.onDrop_wysiwyg),c.removeEventListener("scroll",y.onScroll_wysiwyg),c.removeEventListener("mousemove",y.onMouseMove_wysiwyg),f._lineBreakerButton.removeEventListener("mousedown",y._onMouseDown_lineBreak),f._lineBreakerButton.removeEventListener("click",y._lineBreakerBind.a),t.element.lineBreaker_t.removeEventListener("mousedown",y._lineBreakerBind.t),t.element.lineBreaker_b.removeEventListener("mousedown",y._lineBreakerBind.b),y._lineBreakerBind=null,c.removeEventListener("touchstart",y.onMouseDown_wysiwyg,{passive:!0,useCapture:!1}),c.removeEventListener("touchend",y.onClick_wysiwyg,{passive:!0,useCapture:!1}),c.removeEventListener("focus",y.onFocus_wysiwyg),c.removeEventListener("blur",y.onBlur_wysiwyg),t.element.code.removeEventListener("keydown",y._codeViewAutoHeight),t.element.code.removeEventListener("keyup",y._codeViewAutoHeight),t.element.code.removeEventListener("paste",y._codeViewAutoHeight),t.element.resizingBar&&t.element.resizingBar.removeEventListener("mousedown",y.onMouseDown_resizingBar),y._resizeObserver&&(y._resizeObserver.unobserve(t.element.wysiwygFrame),y._resizeObserver=null),y._toolbarObserver&&(y._toolbarObserver.unobserve(t.element._toolbarShadow),y._toolbarObserver=null),l.removeEventListener("resize",y.onResize_window),l.removeEventListener("scroll",y.onScroll_window)},_setResponsiveToolbar:function(){if(r.length===0){r=null;return}y._responsiveCurrentSize="default";const c=y._responsiveButtonSize=[],u=y._responsiveButtons={default:r[0]};for(let h=1,p=r.length,m,g;h<p;h++)g=r[h],m=g[0]*1,c.push(m),u[m]=g[1];c.sort(function(h,p){return h-p}).unshift("default")}},b={core:f,util:o,onload:null,onScroll:null,onMouseDown:null,onClick:null,onInput:null,onKeyDown:null,onKeyUp:null,onCopy:null,onCut:null,onFocus:null,onBlur:null,onChange:null,onSave:null,onDrop:null,onPaste:null,showInline:null,showController:null,toggleCodeView:null,toggleFullScreen:null,imageUploadHandler:null,videoUploadHandler:null,audioUploadHandler:null,onImageUploadBefore:null,onVideoUploadBefore:null,onAudioUploadBefore:null,onImageUpload:null,onVideoUpload:null,onAudioUpload:null,onImageUploadError:null,onVideoUploadError:null,onAudioUploadError:null,onResizeEditor:null,onSetToolbarButtons:null,setToolbarButtons:function(c){f.submenuOff(),f.containerOff(),f.moreLayerOff();const u=Pr._createToolBar(a,c,f.plugins,s);r=u.responsiveButtons,y._setResponsiveToolbar(),t.element.toolbar.replaceChild(u._buttonTray,t.element._buttonTray);const h=jr(t.element.originElement,f._getConstructed(t.element),s);t.element=h.element,t.tool=h.tool,s.iframe&&(t.element.wysiwyg=f._wd.body),f._recoverButtonStates(),f._cachingButtons(),f.history._resetCachingButton(),f.effectNode=null,f.hasFocus&&y._applyTagEffects(),f.isReadOnly&&o.setDisabledButtons(!0,f.resizingDisabledButtons),typeof b.onSetToolbarButtons=="function"&&b.onSetToolbarButtons(u._buttonTray.querySelectorAll("button"),f)},setOptions:function(c){y._removeEvent(),f._resetComponents(),o.removeClass(f._styleCommandMap.showBlocks,"active"),o.removeClass(f._styleCommandMap.codeView,"active"),f._variable.isCodeView=!1,f._iframeAuto=null,f.plugins=c.plugins||f.plugins;const u=[s,c].reduce(function(g,_){for(let C in _)if(o.hasOwn(_,C))if(C==="plugins"&&_[C]&&g[C]){let E=g[C],k=_[C];E=E.length?E:l.Object.keys(E).map(function(T){return E[T]}),k=k.length?k:l.Object.keys(k).map(function(T){return k[T]}),g[C]=k.filter(function(T){return E.indexOf(T)===-1}).concat(E)}else g[C]=_[C];return g},{}),h=t.element,p=h.wysiwyg.innerHTML,m=Pr._setOptions(u,t,s);m.callButtons&&(e=m.callButtons,f.initPlugins={}),m.plugins&&(f.plugins=n=m.plugins),h._menuTray.children.length===0&&(this._menuTray={}),r=m.toolbar.responsiveButtons,f.options=s=u,f.lang=i=s.lang,s.iframe&&h.wysiwygFrame.addEventListener("load",function(){o._setIframeDocument(this,s),f._setOptionsInit(h,p)}),h.editorArea.appendChild(h.wysiwygFrame),s.iframe||f._setOptionsInit(h,p)},setDefaultStyle:function(c){const u=s._editorStyles=o._setDefaultOptionStyle(s,c),h=t.element;h.topArea.style.cssText=u.top,h.code.style.cssText=s._editorStyles.frame,h.code.style.display="none",s.height==="auto"?h.code.style.overflow="hidden":h.code.style.overflow="",s.iframe?(h.wysiwygFrame.style.cssText=u.frame,h.wysiwyg.style.cssText=u.editor):h.wysiwygFrame.style.cssText=u.frame+u.editor},noticeOpen:function(c){f.notice.open.call(f,c)},noticeClose:function(){f.notice.close.call(f)},save:function(){const c=f.getContents(!1);t.element.originElement.value=c,y.onSave_wysiwyg(c,f)},getContext:function(){return t},getContents:function(c){return f.getContents(c)},getText:function(){return t.element.wysiwyg.textContent},getCharCount:function(c){return c=typeof c=="string"?c:s.charCounterType,f.getCharLength(f._charTypeHTML?t.element.wysiwyg.innerHTML:t.element.wysiwyg.textContent,c)},getImagesInfo:function(){return t.image?t.image._infoList:[]},getFilesInfo:function(c){return t[c]?t[c]._infoList:[]},insertImage:function(c){!f.plugins.image||!c||(f.initPlugins.image?f.plugins.image.submitAction.call(f,c):f.callPlugin("image",f.plugins.image.submitAction.bind(f,c),null),f.focus())},insertHTML:function(c,u,h,p){if(t.element.wysiwygFrame.contains(f.getSelection().focusNode)||f.focus(),typeof c=="string"){u||(c=f.cleanHTML(c,null,null));try{if(o.isListCell(o.getFormatElement(f.getSelectionNode(),null))){const F=a.createRange().createContextualFragment(c).childNodes;f._isFormatData(F)&&(c=f._convertListCell(F))}const g=a.createRange().createContextualFragment(c).childNodes;if(h){const M=f._charTypeHTML?"outerHTML":"textContent";let F="";for(let N=0,P=g.length;N<P;N++)F+=g[N][M];if(!f.checkCharCount(F,null))return}let _,C,E,k,T;for(;_=g[0];){if(k&&k.nodeType===3&&C&&C.nodeType===1&&o.isBreak(_)){k=_,o.removeItem(_);continue}E=f.insertNode(_,C,!1),C=E.container||E,T||(T=E),k=_}k.nodeType===3&&C.nodeType===1&&(C=k);const O=C.nodeType===3?E.endOffset||C.textContent.length:C.childNodes.length;p?f.setRange(T.container||T,T.startOffset||0,C,O):f.setRange(C,O,C,O)}catch(m){if(f.isDisabled||f.isReadOnly)return;console.warn("[SUNEDITOR.insertHTML.fail] "+m),f.execCommand("insertHTML",!1,c)}}else if(o.isComponent(c))f.insertComponent(c,!1,h,!1);else{let m=null;(o.isFormatElement(c)||o.isMedia(c))&&(m=o.getFormatElement(f.getSelectionNode(),null)),f.insertNode(c,m,h)}f.effectNode=null,f.focus(),f.history.push(!1)},setContents:function(c){f.setContents(c)},appendContents:function(c){const u=f.convertContentsForEditor(c);if(f._variable.isCodeView)f._setCodeView(f._getCodeView()+`
`+f.convertHTMLForCodeView(u,!1));else{const h=o.createElement("DIV");h.innerHTML=u;const p=t.element.wysiwyg,m=h.children;for(let g=0,_=m.length;g<_;g++)m[g]&&p.appendChild(m[g])}f.history.push(!1)},readOnly:function(c){f.isReadOnly=c,o.setDisabledButtons(!!c,f.resizingDisabledButtons),c?(f.controllersOff(),f.submenuActiveButton&&f.submenuActiveButton.disabled&&f.submenuOff(),f._moreLayerActiveButton&&f._moreLayerActiveButton.disabled&&f.moreLayerOff(),f.containerActiveButton&&f.containerActiveButton.disabled&&f.containerOff(),f.modalForm&&f.plugins.dialog.close.call(f),t.element.code.setAttribute("readOnly","true"),o.addClass(t.element.wysiwygFrame,"se-read-only")):(t.element.code.removeAttribute("readOnly"),o.removeClass(t.element.wysiwygFrame,"se-read-only")),s.codeMirrorEditor&&s.codeMirrorEditor.setOption("readOnly",!!c)},disable:function(){this.toolbar.disable(),this.wysiwyg.disable()},disabled:function(){this.disable()},enable:function(){this.toolbar.enable(),this.wysiwyg.enable()},enabled:function(){this.enable()},show:function(){const c=t.element.topArea.style;c.display==="none"&&(c.display=s.display)},hide:function(){t.element.topArea.style.display="none"},destroy:function(){f.submenuOff(),f.containerOff(),f.controllersOff(),f.notice&&f.notice.close.call(f),f.modalForm&&f.plugins.dialog.close.call(f),f.history._destroy(),y._removeEvent(),o.removeItem(t.element.toolbar),o.removeItem(t.element.topArea);for(let c in f.functions)o.hasOwn(f,c)&&delete f.functions[c];for(let c in f)o.hasOwn(f,c)&&delete f[c];for(let c in y)o.hasOwn(y,c)&&delete y[c];for(let c in t)o.hasOwn(t,c)&&delete t[c];for(let c in e)o.hasOwn(e,c)&&delete e[c];for(let c in this)o.hasOwn(this,c)&&delete this[c]},toolbar:{disable:function(){f.submenuOff(),f.moreLayerOff(),f.containerOff(),t.tool.cover.style.display="block"},disabled:function(){this.disable()},enable:function(){t.tool.cover.style.display="none"},enabled:function(){this.enable()},show:function(){f._isInline?y._showToolbarInline():(t.element.toolbar.style.display="",t.element._stickyDummy.style.display=""),y.onResize_window()},hide:function(){f._isInline?y._hideToolbar():(t.element.toolbar.style.display="none",t.element._stickyDummy.style.display="none"),y.onResize_window()}},wysiwyg:{disable:function(){f.controllersOff(),f.modalForm&&f.plugins.dialog.close.call(f),t.element.wysiwyg.setAttribute("contenteditable",!1),f.isDisabled=!0,s.codeMirrorEditor?s.codeMirrorEditor.setOption("readOnly",!0):t.element.code.setAttribute("disabled","disabled")},enable:function(){t.element.wysiwyg.setAttribute("contenteditable",!0),f.isDisabled=!1,s.codeMirrorEditor?s.codeMirrorEditor.setOption("readOnly",!1):t.element.code.removeAttribute("disabled")}}};f.functions=b,f.options=s;let w=t.element,v=w.originElement,x=w.topArea;return v.style.display="none",x.style.display="block",s.iframe&&w.wysiwygFrame.addEventListener("load",function(){o._setIframeDocument(this,s),f._editorInit(!1,s.value),s.value=null}),typeof v.nextElementSibling=="object"?v.parentNode.insertBefore(x,v.nextElementSibling):v.parentNode.appendChild(x),w.editorArea.appendChild(w.wysiwygFrame),w=v=x=null,s.iframe||(f._editorInit(!1,s.value),s.value=null),b}const W1={init:function(t){return{create:function(e,n){return this.create(e,n,t)}.bind(this)}},create:function(t,e,n){ve._propertiesInit(),typeof e!="object"&&(e={}),n&&(e=[n,e].reduce(function(r,a){for(let l in a)if(ve.hasOwn(a,l))if(l==="plugins"&&a[l]&&r[l]){let o=r[l],d=a[l];o=o.length?o:Object.keys(o).map(function(f){return o[f]}),d=d.length?d:Object.keys(d).map(function(f){return d[f]}),r[l]=d.filter(function(f){return o.indexOf(f)===-1}).concat(o)}else r[l]=a[l];return r},{}));const i=typeof t=="string"?document.getElementById(t):t;if(!i)throw Error(typeof t=="string"?'[SUNEDITOR.create.fail] The element for that id was not found (ID:"'+t+'")':"[SUNEDITOR.create.fail] suneditor requires textarea's element or id value");const s=Pr.init(i,e);if(s.constructed._top.id&&document.getElementById(s.constructed._top.id))throw Error('[SUNEDITOR.create.fail] The ID of the suneditor you are trying to create already exists (ID:"'+s.constructed._top.id+'")');return U1(jr(i,s.constructed,s.options),s.pluginCallButtons,s.plugins,s.options.lang,e,s._responsiveButtons)}},q1=Object.freeze(Object.defineProperty({__proto__:null,default:W1},Symbol.toStringTag,{value:"Module"})),$1=Pl(q1);function Z1(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ao={};Object.defineProperty(Ao,"__esModule",{value:!0});var Y1=function(t){switch(typeof t){case"object":return t;case"string":return Z1("suneditor/src/lang/".concat(t,".js"));default:return}};Ao.default=Y1;var Dn={};Object.defineProperty(Dn,"__esModule",{value:!0});Dn.uploadBeforeEvents=Dn.events=void 0;Dn.events=["onMouseDown","onScroll","onInput","onClick","onKeyUp","onKeyDown","onFocus","onImageUpload","onAudioUpload","onVideoUpload","onImageUploadError","onVideoUploadError","onAudioUploadError","onSave","onSetToolbarButtons","imageUploadHandler","toggleCodeView","toggleFullScreen","showInline","showController","onCopy","onCut","onDrop","onPaste"];Dn.uploadBeforeEvents=["onImageUploadBefore","onVideoUploadBefore","onAudioUploadBefore"];var ui=Pe&&Pe.__assign||function(){return ui=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},ui.apply(this,arguments)},K1=Pe&&Pe.__createBinding||(Object.create?function(t,e,n,i){i===void 0&&(i=n);var s=Object.getOwnPropertyDescriptor(e,n);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,s)}:function(t,e,n,i){i===void 0&&(i=n),t[i]=e[n]}),X1=Pe&&Pe.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),G1=Pe&&Pe.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&K1(e,t,n);return X1(e,t),e},Mo=Pe&&Pe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ko,"__esModule",{value:!0});var ct=G1(le),Q1=Mo(B1),J1=Mo($1),_l=Mo(Ao),xl=Dn,ey=function(t){var e=t.name,n=t.lang,i=t.setOptions,s=i===void 0?{}:i,r=t.placeholder,a=t.width,l=a===void 0?"100%":a,o=t.height,d=t.defaultValue,f=t.setContents,y=t.setDefaultStyle,b=t.getSunEditorInstance,w=t.appendContents,v=t.setAllPlugins,x=v===void 0?!0:v,c=t.disable,u=c===void 0?!1:c,h=t.readOnly,p=h===void 0?!1:h,m=t.hide,g=m===void 0?!1:m,_=t.hideToolbar,C=_===void 0?!1:_,E=t.disableToolbar,k=E===void 0?!1:E,T=t.onChange,O=t.autoFocus,M=t.onBlur,F=t.onLoad,N=(0,ct.useRef)(null),P=(0,ct.useRef)(null),B=(0,ct.useRef)(!0);return(0,ct.useEffect)(function(){var z,D=ui(ui({},s),{lang:n?(0,_l.default)(n):s.lang,width:l??s.width,placeholder:r??s.placeholder,plugins:(z=s.plugins)!==null&&z!==void 0?z:x?Q1.default:void 0,height:o??s.height,value:d??s.value,defaultStyle:y??s.defaultStyle});return e&&D.value&&(N.current.value=D.value),P.current=J1.default.create(N.current,D),b&&b(P.current),P.current.onload=function($,q){return q||(f&&(P.current.setContents(f),P.current.core.focusEdge(null)),w&&P.current.appendContents(w),P.current.util.isIE&&P.current.core._createDefaultRange(),u&&P.current.disable(),p&&P.current.readOnly(!0),g&&P.current.hide(),C&&P.current.toolbar.hide(),k&&P.current.toolbar.disable(),O===!1?P.current.core.context.element.wysiwyg.blur():O&&P.current.core.context.element.wysiwyg.focus()),F==null?void 0:F(q)},P.current.onChange=function($){e&&N.current&&(N.current.value=$),T&&T($)},M&&(P.current.onBlur=function($){return M($,P.current.getContents(!0))}),xl.uploadBeforeEvents.forEach(function($){var q=t[$];P.current&&q&&(P.current[$]=function(V,K,R,j){return q(V,K,j)})}),xl.events.forEach(function($){var q=t[$];q&&P.current&&(P.current[$]=q)}),function(){P.current&&P.current.destroy(),P.current=null}},[]),(0,ct.useEffect)(function(){var z;B.current||(z=P.current)===null||z===void 0||z.setOptions({lang:(0,_l.default)(n)})},[n]),(0,ct.useEffect)(function(){var z;B.current||(z=P.current)===null||z===void 0||z.setOptions({placeholder:r,height:o,width:l})},[r,o,l]),(0,ct.useEffect)(function(){var z;y&&!B.current&&((z=P.current)===null||z===void 0||z.setDefaultStyle(y))},[y]),(0,ct.useEffect)(function(){var z,D;!B.current&&f!==void 0&&!(!((z=P.current)===null||z===void 0)&&z.core.hasFocus)&&((D=P.current)===null||D===void 0||D.setContents(f))},[f]),(0,ct.useEffect)(function(){var z,D,$;!B.current&&w!==void 0&&!(!((z=P.current)===null||z===void 0)&&z.core.hasFocus)&&((D=P.current)===null||D===void 0||D.appendContents(w),($=P.current)===null||$===void 0||$.core.focusEdge(null))},[w]),(0,ct.useEffect)(function(){var z,D,$,q,V,K,R,j,I;B.current||((z=P.current)===null||z===void 0||z.readOnly(p),C?(D=P.current)===null||D===void 0||D.toolbar.hide():($=P.current)===null||$===void 0||$.toolbar.show(),k?(q=P.current)===null||q===void 0||q.toolbar.disable():(V=P.current)===null||V===void 0||V.toolbar.enable(),u?(K=P.current)===null||K===void 0||K.disable():(R=P.current)===null||R===void 0||R.enable(),g?(j=P.current)===null||j===void 0||j.hide():(I=P.current)===null||I===void 0||I.show())},[u,C,k,g,p]),(0,ct.useEffect)(function(){B.current=!1},[]),ct.default.createElement("textarea",ui({style:{visibility:"hidden"},ref:N},{name:e}))};ko.default=ey;var Yt={};Object.defineProperty(Yt,"__esModule",{value:!0});Yt.formatting=Yt.complex=Yt.basic=void 0;Yt.basic=[["font","fontSize"],["fontColor"],["horizontalRule"],["link","image"]];Yt.complex=[["undo","redo"],["font","fontSize","formatBlock"],["bold","underline","italic","strike","subscript","superscript"],["removeFormat"],"/",["fontColor","hiliteColor"],["outdent","indent"],["align","horizontalRule","list","table"],["link","image","video"],["fullScreen","showBlocks","codeView"],["preview","print"],["save","template"]];Yt.formatting=[["undo","redo"],["bold","underline","italic","strike","subscript","superscript"],["removeFormat"],["outdent","indent"],["fullScreen","showBlocks","codeView"],["preview","print"]];var ty=Pe&&Pe.__createBinding||(Object.create?function(t,e,n,i){i===void 0&&(i=n);var s=Object.getOwnPropertyDescriptor(e,n);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,s)}:function(t,e,n,i){i===void 0&&(i=n),t[i]=e[n]}),ny=Pe&&Pe.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),iy=Pe&&Pe.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&ty(e,t,n);return ny(e,t),e},sy=Pe&&Pe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ws,"__esModule",{value:!0});Ws.buttonList=void 0;var ry=sy(ko);Ws.buttonList=iy(Yt);var oy=Ws.default=ry.default;function ay(t){return S.jsx(oy,{height:"40vh",disableToolbar:!0,setDefaultStyle:`
            font-size: 1rem;
            color: var(--text);
            background-color: var(--primaryColor);
            font-family: var(--fontFamily);
        `,...t})}function ly(t){As();const e=Xt(["help-msg","faq"]),{Data:n}=ge({fr:{send_a_message_for_help:"Envoyer un message pour de l'aide"}}),{handleSubmit:i,register:s,setValue:r,getValues:a}=Fn({}),l=Pt({mutationKey:["help-msg"],mutationFn:async()=>he.post("faq/",a()),onSuccess:()=>{e(),Ce.success(`${n.updated} ✔️`),t.AfterSubmit&&t.AfterSubmit(a())},onError:o=>Ce.error(o.message)});return S.jsxs("div",{style:{width:"35vw"},children:[S.jsx("div",{className:"uppercase",style:{marginBottom:"1rem"},children:S.jsxs("h3",{children:[n.send_a_message_for_help," 🆘"]})}),S.jsxs("form",{className:"flex",onSubmit:i(l.mutate),style:{alignItems:"stretch",flexDirection:"column",gap:"0.5rem"},children:[S.jsx("input",{className:"input",style:{width:"100%"},placeholder:n.introduction,...s("question_title")}),S.jsx(ay,{onChange:o=>r("question_description",o),placeholder:n.description}),l.isLoading?S.jsx(Ne,{}):S.jsxs("button",{className:"button",style:{backgroundColor:"var(--greenColor)"},children:[S.jsx("i",{style:{marginRight:"1rem"},className:"fas fa-message"}),n.send]})]})]})}function sf(t){const{Data:e}=ge({fr:{need_help:"Besoin d'aide"}}),[n,i]=Ze();return S.jsxs(S.Fragment,{children:[S.jsx(jt,{show:n,closer:i,children:S.jsx(ly,{AfterSubmit:i}),title:S.jsxs("h3",{className:"uppercase",children:[e.need_help," ❓"]})}),S.jsxs("p",{className:"helper_mode cursor",...t,onClick:s=>{s.stopPropagation(),i()},children:[e.need_help," ❓"]})]})}function cy(){var b,w;const t=As(),e=Ft(),{User:n,utils:i}=e,s=wi(),{Data:r}=ge({fr:{update_information:"Mettre à jour les informations"}}),{register:a,watch:l,getValues:o,formState:d}=Fn({defaultValues:n}),f=Object.keys(d.dirtyFields).reduce((v,x)=>({...v,[x]:o(x)}),{}),y=Pt({mutationKey:["admin-update"],mutationFn:async()=>he.patch("admin/",f),onSuccess:v=>{s.invalidateQueries({queryKey:["admin-update"]}),Ce.success(`${r.updated} ✔️`),e.setUser({...e.User,...v})},onError:v=>Ce.error(v.message)});return S.jsx("div",{style:{height:"100%",width:"22vw"},children:S.jsxs("div",{className:"flex",style:{marginTop:"0.5rem",flexDirection:"column",alignItems:"stretch",gap:"0.7rem"},children:[S.jsxs("h3",{children:[(b=r.information)==null?void 0:b.toUpperCase()," 📄"]}),S.jsx(Se,{title:r.name,value:l("fullname")}),S.jsx(Se,{title:r.email,value:l("email")}),S.jsx(Se,{title:r.loged_at,value:new Date(n.login_at).toLocaleString()}),S.jsx(Se,{title:r.access_level,value:Object.keys(i.access_levels).find(v=>i.access_levels[v]===n.level)}),S.jsxs("h3",{children:[(w=r.form)==null?void 0:w.toUpperCase()," 📝"]}),S.jsxs("form",{onSubmit:v=>v.preventDefault(),className:"flex",style:{gap:"0.7rem",flexDirection:"column",alignItems:"stretch"},children:[S.jsx("input",{className:"input",placeholder:r.name,...a("fullname")}),S.jsx("input",{className:"input",placeholder:r.email,...a("email")}),S.jsx("input",{className:"input",placeholder:r.password,...a("password")}),S.jsx(vo,{defaultValue:o("profile"),...a("profile"),folder:t.folder.ADMIN_PROFILE}),y.isLoading?S.jsx(Ne,{}):S.jsx(Bm,{textButton:S.jsxs(S.Fragment,{children:[S.jsx("i",{className:"fas fa-pen",style:{paddingRight:"0.5rem"}}),r.update_information]}),PropsButton:{style:{backgroundColor:"var(--greenColor)"}},textPopUp:"Do You Want To Update Your Information ?",buttons:[{label:"Yes, I Do",onClick:()=>y.mutate()},{label:"No, I Don't",style:{backgroundColor:"var(--redColor)"},onClick:()=>null}]})]})]})})}function rf(){var i;const[t,e]=Ze(),{Data:n}=ge({fr:{user_profile:"Profil de l'utilisateur"}});return S.jsxs(S.Fragment,{children:[S.jsx(go,{show:t,title:S.jsxs("div",{className:"flex",style:{justifyContent:"space-between"},children:[S.jsxs("h3",{children:[(i=n.user_profile)==null?void 0:i.toUpperCase()," 👤"]}),S.jsx(Li,{onClick:e})]}),children:S.jsx(cy,{})}),S.jsxs("p",{className:"button_function",onClick:e,children:[S.jsx("i",{className:"fas fa-user",style:{marginRight:"0.5rem"}})," ",n.profile]})]})}function uy(){const t=Wr(),{Data:e}=ge({fr:{illness_does_not_interest_those_who_want_to_die:"La maladie n'intéresse pas ceux qui veulent mourir",filter_options_by_name_and_description:"Filtrer les options par nom et description"}}),[n,i]=oe.useState(""),{SuperUser:s,AdminGasc:r,AdminStaticsViewer:a}=xn(),l=[{levels:[s],link:"admin",icon:"fa-solid fa-user-tie",title:"Admin",detail:"To the sick, honey is bitter."},{levels:[s,r,a],link:"level-browser",icon:"fa-solid fa-sitemap",title:"Hierarchy",detail:"To the sick, honey is bitter."},{levels:[s,r],link:"cs",icon:"fas fa-home",title:"CDS",detail:"To the sick, honey is bitter."},{levels:[r],link:"gasc",icon:"fas fa-users",title:"GASC",detail:"To the sick, honey is bitter."},{levels:[r],link:"agent",icon:"fas fa-user",title:"Agent",detail:"To the sick, honey is bitter."},{levels:[r],link:"caneva",icon:"fas fa-book",title:"Caneva",detail:"To the sick, honey is bitter."},{levels:[s,r,a],link:"document",icon:"fa-solid fa-folder-open",title:"Document ( PDF, DOCX, ... )",detail:"To the sick, honey is bitte."},{levels:[],link:"backup",icon:"fas fa-book",title:"BackUp Raw Data",detail:"To the sick, honey is bitter."},{levels:[s,r],link:"map",icon:"fas fa-map",title:"Map",detail:"To the sick, honey is bitter."},{levels:[],link:"registers",icon:"fas fa-book",title:"Register",detail:"To the sick, honey is bitte."},{levels:[s,r,a],link:"faq",icon:"fa-solid fa-question",title:"FAQ",detail:"To the sick, honey is bitte."},{levels:[],link:"statistics",icon:"fa-solid fa-chart-simple",title:"Statistic",detail:"To the sick, honey is bitte."}];return S.jsxs("section",{id:"home",className:"max-height",children:[S.jsx("div",{className:"fixe",style:{bottom:"1rem",right:"1rem"},children:S.jsx(qe,{children:S.jsx(jl,{})})}),S.jsxs("div",{id:"home-view-user",className:"flex",children:[S.jsxs("div",{className:"flex",children:[S.jsx(_t,{style:{borderRadius:"50%",height:"7rem",width:"7rem",marginRight:"1rem"},src:t.profile}),S.jsxs("div",{children:[S.jsx("h1",{children:t.fullname}),S.jsx("h4",{children:t.email}),S.jsx("h5",{style:{color:"var(--greenColor)"},children:t.level_name})]})]}),S.jsxs("div",{children:[S.jsxs("h2",{children:[e.illness_does_not_interest_those_who_want_to_die,"."]}),S.jsxs("h4",{children:[e.home_big_sentence,"."]}),S.jsxs("div",{className:"flex",style:{justifyContent:"flex-start",marginTop:"1rem",gap:"1rem"},children:[S.jsx(qe,{children:S.jsx(Hm,{})}),S.jsx(qe,{children:S.jsx(sf,{})}),S.jsx(qe,{children:S.jsx(Tu,{})}),S.jsx(qe,{children:S.jsx(ku,{})}),S.jsx(qe,{children:S.jsx(rf,{})})]})]})]}),S.jsxs("div",{id:"home-display-page",children:[S.jsx("div",{id:"home-display-page-search",className:"flex",children:S.jsx("input",{type:"search",className:"input",value:n,onChange:({target:o})=>i(o.value),placeholder:`${e.filter_options_by_name_and_description}  🔎`})}),S.jsx("div",{id:"home-display-page-links",className:"flex",children:l.filter(o=>Object.values(o).reduce((d,f)=>d+f,"").includes(n)).map(o=>S.jsx($e,{levels:o.levels,children:S.jsx(qr,{to:o.link,children:S.jsx(L1,{...o})},o.title)},o.link))})]})]})}function fy(){var o;const{email:t}=Wr(),[e,n]=Ze(),[i,s]=oe.useState({}),[r,a]=Ze(),{Data:l}=ge({fr:{overall_state_of_gasc:"Etat global des gasc",select_a_gasc_to_continue:"Sélectionnez un gasc pour continuer"}});return S.jsxs(S.Fragment,{children:[S.jsx(jt,{show:e,closer:n,children:S.jsx(qe,{children:S.jsx(wo,{})}),title:S.jsx("p",{className:"uppercase",children:l.create})}),S.jsx(jt,{show:r,closer:a,modal_style:{minHeight:"80vh",minWidth:"80vw"},title:S.jsx("p",{className:"uppercase",children:l.overall_state_of_gasc}),children:S.jsx(qe,{children:S.jsx(Cu,{getData:async()=>he.get("/group/statement",{params:{cs__admin__email:t}}),dataKey:["gasc-global-statement"],ExternalChart:({ENTITIES_DATA:d})=>S.jsx(wu,{Component:xu,callback:()=>[d],ForwardProps:{datasetIdKey:"DATAKEY_104",height:"100%"},queryKey:[`statement-gasc-${Math.random()}`]})})})}),S.jsxs("div",{className:"flex",style:{justifyContent:"space-between",padding:"1rem",borderBottom:"0.1rem solid var(--secondaryColor)"},children:[S.jsx("h3",{className:"uppercase",children:l.dashboard}),S.jsxs("div",{className:"flex",style:{gap:"1rem"},children:[S.jsx(bt,{style:{width:"fit-content"},onClick:a,iconClass:"fas fa-book",buttonText:(o=l.overall_state_of_gasc)==null?void 0:o.toUpperCase()}),S.jsx(bt,{style:{width:"fit-content"},onClick:n,iconClass:"fas fa-book",buttonText:`${l.add} GASC`.toUpperCase()})]})]}),S.jsx(Eo,{style:{gap:0},ComponentLeft:c1,ComponentLeftProps:{onSelect:s},ComponentRight:i.id?Co:Bn,ComponentRightProps:{message:`${l.select_a_gasc_to_continue} 🤗`,GroupId:i.id}})]})}var Ki;function dy(){var c,u,h;const t=_n(),[e,n]=le.useState(),{DEFAULT_PROFILE_IMAGE:i}=Ft(),[s,r]=Ze(),[a,l]=Ze(),{Data:o,GetTextLanguage:d}=ge({fr:{create_an_agent:"Créer un agent",non_active_agent:"Agent non actif"}}),f=Fl(),{isFetching:y,data:b,refetch:w}=je({enabled:!1,initialData:[],queryKey:["agent",`agent-search-${t}`],queryFn:async()=>f({fullname__icontains:t})});le.useEffect(()=>(Ki&&clearTimeout(Ki),Ki=setTimeout(w,1e3),()=>clearTimeout(Ki)),[t]);const v=b.find(p=>p.id===(e==null?void 0:e.id))||{},x={agent:b.length,actif_agent:b.filter(p=>p.actif).length,no_actif_agent:b.filter(p=>!p.actif).length};return S.jsxs("div",{className:"flex",style:{alignItems:"flex-start",overflowY:"hidden",height:"100%"},children:[S.jsx(jt,{title:(c=o.view_more_informations)==null?void 0:c.toUpperCase(),closer:l,show:a,style:{paddingTop:"0rem"},children:S.jsx(Vs,{AgentId:e==null?void 0:e.id}),modal_style:{width:"90vw",height:"90vh"}}),S.jsx(jt,{title:(u=o.create_an_agent)==null?void 0:u.toUpperCase(),closer:r,show:s,style:{paddingTop:"0rem"},children:S.jsx(gu,{showHeader:!1}),modal_style:{width:"50vw",height:"80vh"}}),S.jsxs("div",{className:"scroll",style:{backgroundColor:"var(--primaryColor)",height:"100%",width:"20%",padding:"0.5rem"},children:[S.jsxs("button",{className:"button uppercase",onClick:r,style:{backgroundColor:"var(--greenColor)"},children:[S.jsx("i",{className:"fas fa-plus",style:{paddingRight:"0.5rem"}}),o.create_an_agent]}),S.jsx("div",{className:"flex",style:{gap:"0.5rem",alignItems:"stretch",marginTop:"1rem",flexDirection:"column",justifyContent:"flex-start"},children:Object.keys(x).map(p=>S.jsx(Se,{style:{padding:"0.5rem"},title:p.toUpperCase().replaceAll("_"," "),value:S.jsx("h2",{className:"number-ship",children:x[p]})},p))})]}),S.jsx("div",{className:"scroll",style:{height:"100%",width:"60%",padding:"0.5rem"},children:S.jsx(In,{isLoading:y,onSelect:(p,m)=>n(m),data:b.map(p=>({id:p.id,[o.username]:p.username,[o.fullname]:p.fullname,[o.email]:p.email,[o.phone]:p.phone,[o.address]:p.address}))})}),S.jsxs("div",{className:"scroll",style:{borderTop:"0.3rem solid var(--greenColor)",backgroundColor:"var(--primaryColor)",maxHeight:"100%",width:"20%"},children:[S.jsx("div",{className:"flex",style:{paddingTop:"2rem "},children:S.jsx(_t,{src:(v==null?void 0:v.profile)||i,style:{width:"15rem",height:"15rem",borderRadius:"50%"}})}),S.jsxs("div",{style:{margin:"1.5rem 0rem",padding:"0.5rem"},children:[v.id&&!v.actif&&S.jsxs(S.Fragment,{children:[S.jsx(vt,{text:(h=o.non_active_agent)==null?void 0:h.toUpperCase(),type:"danger"}),S.jsx("br",{})]}),S.jsx("button",{className:"button uppercase",disabled:!v.id,onClick:l,style:{backgroundColor:"var(--greenColor)"},children:o.view_more_informations})]}),S.jsx("div",{style:{padding:"0.5rem"},children:[{label:o.username,key:"username"},{label:o.fullname,key:"fullname"},{label:o.email,key:"email"},{label:o.phone,key:"phone"},{label:o.address,key:"address"}].map(p=>{var m;return S.jsxs("div",{className:"flex",style:{marginBottom:"0.5rem",justifyContent:"space-between"},children:[S.jsx("h3",{children:(m=p.label)==null?void 0:m.toUpperCase()}),S.jsx("h3",{style:{color:"var(--greenColor)"},children:v[p.key]})]})})}),S.jsxs("div",{className:"flex",style:{gap:"0.5rem",height:"100%",paddingTop:"0.5rem",paddingRight:"0.5rem",flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start",backgroundColor:"var(--bg)"},children:[S.jsx(Se,{style:{width:"100%",justifyContent:"flex-start"},title:S.jsx("i",{className:"fas fa-clock"}),value:`${o.loged_at} ${v.login_time?new Date(v.login_time).toLocaleString():"---------"}`}),S.jsx(Se,{style:{width:"100%",justifyContent:"flex-start"},title:S.jsx("i",{className:"fas fa-clock"}),value:`${o.logout_at} ${v.logout_time?new Date(v.logout_time).toLocaleString():"---------"}`})]})]})]})}var Xi;function hy({Title:t="",Component:e,PropsComponent:n,Keys:i,Key:s,APIFunction:r,onSelect:a,useFilter:l=()=>null}){const o=l(),{isFetching:d,data:f,refetch:y}=je({queryKey:i,queryFn:async()=>r(o)});return oe.useEffect(()=>(Xi&&clearTimeout(Xi),Xi=setTimeout(y,2e3),()=>clearTimeout(Xi)),[o]),S.jsxs("div",{className:"list flex",children:[S.jsxs("div",{className:"list-header flex",style:{justifyContent:"space-between"},children:[S.jsx("h3",{className:"uppercase",children:t}),S.jsx("h3",{children:o})]}),d&&S.jsx("div",{className:"flex",style:{padding:"0.5rem"},children:S.jsx(po,{color:"#36d7b7"})}),S.jsx("div",{className:"list-body scroll flex",children:f==null?void 0:f.map(b=>S.jsx(e,{...b,onClick:a,...n},b[s]))}),S.jsx("div",{className:"list-footer"})]})}function py({id:t,email:e,fullname:n,profile:i,onClick:s=()=>null}){return S.jsxs("div",{className:"admin-user-overview flex",onClick:r=>{r.stopPropagation(),s(t)},children:[S.jsx(_t,{src:i,style:{height:"3rem",width:"3rem",borderRadius:"50%"}}),S.jsxs("div",{children:[S.jsx("h4",{className:"admin-user-overview-name",children:n}),S.jsx("p",{className:"admin-user-overview-email",children:e})]})]})}function gy({onSelect:t}){const{Data:e}=ge({});return S.jsx(hy,{useFilter:_n,onSelect:t,Title:`${e.administrator} (s)`,Component:py,Key:"id",Keys:["admins"],APIFunction:async n=>await he.get("admin/",{params:{fullname__icontains:n}})})}function my(){const t=As(),{Data:e}=ge(),n=xn(),i=Xt(["admins"]),{register:s,handleSubmit:r,reset:a,watch:l}=Fn(),o=Pt({mutationFn:async d=>he.post("admin/",d),onError:()=>Ce.error(e.error_operation),onSuccess:()=>{Ce.success(e.created),i(),a()}});return S.jsxs("div",{className:"admin-user-detail flex scroll",children:[S.jsxs("div",{style:{padding:"0.5rem",width:"30vw"},children:[S.jsx("h3",{className:"admin-user-detail-title uppercase",children:e.form}),S.jsxs("form",{className:"flex",onSubmit:r(o.mutate),children:[S.jsx("input",{className:"input",required:!0,placeholder:e.fullname,...s("fullname")}),S.jsx("input",{className:"input",required:!0,placeholder:e.email,...s("email")}),S.jsx("input",{className:"input",type:"password",required:!0,placeholder:e.password,...s("password")}),S.jsx(Ai,{name:"level",placeholder:e.access_level,onFilter:n.FilterAccess,...s("level")}),S.jsx(vo,{...s("profile"),folder:t.folder.ADMIN_PROFILE}),o.isLoading?S.jsx(Ne,{}):S.jsx(bt,{buttonText:e.save,iconClass:"fa-solid fa-floppy-disk",disabled:o.isLoading})]})]}),S.jsxs("div",{style:{padding:"0.5rem",width:"30vw"},children:[S.jsxs("h3",{className:"admin-user-detail-title uppercase",children:[e.information," (s)"]}),S.jsxs("div",{style:{gap:"0.5rem",flexDirection:"column",alignItems:"stretch",marginBottom:"1rem"},className:"flex",children:[S.jsx(Se,{title:e.fullname,type:"",value:l("fullname")}),S.jsx(Se,{title:e.email,type:"",value:l("email")}),S.jsx(Se,{title:e.password,type:"",value:l("password")}),S.jsx(Se,{title:e.access_level,type:"",value:l("level")}),S.jsx(Se,{title:e.profile_picture,value:S.jsx(_t,{src:l("profile"),style:{width:"1.5rem",height:"1.5rem",borderRadius:"50%"}})})]})]})]})}function yy(){const[t,e]=oe.useState();return S.jsx(Eo,{ComponentLeft:gy,ComponentLeftProps:{onSelect:e},ComponentRight:my,ComponentRightProps:{AdminId:t}})}function by({children:t,state:e,message:n}){return S.jsxs("div",{className:`input-state-wrapper ${e?"ok":"error"}`,children:[S.jsx("p",{style:{color:`${!e&&"var(--redErrorColor)"}`,padding:"0.5rem"},children:n}),t]})}function vy({onSubmit:t}){var p,m;const{register:e,subscribe:n,handleSubmit:i,setValue:s,getValues:r,setError:a,watch:l,formState:{errors:o}}=Bl({defaultValues:{}}),{Data:d}=ge(),f=Vr(),y=Dl(),b=Ur(),w=Fl(),[v,x,c,u]=ic({queries:[{initialData:[],queryKey:["register-list"],queryFn:async()=>he.get("/caneva/register/")},{enabled:!1,initialData:[],queryKey:["admin-cds"],queryFn:async()=>y({ar:l("ar")})},{enabled:!1,initialData:[],queryKey:["admin-gasc"],queryFn:async()=>b({cs_id:l("cds_id")})},{enabled:!1,initialData:[],queryKey:["group-agent-group_id"],queryFn:async()=>w({group_id:l("group_id")})}]});le.useEffect(()=>{const g=[n(["ar"],()=>x.refetch()),n(["cds_id"],()=>c.refetch()),n(["group_id"],()=>u.refetch())];return()=>g.forEach(_=>_.unsubscribe())},[]);const h=async g=>mo(Zm,g).then(_=>t(r(),{agent:u.data.find(C=>C.id==r("agent_id")),group:c.data.find(C=>C.id==r("group_id")),cds:x.data.find(C=>C.id==r("cds_id")),area_respo:f.data.find(C=>C.code==r("ar"))})).catch(_=>_.forEach(C=>a(C.field,{type:"custom",message:C.msg})));return S.jsxs("form",{className:"flex",style:{flexDirection:"column",rowGap:"1rem"},onChange:({target:{name:g,value:_}})=>s(g,_),onSubmit:i(h),children:[S.jsxs(vn,{children:[S.jsx(nt,{title:d.year,error:o.year,...e("year"),options:[2023,2024,2025].map(g=>({label:g}))}),S.jsx(nt,{title:d.month,error:o.month,...e("month"),options:(p=d.month_list)==null?void 0:p.map((g,_)=>({label:g,value:_+1}))})]}),S.jsx(nt,{title:d.register,error:o.register,...e("register"),isLoading:v.isFetching,options:v.data.map(g=>({label:g}))}),S.jsx(by,{state:!o.ar,message:(m=o.ar)==null?void 0:m.message,children:S.jsx(lu,{...e("ar")})}),S.jsx(nt,{title:"CDS",...e("cds_id"),isLoading:x.isFetching,options:x.data.map(g=>({label:g.name,value:g.id}))}),S.jsxs(vn,{children:[S.jsx(nt,{title:"GASC",...e("group_id"),isLoading:c.isFetching,options:c.data.map(g=>({label:g.name,value:g.id}))}),S.jsx(nt,{title:"AGENT",...e("agent_id"),isLoading:u.isFetching,options:u.data.map(g=>({label:g.fullname,value:g.id}))})]}),S.jsx(bt,{buttonText:d.search,iconClass:"fas fa-search"})]})}const wl={},lr={};function _y(){var l,o,d,f;const{Data:t}=ge({fr:{cannot_display_the_canvas_at_the_moment:"Impossible d'afficher le caneva pour le moment"}}),{isFetching:e,data:{data:n,params:i},refetch:s}=je({enabled:!1,queryKey:["caneva-get"],initialData:{data:[],params:{}},queryFn:async()=>{const{register:y,...b}=lr;return he.get(`caneva/${y}/`,{params:b}).then(w=>({data:w,params:{...lr,...wl}}))}}),[r,a]=Ze(!Object.keys(i).length);return S.jsxs(S.Fragment,{children:[S.jsx(jt,{show:r,closer:a,title:S.jsxs("h3",{className:"uppercase",children:[S.jsx("i",{className:"fas fa-filter",style:{marginRight:"0.5rem"}}),t.filter]}),children:S.jsx(vy,{onSubmit:(y,b)=>{Object.keys(y).forEach(w=>lr[w]=y[w]),Object.keys(b).forEach(w=>wl[w]=b[w]),a(),s()}})}),S.jsxs("div",{style:{borderBottom:"0.1rem solid var(--secondaryColor)",padding:"1rem"},children:[S.jsxs("h1",{className:"uppercase",style:{marginBottom:"1rem"},children:[t.dashboard," ( CVS )"]}),S.jsxs("div",{className:"flex",style:{justifyContent:"space-between"},children:[S.jsxs("div",{className:"flex uppercase",style:{gap:"1rem"},children:[S.jsx(Se,{title:t.data_size,value:S.jsx("h2",{className:"number-ship",children:n.length})}),S.jsx(Se,{title:t.year,value:S.jsx("h2",{className:"number-ship",children:i.year||"-"})}),S.jsx(Se,{title:t.month,value:S.jsx("h2",{className:"number-ship",children:i.month||"-"})}),S.jsx(Se,{title:t.register,value:S.jsx("h2",{className:"number-ship",children:i.register||"-"})}),S.jsx(Se,{title:t.air_of_responsibility,value:S.jsx("h2",{className:"number-ship",children:((l=i.area_respo)==null?void 0:l.displayName)||"-"})}),S.jsx(Se,{title:"CDS",value:S.jsx("h2",{className:"number-ship",children:((o=i==null?void 0:i.cds)==null?void 0:o.name)||"-"})}),S.jsx(Se,{title:"GASC",value:S.jsx("h2",{className:"number-ship",children:((d=i==null?void 0:i.group)==null?void 0:d.name)||"-"})}),S.jsx(Se,{title:"AGENT",value:S.jsx("h2",{className:"number-ship",children:((f=i==null?void 0:i.agent)==null?void 0:f.fullname)||"-"})})]}),S.jsxs("div",{className:"flex",style:{gap:"1rem"},children:[S.jsx(dn,{className:"fas fa-filter",parentStyle:{backgroundColor:"var(--greenColor)"},onClick:a}),S.jsx(cu,{data:n,params:i})]})]})]}),e&&S.jsx("div",{style:{padding:"0.5rem"},children:S.jsx(Ne,{})}),S.jsx(qe,{style:{height:"100%"},default_message:t.cannot_display_the_canvas_at_the_moment,children:S.jsx(pu,{data:n})})]})}function xy(){const t=_n(),{Data:e}=ge({fr:{all_files:"Tous les fichiers"}}),{data:n,isFetching:i}=je({initialData:[],queryKey:["storage-file"],queryFn:async()=>he.get("/storage")}),s={};return n.filter(r=>`${r.url} - ${r.updated_at}`.toLowerCase().includes(t.toLowerCase())).forEach(r=>{const a=r.updated_at.split(" ")[0];a in s?s[a].push(r):s[a]=[r]}),S.jsxs("div",{className:"flex",style:{flexDirection:"column",alignItems:"stretch",height:"100%",overflow:"hidden"},children:[S.jsxs("div",{className:"flex",style:{justifyContent:"space-between",borderBottom:"0.1rem solid var(--primaryColor)",padding:"1rem"},children:[S.jsx("h3",{children:e.all_files}),i&&S.jsx(Ne,{}),S.jsxs("h3",{children:[e.file," (s) ",S.jsx("span",{className:"number-ship",children:n.length})]})]}),S.jsx("div",{className:"scroll",style:{padding:"1rem",height:"100%"},children:Object.keys(s).map(r=>S.jsxs("div",{children:[S.jsxs("div",{className:"flex",style:{justifyContent:"flex-start",gap:"1rem"},children:[S.jsx("i",{className:"fas fa-clock"}),S.jsx("h3",{children:r})]}),S.jsx("div",{className:"flex",style:{justifyContent:"flex-start",flexWrap:"wrap",gap:"1rem",padding:"1rem 0rem"},children:s[r].map(a=>S.jsx(Am,{filename:a.url,size:a.size,created_at:a.updated_at},a.url))})]},r))})]})}function wy(){const t=$r(),e=Ft(s=>s.User),[n,i]=oe.useState("");return S.jsxs("section",{id:"pagelayout",className:"flex",children:[S.jsxs("div",{className:"pagelayout-bar-infos flex",children:[S.jsx("i",{className:"fas fa-arrow-left back-button",onClick:s=>{s.stopPropagation(),t("/dashboard")}}),S.jsx(zm,{onChange:({target:s})=>i(s.value)}),S.jsxs("div",{className:"pagelayout-bar-infos-user flex",children:[S.jsx(qe,{children:S.jsx(sf,{})}),S.jsx(qe,{children:S.jsx(ku,{})}),S.jsx(qe,{children:S.jsx(rf,{})}),S.jsx(_t,{style:{height:"2.7rem",width:"2.7rem",borderRadius:"50%"},src:e.profile})]})]}),S.jsx(qe,{children:S.jsx(Pf,{context:{searchValue:n}})}),S.jsxs("div",{className:"pagelayout-footer-bar flex",children:[S.jsxs("div",{className:"flex",style:{gap:"1rem"},children:[S.jsx(qe,{children:S.jsx(jl,{})}),S.jsx(qe,{children:S.jsx(Tu,{})})]}),S.jsxs("p",{className:"pagelayout-footer-bar-link",children:["Powered By ",S.jsx("a",{target:"_blank",href:"https://donexa.org",children:"Donexa"})]})]})]})}function Cy({ar_id:t}){return S.jsx(t1,{viewDetail:!0,queryKey:[`ar-cds-${t}`],queryFn:()=>he.get("cs/",{params:{ar:t}})})}function Sy({ar_id:t}){return S.jsx(yu,{viewDetail:!0,queryKey:[`ar-group-${t}`],queryFn:()=>he.get("group/",{params:{cs__ar:t}})})}function Ey({ar_id:t}){return S.jsx(xo,{viewDetail:!0,queryKey:[`ar-agent-${t}`],queryFn:()=>he.get("agent/",{params:{group__cs__ar:t}})})}function of({ARID:t}){return S.jsxs("div",{className:"flex",style:{flexDirection:"column",alignItems:"stretch",justifyContent:"flex-start",height:"100%",overflow:"hidden"},children:[S.jsx("div",{className:"flex",style:{gap:"1rem",paddingBottom:"0.5rem",marginBottom:"0.5rem",borderBottom:"0.1rem solid var(--secondaryColor)"},children:[{link:"cds",label:"CDS (s)",icon:"fas fa-home"},{link:"gasc",label:"GASC (s)",icon:"fas fa-book"},{link:"agent",label:"AGENT (s)",icon:"fas fa-users"},{link:"caneva",label:"CANEVA",icon:"fas fa-users"}].map(({link:e,label:n,icon:i})=>S.jsx(bo,{to:e,children:S.jsxs("div",{className:"link-icon flex",style:{gap:"0.5rem",flexWrap:"nowrap"},children:[S.jsx("i",{className:i}),S.jsx("p",{children:n})]})}))}),S.jsxs(wn,{children:[S.jsx(ye,{index:!0,path:"cds/*",element:S.jsx(Cy,{ar_id:t})}),S.jsx(ye,{path:"gasc/*",element:S.jsx(Sy,{ar_id:t})}),S.jsx(ye,{path:"agent/*",element:S.jsx(Ey,{ar_id:t})}),S.jsx(ye,{path:"caneva/*",element:S.jsx(Hs,{api_params:{ar:t}})})]})]})}const ky={6:{fun:async t=>he.get("cs/",{params:{ar:t}}).then(e=>e.map(({id:n,name:i})=>({code:n,name:i}))),Component:({parent_id:t})=>S.jsx(of,{ARID:t})},7:{fun:async t=>he.get("group/",{params:{cs_id:t}}).then(e=>e.map(({id:n,name:i})=>({code:n,name:i}))),Component:({parent_id:t})=>S.jsx(So,{CSId:t})},8:{fun:async t=>he.get("agent/",{params:{group_id:t}}).then(e=>e.map(({id:n,fullname:i})=>({code:n,name:i}))),Component:({parent_id:t})=>S.jsx(Co,{GroupId:t})},9:{fun:async()=>[],Component:({parent_id:t})=>S.jsx(Vs,{AgentId:t})}};function af({init_level:t,parent_id:e,label:n,tree:i}){const s=ky[t],{Data:r}=ge({fr:{visualization_is_not_supported_at_this_level:"La visualisation n'est pas prise en charge à ce niveau"}}),[a,l]=Ze(),[o,d]=Ze(),{data:f,refetch:y,isFetching:b}=je({enabled:!1,initialData:[],queryKey:[`dhs2-level-${t}-${e}`],queryFn:s?async()=>s.fun(e):async()=>he.get(`dhs2/${e}/`)}),w=v=>{v.stopPropagation(),d(),o||y()};return S.jsxs("div",{className:"level_view anim_view_scale flex",children:[S.jsx(qe,{children:S.jsx(pm,{modal_style:{height:"95vh",width:"95vw"},title:S.jsx("p",{className:"uppercase",children:`${r.view_more_informations}  /  ${i}  >  ${n}`}),show:a,closer:l,children:s?S.jsx(s.Component,{parent_id:e}):S.jsx("div",{className:"flex",style:{height:"100%",width:"100%"},children:S.jsx(vt,{text:r.visualization_is_not_supported_at_this_level,type:"danger"})})})}),S.jsxs("div",{className:"flex level_view_body cursor",children:[S.jsx("p",{onClick:w,style:{width:"100%"},children:n}),S.jsxs("div",{className:"flex level_view_body_options",children:[S.jsx("i",{class:"fa-solid fa-folder level_view_body_option_view_detail",onClick:l}),b&&S.jsx(Ne,{})]})]}),f.length&&!b&&o?S.jsx("div",{className:"level_view_connector",children:S.jsx("i",{class:"fa-solid fa-arrows-left-right"})}):S.jsx(S.Fragment,{}),S.jsx("div",{className:"flex level_view_childreen",children:o&&f.map(v=>S.jsx(af,{label:v.name,tree:`${i} > ${n}`,parent_id:v.code,init_level:t+1},v.code))})]})}function Ty(){const{data:e,isFetching:n}=je({initialData:[],queryKey:["dhs2-level-1"],queryFn:async()=>he.get("dhs2/",{params:{level:1}})});return e.map(i=>S.jsx(af,{label:i.name,parent_id:i.code,tree:"",init_level:1+1},i.name))}const lf=t=>({6:{fun:async e=>he.get("cs/",{params:{ar:e}}).then(n=>n.map(({id:i,name:s})=>({code:i,name:s}))),Component:({parent_id:e})=>S.jsx(of,{ARID:e})},7:{fun:async e=>he.get("group/",{params:{cs_id:e}}).then(n=>n.map(({id:i,name:s})=>({code:i,name:s}))),Component:({parent_id:e})=>S.jsx(So,{CSId:e})},8:{fun:async e=>he.get("agent/",{params:{group_id:e}}).then(n=>n.map(({id:i,fullname:s})=>({code:i,name:s}))),Component:({parent_id:e})=>S.jsx(Co,{GroupId:e})},9:{fun:async()=>[],Component:({parent_id:e})=>S.jsx(Vs,{AgentId:e})}})[t];function Fr(t,e){return Fr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},Fr(t,e)}function rt(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Fr(t,e)}function ze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xi(t){"@babel/helpers - typeof";return xi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xi(t)}function Ly(t,e){if(xi(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(xi(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ay(t){var e=Ly(t,"string");return xi(e)==="symbol"?e:String(e)}function Cs(t,e,n){return e=Ay(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dt(t,e){if(t==null)return{};var n={},i=Object.keys(t),s,r;for(r=0;r<i.length;r++)s=i[r],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var cf={exports:{}},My="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Ny=My,Oy=Ny;function uf(){}function ff(){}ff.resetWarningCache=uf;var Ry=function(){function t(i,s,r,a,l,o){if(o!==Oy){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:ff,resetWarningCache:uf};return n.PropTypes=n,n};cf.exports=Ry();var Dy=cf.exports;const $n=Jt(Dy);function be(){return be=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},be.apply(this,arguments)}var df=void 0,Ss=void 0,hf=[],No=function(e){return typeof window<"u"&&window.requestAnimationFrame(e)},Br=void 0,pf=function(){return Date.now()},gf=void 0,Py=function(e,n){return Ss={fn:e,transform:n}},jy=function(e){return hf=e},Fy=function(e){return df=e},By=function(e){return Br=e},Iy=function(e){return gf=e},Rt=function(){function t(){}var e=t.prototype;return e.attach=function(){},e.detach=function(){},e.getValue=function(){},e.getAnimatedValue=function(){return this.getValue()},e.addChild=function(i){},e.removeChild=function(i){},e.getChildren=function(){return[]},t}(),Cl=function(e){return Object.keys(e).map(function(n){return e[n]})},Oo=function(t){rt(e,t);function e(){for(var i,s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return i=t.call.apply(t,[this].concat(r))||this,i.children=[],i.getChildren=function(){return i.children},i.getPayload=function(l){return l===void 0&&(l=void 0),l!==void 0&&i.payload?i.payload[l]:i.payload||ze(ze(i))},i}var n=e.prototype;return n.addChild=function(s){this.children.length===0&&this.attach(),this.children.push(s)},n.removeChild=function(s){var r=this.children.indexOf(s);this.children.splice(r,1),this.children.length===0&&this.detach()},e}(Rt),Ir=function(t){rt(e,t);function e(){for(var n,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return n=t.call.apply(t,[this].concat(s))||this,n.payload=[],n.getAnimatedValue=function(){return n.getValue()},n.attach=function(){return n.payload.forEach(function(a){return a instanceof Rt&&a.addChild(ze(ze(n)))})},n.detach=function(){return n.payload.forEach(function(a){return a instanceof Rt&&a.removeChild(ze(ze(n)))})},n}return e}(Oo),mf=function(t){rt(e,t);function e(){for(var i,s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return i=t.call.apply(t,[this].concat(r))||this,i.payload={},i.getAnimatedValue=function(){return i.getValue(!0)},i.attach=function(){return Cl(i.payload).forEach(function(l){return l instanceof Rt&&l.addChild(ze(ze(i)))})},i.detach=function(){return Cl(i.payload).forEach(function(l){return l instanceof Rt&&l.removeChild(ze(ze(i)))})},i}var n=e.prototype;return n.getValue=function(s){s===void 0&&(s=!1);var r={};for(var a in this.payload){var l=this.payload[a];s&&!(l instanceof Rt)||(r[a]=l instanceof Rt?l[s?"getAnimatedValue":"getValue"]():l)}return r},e}(Oo),zy=function(t){rt(e,t);function e(n){var i;return i=t.call(this)||this,n=n||{},n.transform&&!(n.transform instanceof Rt)&&(n=Ss.transform(n)),i.payload=n,i}return e}(mf),Es={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},zr=function(){function t(){}return t.create=function(n,i,s){if(typeof n=="function")return n;if(Br&&n.output&&typeof n.output[0]=="string")return Br(n);if(Array.isArray(n))return t.create({range:n,output:i,extrapolate:s||"extend"});var r=n.output,a=n.range||[0,1],l=n.easing||function(y){return y},o="extend",d=n.map;n.extrapolateLeft!==void 0?o=n.extrapolateLeft:n.extrapolate!==void 0&&(o=n.extrapolate);var f="extend";return n.extrapolateRight!==void 0?f=n.extrapolateRight:n.extrapolate!==void 0&&(f=n.extrapolate),function(y){var b=Vy(y,a);return Hy(y,a[b],a[b+1],r[b],r[b+1],l,o,f,d)}},t}();function Hy(t,e,n,i,s,r,a,l,o){var d=o?o(t):t;if(d<e){if(a==="identity")return d;a==="clamp"&&(d=e)}if(d>n){if(l==="identity")return d;l==="clamp"&&(d=n)}return i===s?i:e===n?t<=e?i:s:(e===-1/0?d=-d:n===1/0?d=d-e:d=(d-e)/(n-e),d=r(d),i===-1/0?d=-d:s===1/0?d=d+i:d=d*(s-i)+i,d)}function Vy(t,e){for(var n=1;n<e.length-1&&!(e[n]>=t);++n);return n-1}var gt="[-+]?\\d*\\.?\\d+",ks=gt+"%";function qs(){return"\\(\\s*("+Array.prototype.slice.call(arguments).join(")\\s*,\\s*(")+")\\s*\\)"}var Uy=new RegExp("rgb"+qs(gt,gt,gt)),Wy=new RegExp("rgba"+qs(gt,gt,gt,gt)),qy=new RegExp("hsl"+qs(gt,ks,ks)),$y=new RegExp("hsla"+qs(gt,ks,ks,gt)),Zy=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Yy=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Ky=/^#([0-9a-fA-F]{6})$/,Xy=/^#([0-9a-fA-F]{8})$/;function Gy(t){var e;return typeof t=="number"?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=Ky.exec(t))?parseInt(e[1]+"ff",16)>>>0:Es.hasOwnProperty(t)?Es[t]:(e=Uy.exec(t))?(Ln(e[1])<<24|Ln(e[2])<<16|Ln(e[3])<<8|255)>>>0:(e=Wy.exec(t))?(Ln(e[1])<<24|Ln(e[2])<<16|Ln(e[3])<<8|kl(e[4]))>>>0:(e=Zy.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=Xy.exec(t))?parseInt(e[1],16)>>>0:(e=Yy.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=qy.exec(t))?(Sl(El(e[1]),Gi(e[2]),Gi(e[3]))|255)>>>0:(e=$y.exec(t))?(Sl(El(e[1]),Gi(e[2]),Gi(e[3]))|kl(e[4]))>>>0:null}function cr(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Sl(t,e,n){var i=n<.5?n*(1+e):n+e-n*e,s=2*n-i,r=cr(s,i,t+1/3),a=cr(s,i,t),l=cr(s,i,t-1/3);return Math.round(r*255)<<24|Math.round(a*255)<<16|Math.round(l*255)<<8}function Ln(t){var e=parseInt(t,10);return e<0?0:e>255?255:e}function El(t){var e=parseFloat(t);return(e%360+360)%360/360}function kl(t){var e=parseFloat(t);return e<0?0:e>1?255:Math.round(e*255)}function Gi(t){var e=parseFloat(t);return e<0?0:e>100?1:e/100}function Tl(t){var e=Gy(t);if(e===null)return t;e=e||0;var n=(e&4278190080)>>>24,i=(e&16711680)>>>16,s=(e&65280)>>>8,r=(e&255)/255;return"rgba("+n+", "+i+", "+s+", "+r+")"}var Qi=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Qy=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,Jy=new RegExp("("+Object.keys(Es).join("|")+")","g");function eb(t){var e=t.output.map(function(s){return s.replace(Qy,Tl)}).map(function(s){return s.replace(Jy,Tl)}),n=e[0].match(Qi).map(function(){return[]});e.forEach(function(s){s.match(Qi).forEach(function(r,a){return n[a].push(+r)})});var i=e[0].match(Qi).map(function(s,r){return zr.create(be({},t,{output:n[r]}))});return function(s){var r=0;return e[0].replace(Qi,function(){return i[r++](s)}).replace(/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,function(a,l,o,d,f){return"rgba("+Math.round(l)+", "+Math.round(o)+", "+Math.round(d)+", "+f+")"})}}var yf=function(t){rt(e,t);function e(n,i,s){var r;return r=t.call(this)||this,r.getValue=function(){var a;return(a=r).calc.apply(a,r.payload.map(function(l){return l.getValue()}))},r.updateConfig=function(a,l){return r.calc=zr.create(a,l)},r.interpolate=function(a,l){return new e(ze(ze(r)),a,l)},r.payload=n instanceof Ir&&!n.updateConfig?n.payload:Array.isArray(n)?n:[n],r.calc=zr.create(i,s),r}return e}(Ir);function bf(t,e){typeof t.update=="function"?e.add(t):t.getChildren().forEach(function(n){return bf(n,e)})}var Ts=function(t){rt(e,t);function e(i){var s;return s=t.call(this)||this,s.setValue=function(r,a){a===void 0&&(a=!0),s.value=r,a&&s.flush()},s.getValue=function(){return s.value},s.updateStyles=function(){return bf(ze(ze(s)),s.animatedStyles)},s.updateValue=function(r){return s.flush(s.value=r)},s.interpolate=function(r,a){return new yf(ze(ze(s)),r,a)},s.value=i,s.animatedStyles=new Set,s.done=!1,s.startPosition=i,s.lastPosition=i,s.lastVelocity=void 0,s.lastTime=void 0,s.controller=void 0,s}var n=e.prototype;return n.flush=function(){this.animatedStyles.size===0&&this.updateStyles(),this.animatedStyles.forEach(function(s){return s.update()})},n.prepare=function(s){this.controller===void 0&&(this.controller=s),this.controller===s&&(this.startPosition=this.value,this.lastPosition=this.value,this.lastVelocity=s.isActive?this.lastVelocity:void 0,this.lastTime=s.isActive?this.lastTime:void 0,this.done=!1,this.animatedStyles.clear())},e}(Oo),vf=function(t){rt(e,t);function e(n){var i;return i=t.call(this)||this,i.setValue=function(s,r){r===void 0&&(r=!0),Array.isArray(s)?s.length===i.payload.length&&s.forEach(function(a,l){return i.payload[l].setValue(a,r)}):i.payload.forEach(function(a,l){return i.payload[l].setValue(s,r)})},i.getValue=function(){return i.payload.map(function(s){return s.getValue()})},i.interpolate=function(s,r){return new yf(ze(ze(i)),s,r)},i.payload=n.map(function(s){return new Ts(s)}),i}return e}(Ir);function Bt(t,e){return t??e}function Kt(t){return t!==void 0?Array.isArray(t)?t:[t]:[]}function Pn(t,e){if(typeof t!=typeof e)return!1;if(typeof t=="string"||typeof t=="number")return t===e;var n;for(n in t)if(!(n in e))return!1;for(n in e)if(t[n]!==e[n])return!1;return n===void 0?t===e:!0}function Ct(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return typeof t=="function"?t.apply(void 0,n):t}function Ls(t){return Object.keys(t).map(function(e){return t[e]})}function tb(t){t.to,t.from,t.config,t.native,t.onStart,t.onRest,t.onFrame,t.children,t.reset,t.reverse,t.force,t.immediate,t.impl,t.inject,t.delay,t.attach,t.destroyed,t.interpolateTo,t.autoStart,t.ref;var e=dt(t,["to","from","config","native","onStart","onRest","onFrame","children","reset","reverse","force","immediate","impl","inject","delay","attach","destroyed","interpolateTo","autoStart","ref"]);return e}function $s(t){var e=tb(t),n=Object.keys(t).reduce(function(i,s){var r;return e[s]!==void 0?i:be({},i,(r={},r[s]=t[s],r))},{});return be({to:e},n)}function nb(t,e){var n,i=e[0],s=e[1];return be({},t,(n={},n[i]=new(Array.isArray(s)?vf:Ts)(s),n))}function _f(t){var e=t.from,n=t.to,i=t.native,s=Object.entries(be({},e,n));return i?s.reduce(nb,{}):be({},e,n)}function xf(t,e){return e&&(typeof e=="function"?e(t):typeof e=="object"&&(e.current=t)),t}var Ll=function(e){return e==="auto"},ib=function(e,n){return function(i,s){var r,a=s[0],l=s[1];return be({},i,(r={},r[a]=l==="auto"?~a.indexOf("height")?n:e:l,r))}};function sb(t,e){var n=t.from,i=t.to,s=t.children;if(Ls(i).some(Ll)||Ls(n).some(Ll)){var r=s(_f(t));if(r){Array.isArray(r)&&(r={type:"div",props:{children:r}});var a=r.props.style;return oe.createElement(r.type,be({key:r.key?r.key:void 0},r.props,{style:be({},a,{position:"absolute",visibility:"hidden"}),ref:function(o){if(o){var d=jf.findDOMNode(o),f,y,b=getComputedStyle(d);if(b.boxSizing==="border-box")f=d.offsetWidth,y=d.offsetHeight;else{var w=parseFloat(b.paddingLeft||0)+parseFloat(b.paddingRight||0),v=parseFloat(b.paddingTop||0)+parseFloat(b.paddingBottom||0),x=parseFloat(b.borderLeftWidth||0)+parseFloat(b.borderRightWidth||0),c=parseFloat(b.borderTopWidth||0)+parseFloat(b.borderBottomWidth||0);f=d.offsetWidth-w-x,y=d.offsetHeight-v-c}var u=ib(f,y);e(be({},t,{from:Object.entries(n).reduce(u,n),to:Object.entries(i).reduce(u,i)}))}}}))}}}var fi={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rb=function(e,n){return e+n.charAt(0).toUpperCase()+n.substring(1)},ob=["Webkit","Ms","Moz","O"];fi=Object.keys(fi).reduce(function(t,e){return ob.forEach(function(n){return t[rb(n,e)]=t[e]}),t},fi);function ab(t,e,n){return e==null||typeof e=="boolean"||e===""?"":!n&&typeof e=="number"&&e!==0&&!(fi.hasOwnProperty(t)&&fi[t])?e+"px":(""+e).trim()}var Al={};Iy(function(t){return new zy(t)});By(eb);jy(Es);Fy(sb);Py(function(t,e){if(t.nodeType&&t.setAttribute!==void 0){var n=e.style,i=e.children,s=e.scrollTop,r=e.scrollLeft,a=dt(e,["style","children","scrollTop","scrollLeft"]);s!==void 0&&(t.scrollTop=s),r!==void 0&&(t.scrollLeft=r),i!==void 0&&(t.textContent=i);for(var l in n)if(n.hasOwnProperty(l)){var o=l.indexOf("--")===0,d=ab(l,n[l],o);l==="float"&&(l="cssFloat"),o?t.style.setProperty(l,d):t.style[l]=d}for(var f in a){var y=Al[f]||(Al[f]=f.replace(/([A-Z])/g,function(b){return"-"+b.toLowerCase()}));typeof t.getAttribute(y)<"u"&&t.setAttribute(y,a[f])}}else return!1},function(t){return t});var Hr=!1,gn=new Set,lb=function t(){for(var e=pf(),s=gn,n=Array.isArray(s),i=0,s=n?s:s[Symbol.iterator]();;){var r;if(n){if(i>=s.length)break;r=s[i++]}else{if(i=s.next(),i.done)break;r=i.value}for(var a=r,l=!0,o=!0,d=0;d<a.configs.length;d++){for(var f=a.configs[d],y=void 0,b=void 0,w=0;w<f.animatedValues.length;w++){var v=f.animatedValues[w];if(!v.done){var x=f.fromValues[w],c=f.toValues[w],u=v.lastPosition,h=c instanceof Rt,p=Array.isArray(f.initialVelocity)?f.initialVelocity[w]:f.initialVelocity;if(h&&(c=c.getValue()),f.immediate||!h&&!f.decay&&x===c){v.updateValue(c),v.done=!0;continue}if(f.delay&&e-a.startTime<f.delay){l=!1;continue}if(o=!1,typeof x=="string"||typeof c=="string"){v.updateValue(c),v.done=!0;continue}if(f.duration!==void 0)u=x+f.easing((e-a.startTime-f.delay)/f.duration)*(c-x),y=e>=a.startTime+f.delay+f.duration;else if(f.decay)u=x+p/(1-.998)*(1-Math.exp(-(1-.998)*(e-a.startTime))),y=Math.abs(v.lastPosition-u)<.1,y&&(c=u);else{b=v.lastTime!==void 0?v.lastTime:e,p=v.lastVelocity!==void 0?v.lastVelocity:f.initialVelocity,e>b+64&&(b=e);for(var m=Math.floor(e-b),g=0;g<m;++g){var _=-f.tension*(u-c),C=-f.friction*p,E=(_+C)/f.mass;p=p+E*1/1e3,u=u+p*1/1e3}var k=f.clamp&&f.tension!==0?x<c?u>c:u<c:!1,T=Math.abs(p)<=f.precision,O=f.tension!==0?Math.abs(c-u)<=f.precision:!0;y=k||T&&O,v.lastVelocity=p,v.lastTime=e}h&&!f.toValues[w].done&&(y=!1),y?(v.value!==c&&(u=c),v.done=!0):l=!1,v.updateValue(u),v.lastPosition=u}}(a.props.onFrame||!a.props.native)&&(a.animatedProps[f.name]=f.interpolation.getValue())}(a.props.onFrame||!a.props.native)&&(!a.props.native&&a.onUpdate&&a.onUpdate(),a.props.onFrame&&a.props.onFrame(a.animatedProps)),l&&(gn.delete(a),a.debouncedOnEnd({finished:!0,noChange:o}))}gn.size?No(t):Hr=!1},cb=function(e){gn.has(e)||(gn.add(e),Hr||No(lb),Hr=!0)},Ml=function(e){gn.has(e)&&gn.delete(e)},ub=function(){function t(n,i){var s=this;i===void 0&&(i={native:!0,interpolateTo:!0,autoStart:!0}),this.getValues=function(){return s.props.native?s.interpolations:s.animatedProps},this.dependents=new Set,this.isActive=!1,this.hasChanged=!1,this.props={},this.merged={},this.animations={},this.interpolations={},this.animatedProps={},this.configs=[],this.frame=void 0,this.startTime=void 0,this.lastTime=void 0,this.update(be({},n,i))}var e=t.prototype;return e.update=function(i){var s=this;this.props=be({},this.props,i);var r=this.props.interpolateTo?$s(this.props):this.props,a=r.from,l=a===void 0?{}:a,o=r.to,d=o===void 0?{}:o,f=r.config,y=f===void 0?{}:f,b=r.delay,w=b===void 0?0:b,v=r.reverse,x=r.attach,c=r.reset,u=r.immediate,h=r.autoStart,p=r.ref;if(v){var m=[d,l];l=m[0],d=m[1]}this.hasChanged=!1;var g=x&&x(this),_=c?{}:this.merged;if(this.merged=be({},l,_,d),this.animations=Object.entries(this.merged).reduce(function(F,N,P){var B=N[0],z=N[1],D=!c&&F[B]||{},$=typeof z=="number",q=typeof z=="string"&&!z.startsWith("#")&&!/\d/.test(z)&&!hf[z],V=!$&&!q&&Array.isArray(z),K=l[B]!==void 0?l[B]:z,R=$||V||q?z:1,j=Ct(y,B);if(g&&(R=g.animations[B].parent),j.decay!==void 0||!Pn(D.changes,z)){var I;s.hasChanged=!0;var H,U;if($||q)H=U=D.parent||new Ts(K);else if(V)H=U=D.parent||new vf(K);else{var G=D.interpolation&&D.interpolation.calc(D.parent.value);D.parent?(H=D.parent,H.setValue(0,!1)):H=new Ts(0);var X={output:[G!==void 0?G:K,z]};D.interpolation?(U=D.interpolation,D.interpolation.updateConfig(X)):U=H.interpolate(X)}Ct(u,B)&&H.setValue(z,!1);var Z=Kt(H.getPayload());return Z.forEach(function(te){return te.prepare(s)}),be({},F,(I={},I[B]=be({},D,{name:B,parent:H,interpolation:U,animatedValues:Z,changes:z,fromValues:Kt(H.getValue()),toValues:Kt(g?R.getPayload():R),immediate:Ct(u,B),delay:Bt(j.delay,w||0),initialVelocity:Bt(j.velocity,0),clamp:Bt(j.clamp,!1),precision:Bt(j.precision,.01),tension:Bt(j.tension,170),friction:Bt(j.friction,26),mass:Bt(j.mass,1),duration:j.duration,easing:Bt(j.easing,function(te){return te}),decay:j.decay}),I))}else return F},this.animations),this.hasChanged){this.configs=Ls(this.animations),this.animatedProps={},this.interpolations={};for(var C in this.animations)this.interpolations[C]=this.animations[C].interpolation,this.animatedProps[C]=this.animations[C].interpolation.getValue()}for(var E=arguments.length,k=new Array(E>1?E-1:0),T=1;T<E;T++)k[T-1]=arguments[T];!p&&(h||k.length)&&this.start.apply(this,k);var O=k[0],M=k[1];return this.onEnd=typeof O=="function"&&O,this.onUpdate=M,this.getValues()},e.start=function(i,s){var r=this;return this.startTime=pf(),this.isActive&&this.stop(),this.isActive=!0,this.onEnd=typeof i=="function"&&i,this.onUpdate=s,this.props.onStart&&this.props.onStart(),cb(this),new Promise(function(a){return r.resolve=a})},e.stop=function(i){i===void 0&&(i=!1),i&&Ls(this.animations).forEach(function(s){return s.changes=void 0}),this.debouncedOnEnd({finished:i})},e.destroy=function(){Ml(this),this.props={},this.merged={},this.animations={},this.interpolations={},this.animatedProps={},this.configs=[]},e.debouncedOnEnd=function(i){Ml(this),this.isActive=!1;var s=this.onEnd;this.onEnd=null,s&&s(i),this.resolve&&this.resolve(),this.resolve=null},t}(),fb=function(t){rt(e,t);function e(n,i){var s;return s=t.call(this)||this,n.style&&(n=be({},n,{style:gf(n.style)})),s.payload=n,s.update=i,s.attach(),s}return e}(mf);function Nl(t){var e=function(n){rt(i,n);function i(r){var a;return a=n.call(this)||this,a.callback=function(){if(a.node){var l=Ss.fn(a.node,a.propsAnimated.getAnimatedValue(),ze(ze(a)));l===!1&&a.forceUpdate()}},a.attachProps(r),a}var s=i.prototype;return s.componentWillUnmount=function(){this.propsAnimated&&this.propsAnimated.detach()},s.setNativeProps=function(a){var l=Ss.fn(this.node,a,this);l===!1&&this.forceUpdate()},s.attachProps=function(a){a.forwardRef;var l=dt(a,["forwardRef"]),o=this.propsAnimated;this.propsAnimated=new fb(l,this.callback),o&&o.detach()},s.shouldComponentUpdate=function(a){var l=a.style,o=dt(a,["style"]),d=this.props,f=d.style,y=dt(d,["style"]);return!Pn(y,o)||!Pn(f,l)?(this.attachProps(a),!0):!1},s.render=function(){var a=this,l=this.propsAnimated.getValue();l.scrollTop,l.scrollLeft;var o=dt(l,["scrollTop","scrollLeft"]);return oe.createElement(t,be({},o,{ref:function(f){return a.node=xf(f,a.props.forwardRef)}}))},i}(oe.Component);return oe.forwardRef(function(n,i){return oe.createElement(e,be({},n,{forwardRef:i}))})}var wf={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},Ni=function(t){rt(e,t);function e(){for(var i,s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return i=t.call.apply(t,[this].concat(r))||this,i.state={lastProps:{from:{},to:{}},propsChanged:!1,internal:!1},i.controller=new ub(null,null),i.didUpdate=!1,i.didInject=!1,i.finished=!0,i.start=function(){i.finished=!1;var l=i.mounted;i.controller.start(function(o){return i.finish(be({},o,{wasMounted:l}))},i.update)},i.stop=function(){return i.controller.stop(!0)},i.update=function(){return i.mounted&&i.setState({internal:!0})},i.finish=function(l){var o=l.finished,d=l.noChange,f=l.wasMounted;i.finished=!0,i.mounted&&o&&(i.props.onRest&&(f||!d)&&i.props.onRest(i.controller.merged),i.mounted&&i.didInject&&(i.afterInject=_f(i.props),i.setState({internal:!0})),i.mounted&&(i.didInject||i.props.after)&&i.setState({internal:!0}),i.didInject=!1)},i}var n=e.prototype;return n.componentDidMount=function(){this.componentDidUpdate(),this.mounted=!0},n.componentWillUnmount=function(){this.mounted=!1,this.stop()},e.getDerivedStateFromProps=function(s,r){var a=r.internal,l=r.lastProps,o=s.from,d=s.to,f=s.reset,y=s.force,b=!Pn(d,l.to)||!Pn(o,l.from)||f&&!a||y&&!a;return{propsChanged:b,lastProps:s,internal:!1}},n.render=function(){var s=this,r=this.props.children,a=this.state.propsChanged;if(this.props.inject&&a&&!this.injectProps){var l=this.props.inject(this.props,function(d){s.injectProps=d,s.setState({internal:!0})});if(l)return l}(this.injectProps||a)&&(this.didInject=!1,this.injectProps?(this.controller.update(this.injectProps),this.didInject=!0):a&&this.controller.update(this.props),this.didUpdate=!0,this.afterInject=void 0,this.injectProps=void 0);var o=be({},this.controller.getValues(),this.afterInject);return this.finished&&(o=be({},o,this.props.after)),Object.keys(o).length?r(o):null},n.componentDidUpdate=function(){this.didUpdate&&this.start(),this.didUpdate=!1},e}(oe.Component);Ni.defaultProps={from:{},to:{},config:wf.default,native:!1,immediate:!1,reset:!1,force:!1,inject:df};var Cf=function(t){rt(e,t);function e(){for(var i,s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return i=t.call.apply(t,[this].concat(r))||this,i.first=!0,i.instances=new Set,i.hook=function(l,o,d,f){if(i.instances.add(l),!(f?o===d-1:o===0))return Array.from(i.instances)[f?o+1:o-1]},i}var n=e.prototype;return n.render=function(){var s=this,r=this.props,a=r.items,l=r.children,o=r.from,d=o===void 0?{}:o,f=r.initial,y=r.reverse,b=r.keys,w=r.delay,v=r.onRest,x=dt(r,["items","children","from","initial","reverse","keys","delay","onRest"]),c=Kt(a);return Kt(c).map(function(u,h){return oe.createElement(Ni,be({onRest:h===0?v:null,key:typeof b=="function"?b(u):Kt(b)[h],from:s.first&&f!==void 0?f||{}:d},x,{delay:h===0&&w||void 0,attach:function(m){return s.hook(m,h,c.length,y)},children:function(m){var g=l(u,h);return g?g(m):null}}))})},n.componentDidUpdate=function(s){this.first=!1,s.items!==this.props.items&&this.instances.clear()},e}(oe.PureComponent);Cf.defaultProps={keys:function(e){return e}};var Sf="__default",Ro=function(t){rt(e,t);function e(){for(var i,s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return i=t.call.apply(t,[this].concat(r))||this,i.guid=0,i.state={props:{},resolve:function(){return null},last:!0,index:0},i.next=function(l,o,d){return o===void 0&&(o=!0),d===void 0&&(d=0),i.running=!0,new Promise(function(f){i.mounted&&i.setState(function(y){return{props:l,resolve:f,last:o,index:d}},function(){return i.running=!1})})},i}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.componentDidUpdate({})},n.componentWillUnmount=function(){this.mounted=!1},n.componentDidUpdate=function(s){var r=this,a=this.props,l=a.states,o=a.filter,d=a.state;(s.state!==this.props.state||this.props.reset&&!this.running||!Pn(l[d],s.states[s.state]))&&l&&d&&l[d]&&function(){var f=++r.guid,y=l[d];if(y)if(Array.isArray(y))for(var b=Promise.resolve(),w=function(u){var h=u,p=y[h],m=h===y.length-1;b=b.then(function(){return f===r.guid&&r.next(o(p),m,h)})},v=0;v<y.length;v++)w(v);else if(typeof y=="function"){var x=0;y(function(c,u){return u===void 0&&(u=!1),f===r.guid&&r.next(o(c),u,x++)},function(){return No(function(){return r.instance&&r.instance.stop()})},r.props)}else r.next(o(l[d]))}()},n.render=function(){var s=this,r=this.state,a=r.props,l=r.resolve,o=r.last,d=r.index;if(!a||Object.keys(a).length===0)return null;var f=this.props;f.state,f.filter,f.states;var y=f.config,b=f.primitive,w=f.onRest,v=f.forwardRef,x=dt(f,["state","filter","states","config","primitive","onRest","forwardRef"]);return Array.isArray(y)&&(y=y[d]),oe.createElement(b,be({ref:function(u){return s.instance=xf(u,v)},config:y},x,a,{onRest:function(u){l(u),w&&o&&w(u)}}))},e}(oe.PureComponent);Ro.defaultProps={state:Sf};var jn=oe.forwardRef(function(t,e){return oe.createElement(Ro,be({},t,{forwardRef:e}))});jn.create=function(t){return function(e,n){var i;return n===void 0&&(n=function(r){return r}),(typeof e=="function"||Array.isArray(e))&&(e=(i={},i[Sf]=e,i)),function(s){return oe.createElement(Ro,be({primitive:t,states:e,filter:n},s))}}};jn.Spring=function(t){return jn.create(Ni)(t,$s)};jn.Trail=function(t){return jn.create(Cf)(t,$s)};var db=0,Ol=function(e){var n=e.items,i=e.keys,s=dt(e,["items","keys"]);return n=Kt(n!==void 0?n:null),i=typeof i=="function"?n.map(i):Kt(i),be({items:n,keys:i.map(function(r){return String(r)})},s)},hb=function(t){rt(n,t);var e=n.prototype;e.componentDidMount=function(){this.mounted=!0},e.componentWillUnmount=function(){this.mounted=!1};function n(i){var s;return s=t.call(this,i)||this,s.destroyItem=function(r,a,l){return function(o){var d=s.props,f=d.onRest,y=d.onDestroyed;s.mounted&&(y&&y(r),s.setState(function(b){var w=b.deleted;return{deleted:w.filter(function(v){return v.key!==a})}}),f&&f(r,l,o))}},s.state={first:!0,transitions:[],current:{},deleted:[],prevProps:i},s}return n.getDerivedStateFromProps=function(s,r){var a=r.first,l=r.prevProps,o=dt(r,["first","prevProps"]),d=Ol(s),f=d.items,y=d.keys,b=d.initial,w=d.from,v=d.enter,x=d.leave,c=d.update,u=d.trail,h=u===void 0?0:u,p=d.unique,m=d.config,g=Ol(l),_=g.keys,C=g.items,E=be({},o.current),k=[].concat(o.deleted),T=Object.keys(E),O=new Set(T),M=new Set(y),F=y.filter(function(D){return!O.has(D)}),N=o.transitions.filter(function(D){return!D.destroyed&&!M.has(D.originalKey)}).map(function(D){return D.originalKey}),P=y.filter(function(D){return O.has(D)}),B=0;F.forEach(function(D){p&&k.find(function(K){return K.originalKey===D})&&(k=k.filter(function(K){return K.originalKey!==D}));var $=y.indexOf(D),q=f[$],V="enter";E[D]={state:V,originalKey:D,key:p?String(D):db++,item:q,trail:B=B+h,config:Ct(m,q,V),from:Ct(a&&b!==void 0?b||{}:w,q),to:Ct(v,q)}}),N.forEach(function(D){var $=_.indexOf(D),q=C[$],V="leave";k.push(be({},E[D],{state:V,destroyed:!0,left:_[Math.max(0,$-1)],right:_[Math.min(_.length,$+1)],trail:B=B+h,config:Ct(m,q,V),to:Ct(x,q)})),delete E[D]}),P.forEach(function(D){var $=y.indexOf(D),q=f[$],V="update";E[D]=be({},E[D],{item:q,state:V,trail:B=B+h,config:Ct(m,q,V),to:Ct(c,q)})});var z=y.map(function(D){return E[D]});return k.forEach(function(D){var $=D.left,q=D.right,V=dt(D,["left","right"]),K;(K=z.findIndex(function(R){return R.originalKey===$}))!==-1&&(K+=1),K===-1&&(K=z.findIndex(function(R){return R.originalKey===q})),K===-1&&(K=k.findIndex(function(R){return R.originalKey===$})),K===-1&&(K=k.findIndex(function(R){return R.originalKey===q})),K=Math.max(0,K),z=[].concat(z.slice(0,K),[V],z.slice(K))}),{first:a&&F.length===0,transitions:z,current:E,deleted:k,prevProps:s}},e.render=function(){var s=this,r=this.props;r.initial,r.from,r.enter,r.leave,r.update,r.onDestroyed,r.keys,r.items;var a=r.onFrame,l=r.onRest,o=r.onStart;r.trail,r.config;var d=r.children;r.unique;var f=r.reset,y=dt(r,["initial","from","enter","leave","update","onDestroyed","keys","items","onFrame","onRest","onStart","trail","config","children","unique","reset"]);return this.state.transitions.map(function(b,w){var v,x=b.state,c=b.key,u=b.item,h=b.from,p=b.to,m=b.trail,g=b.config,_=b.destroyed;return oe.createElement(jn,be({reset:f&&x==="enter",primitive:Ni,state:x,filter:$s,states:(v={},v[x]=p,v),key:c,onRest:_?s.destroyItem(u,c,x):l&&function(C){return l(u,x,C)},onStart:o&&function(){return o(u,x)},onFrame:a&&function(C){return a(u,x,C)},delay:m,config:g},y,{from:h,children:function(E){var k=d(u,x,w);return k?k(E):null}}))})},n}(oe.PureComponent);hb.defaultProps={keys:function(e){return e},unique:!1,reset:!1};var pb=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],gb=pb.reduce(function(t,e){return t[e]=Nl(e),t},Nl),mb=function(e){return oe.createElement("svg",be({},e,{viewBox:"64 -65 897 897"}),oe.createElement("g",null,oe.createElement("path",{d:"M888 760v0v0v-753v0h-752v0v753v0h752zM888 832h-752q-30 0 -51 -21t-21 -51v-753q0 -29 21 -50.5t51 -21.5h753q29 0 50.5 21.5t21.5 50.5v753q0 30 -21.5 51t-51.5 21v0zM732 347h-442q-14 0 -25 10.5t-11 25.5v0q0 15 11 25.5t25 10.5h442q14 0 25 -10.5t11 -25.5v0 q0 -15 -11 -25.5t-25 -10.5z"})))},yb=function(e){return oe.createElement("svg",be({},e,{viewBox:"64 -65 897 897"}),oe.createElement("g",null,oe.createElement("path",{d:"M888 760v0v0v-753v0h-752v0v753v0h752zM888 832h-752q-30 0 -51 -21t-21 -51v-753q0 -29 21 -50.5t51 -21.5h753q29 0 50.5 21.5t21.5 50.5v753q0 30 -21.5 51t-51.5 21v0zM732 420h-184v183q0 15 -10.5 25.5t-25.5 10.5v0q-14 0 -25 -10.5t-11 -25.5v-183h-184 q-15 0 -25.5 -11t-10.5 -25v0q0 -15 10.5 -25.5t25.5 -10.5h184v-183q0 -15 11 -25.5t25 -10.5v0q15 0 25.5 10.5t10.5 25.5v183h184q15 0 25.5 10.5t10.5 25.5v0q0 14 -10.5 25t-25.5 11z"})))},Ef=function(e){return oe.createElement("svg",be({},e,{viewBox:"61 51 902 666"}),oe.createElement("g",null,oe.createElement("path",{d:"M963 384q0 14 -21 62q-26 65 -61 109q-57 71 -139 112q-99 50 -230 50t-231 -50q-80 -41 -138 -112q-34 -43 -61 -109q-21 -48 -21 -62v0v0v0v0q0 -14 21 -62q27 -66 61 -109q57 -71 139 -112q100 -50 230 -50t230 50q81 41 139 112q35 44 62 109q20 48 20 62v0v0v0v0z M889 384q-25 -77 -64 -126h-1q-46 -59 -114 -93q-85 -42 -198.5 -42t-198.5 42q-67 34 -114 93q-40 49 -65 126q25 77 65 126q47 59 114 93q85 43 199 43t198 -43q67 -33 114 -93q40 -49 65 -126zM512 558q-72 0 -122.5 -50.5t-50.5 -122.5t50.5 -122.5t122.5 -50.5 t122.5 50.5t50.5 122.5t-50.5 122.5t-122.5 50.5zM614 385q0 -42 -30 -72t-72 -30t-72 30t-30 72t30 72t72 30t72 -30t30 -72z"})))},bb=function(e){return oe.createElement("svg",be({},e,{viewBox:"64 -65 897 897"}),oe.createElement("g",null,oe.createElement("path",{d:"M717.5 589.5q-10.5 10.5 -25.5 10.5t-26 -10l-154 -155l-154 155q-11 10 -26 10t-25.5 -10.5t-10.5 -25.5t11 -25l154 -155l-154 -155q-11 -10 -11 -25t10.5 -25.5t25.5 -10.5t26 10l154 155l154 -155q11 -10 26 -10t25.5 10.5t10.5 25t-11 25.5l-154 155l154 155 q11 10 11 25t-10.5 25.5zM888 760v0v0v-753v0h-752v0v753v0h752zM888 832h-752q-30 0 -51 -21t-21 -51v-753q0 -29 21 -50.5t51 -21.5h753q29 0 50.5 21.5t21.5 50.5v753q0 30 -21.5 51t-51.5 21v0z"})))},vb=Object.freeze({PlusSquareO:yb,MinusSquareO:mb,CloseSquareO:bb,EyeO:Ef}),Zn={tree:{position:"relative",padding:"4px 0px 0px 0px",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",verticalAlign:"middle"},toggle:{width:"1em",height:"1em",marginRight:10,cursor:"pointer",verticalAlign:"middle"},type:{textTransform:"uppercase",fontFamily:"monospace",fontSize:"0.6em",verticalAlign:"middle"},contents:{willChange:"transform, opacity, height",marginLeft:6,padding:"4px 0px 0px 14px",borderLeft:"1px dashed rgba(255,255,255,0.4)"}},Do=function(t){rt(e,t);function e(i){var s;return s=t.call(this)||this,Cs(ze(ze(s)),"toggle",function(){return s.props.children&&s.setState(function(r){return{open:!r.open,immediate:!1}})}),Cs(ze(ze(s)),"toggleVisibility",function(){s.setState(function(r){return{visible:!r.visible,immediate:!0}},function(){return s.props.onClick&&s.props.onClick(s.state.visible)})}),s.state={open:i.open,visible:i.visible,immediate:!1},s}var n=e.prototype;return n.componentWillReceiveProps=function(s){var r=this;this.setState(function(a){return["open","visible"].reduce(function(l,o){var d;return r.props[o]!==s[o]?be({},l,(d={},d[o]=s[o],d)):l},{})})},n.render=function(){var s=this.state,r=s.open,a=s.visible,l=s.immediate,o=this.props,d=o.children,f=o.content,y=o.type,b=o.style,w=o.canHide,v=o.springConfig,x=vb[(d?r?"Minus":"Plus":"Close")+"SquareO"];return oe.createElement("div",{style:be({},Zn.tree,b),className:"treeview"},oe.createElement(x,{className:"toggle",style:be({},Zn.toggle,{opacity:d?1:.3}),onClick:this.toggle}),oe.createElement("span",{style:be({},Zn.type,{marginRight:y?10:0})},y),w&&oe.createElement(Ef,{className:"toggle",style:be({},Zn.toggle,{opacity:a?1:.4}),onClick:this.toggleVisibility}),oe.createElement("span",{style:{verticalAlign:"middle"}},f),oe.createElement(Ni,be({native:!0,immediate:l,config:be({},wf.default,{precision:.1}),from:{height:0,opacity:0,transform:"translate3d(20px,0,0)"},to:{height:r?"auto":0,opacity:r?1:0,transform:r?"translate3d(0px,0,0)":"translate3d(20px,0,0)"}},v&&v(r)),function(c){return oe.createElement(gb.div,{style:be({},c,Zn.contents)},d)}))},e}(oe.PureComponent);Cs(Do,"defaultProps",{open:!1,visible:!0,canHide:!1});Cs(Do,"propTypes",{open:$n.bool,visible:$n.bool,canHide:$n.bool,content:$n.node,springConfig:$n.func});const _b=Do,xb={fill:"white"};function kf({name:t,parent_id:e,init_level:n,setLevel:i}){const s=lf(n+1),{data:r,refetch:a,isFetching:l}=je({enabled:!1,initialData:[],queryKey:[`dhs2-level-${n}-${e}`],queryFn:s?async()=>s.fun(e):async()=>he.get(`dhs2/${e}/`)});return S.jsxs(_b,{style:xb,open:l||r.length,content:S.jsx("span",{className:"cursor",onClick:()=>{a()},children:t}),onClick:()=>i({level:n,id:e}),children:[l&&S.jsx(Ne,{}),r.map(o=>S.jsx(kf,{name:o.name,parent_id:o.code,tree:"",init_level:n+1,setLevel:i},o.name))]})}function wb(){const[{level:t,id:e},n]=oe.useState({level:1,id:null}),{data:i}=je({initialData:[],queryKey:[`dhs2-level-${t}`],queryFn:async()=>he.get("dhs2/",{params:{level:t}})}),{Data:s}=ge({fr:{visualization_is_not_supported_at_this_level:"La visualisation n'est pas prise en charge à ce niveau"}}),r=lf(t+1);return S.jsx(Eo,{ComponentLeft:()=>i.map(a=>S.jsx(kf,{name:a.name,parent_id:a.code,init_level:t,setLevel:n},a.name)),ComponentLeftProps:{},ComponentRight:r?()=>S.jsx(r.Component,{parent_id:e}):()=>S.jsx("div",{className:"flex",style:{height:"100%",width:"100%"},children:S.jsx(vt,{text:`${s.visualization_is_not_supported_at_this_level} - ${t}`,type:"danger"})}),ComponentRightProps:{}})}function Cb(){const[t,e]=Ze(!0);return S.jsxs("div",{style:{height:"100%",width:"100%",padding:"1rem"},className:"scroll scroll_x",children:[S.jsxs("div",{className:"flex",style:{justifyContent:"space-between"},children:[S.jsx("div",{}),S.jsxs("div",{className:"flex",style:{gap:"1rem"},children:[S.jsx("p",{children:"Old screen"}),S.jsx(su,{onChange:e})]})]}),t?S.jsx(wb,{}):S.jsx(Ty,{})]})}function Sb(){return S.jsxs("div",{className:"flex",style:{height:"100%",width:"100%",overflow:"hidden",flexDirection:"column",justifyContent:"flex-start"},children:[S.jsx("div",{style:{borderBottom:"0.15rem solid var(--primaryColor)",width:"100%"},children:S.jsx(Su,{links:[{path:"open-data-kit",label:"Open Data Kit"},{path:"enketo-smart-paper",label:"Enketo Smart Paper"},{path:"dhs2",label:"DHS2"},{path:"ona",label:"Ona"}]})}),S.jsxs(wn,{children:[S.jsx(ye,{path:"open-data-kit/*",element:S.jsx(Dt,{})}),S.jsx(ye,{path:"enketo-smart-paper/*",element:S.jsx(Dt,{})}),S.jsx(ye,{path:"dhs2/*",element:S.jsx(Cb,{})}),S.jsx(ye,{path:"ona/*",element:S.jsx(Dt,{})})]})]})}function Eb({onSubmit:t}){var c;const{register:e,subscribe:n,handleSubmit:i,setValue:s,getValues:r,setError:a,watch:l,formState:{errors:o}}=Bl({defaultValues:{}}),{User:d}=Ft(),{Data:f}=ge(),[y,b,w,v]=ic({queries:[{enabled:!1,initialData:[],queryKey:["db-list"],queryFn:async()=>he.get("/backup/databases",{headers:{"x-data-time":r("year")}})},{enabled:!1,initialData:[],queryKey:["register-list"],queryFn:async()=>he.get("/backup/registers",{headers:{"x-data-time":r("year"),"x-data-source":`DB_${r("year")}_${r("month")}`}})},{enabled:!1,initialData:[],queryKey:["admin-gasc"],queryFn:async()=>he.get("/group/",{params:{cs__admin__email:d.email}})},{enabled:!1,initialData:[],queryKey:["group-agent-group_id"],queryFn:async()=>he.get("/agent/",{params:{group_id:l("group_id")}})}]});le.useEffect(()=>{const u=[n(["year","month"],(h,{year:p,month:m})=>p&&m&&b.refetch()),n(["group_id"],()=>v.refetch())];return w.refetch(),()=>u.forEach(h=>h.unsubscribe())},[]);const x=async u=>mo(du,u).then(h=>t(r(),{agent:v.data.find(p=>p.id==r("agent_id")),group:w.data.find(p=>p.id==r("group_id"))})).catch(h=>h.forEach(p=>a(p.field,{type:"custom",message:p.msg})));return S.jsxs("form",{className:"flex",style:{flexDirection:"column",rowGap:"1rem"},onChange:({target:{name:u,value:h}})=>s(u,h),onSubmit:i(x),children:[S.jsx(nt,{title:f.year,error:o.year,...e("year"),options:[2023,2024,2025].map(u=>({label:u}))}),S.jsx(nt,{title:f.month,error:o.month,...e("month"),options:(c=f.month_list)==null?void 0:c.map((u,h)=>({label:u,value:h+1}))}),S.jsx(nt,{title:f.register,error:o.register,...e("register"),isLoading:b.isFetching,options:b.data.map(u=>({label:u}))}),S.jsx(nt,{title:"GASC",error:o.group_id,...e("group_id"),isLoading:w.isFetching,options:w.data.map(u=>({label:u.name,value:u.id}))}),S.jsx(nt,{title:"AGENT",...e("agent_id"),isLoading:v.isFetching,options:v.data.map(u=>({label:u.fullname,value:u.id}))}),S.jsx(bt,{buttonText:f.search,iconClass:"fas fa-search"})]})}function kb(){return S.jsx(Dt,{})}const Ji={};function Tb(){const{isFetching:t,data:{data:e,params:n},refetch:i}=je({enabled:!1,queryKey:["backup-data"],initialData:{data:[],params:{}},queryFn:async()=>he.get(`/backup/${Ji.register}`,{params:Ji}).then(a=>({data:a,params:Ji}))}),[s,r]=Ze(!Object.keys(n).length);return S.jsxs("div",{style:{padding:"0.5rem",height:"100%"},children:[S.jsx(Fs,{show:s,style:{width:"25rem"},title:S.jsxs("div",{className:"flex",style:{borderBottom:"0.1rem solid var(--primaryColor)",justifyContent:"space-between",paddingBottom:"0.5rem"},children:[S.jsxs("h3",{children:[S.jsx("i",{className:"fas fa-filter"})," FILTER"]}),S.jsx(Li,{onClick:r})]}),children:S.jsx(Eb,{onSubmit:a=>{Object.keys(a).forEach(l=>Ji[l]=a[l]),r(),i(a)}})}),S.jsxs("div",{className:"flex",style:{justifyContent:"space-between",borderBottom:"0.1rem solid var(--primaryColor)",paddingBottom:"0.5rem"},children:[S.jsx("h1",{children:"FILTER RAW BACKUP DATA"}),S.jsxs("button",{onClick:r,className:"button primary",style:{width:"fit-content",padding:"0.35rem 1.5rem"},children:[S.jsx("i",{className:"fas fa-filter",style:{marginRight:"0.7rem"}}),"FILTER"]})]}),S.jsxs("div",{className:"flex",style:{gap:"1rem",justifyContent:"flex-start",borderBottom:"0.1rem solid var(--primaryColor)",padding:"0.5rem 0rem"},children:[S.jsx(Se,{title:"DATA SIZE",value:S.jsx("h2",{className:"number-ship",children:e.length})}),S.jsx(Se,{title:"YEAR",value:S.jsx("h2",{className:"number-ship",children:n.year||"----"})}),S.jsx(Se,{title:"MONTH",value:S.jsx("h2",{className:"number-ship",children:n.month||"----"})}),S.jsx(Se,{title:"REGISTER",value:S.jsx("h2",{className:"number-ship",children:n.register||"----"})})]}),t&&S.jsx(Ne,{}),S.jsx(kb,{data:e})]})}const Lb=function(){return null},Ab="/assets/notfound404-f3c90dbd.svg";function Mb(){return S.jsxs("div",{className:"flex",style:{width:"100%",height:"100%",flexDirection:"column",padding:"5rem",backgroundColor:""},children:[S.jsx(_t,{src:Ab,style:{objectFit:"contain",width:"30vw",height:"30vh"}}),S.jsxs("h2",{style:{fontSize:"2rem",marginTop:"2rem"},children:["Not Found Page, ",S.jsx(qr,{to:"/dashboard",children:"Go back home"})," "]})]})}function Nb(){return Ci.createPortal(S.jsx(Dr,{theme:"dark",position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),document.getElementById("toast-elements"))}const Ob=new Jf({defaultOptions:{queries:{refetchOnWindowFocus:!1}}});function Ib(){const{User:t,set:e}=Ft(),n=$r();return oe.useEffect(()=>{t||n("/"),he.get("/dhs2/",{params:{level:5}}).then(i=>e("AR",i||[]))},[t]),t?S.jsxs(Ff,{client:Ob,children:[S.jsx(Lb,{initialIsOpen:!0}),S.jsx(Nb,{}),S.jsx(Cm,{}),S.jsx(wm,{}),S.jsxs(wn,{children:[S.jsx(ye,{path:"/",element:S.jsx(uy,{})}),S.jsxs(ye,{element:S.jsx(wy,{}),children:[S.jsx(ye,{path:"admin",element:S.jsx(yy,{})}),S.jsx(ye,{path:"cs/*",element:S.jsx(x1,{})}),S.jsx(ye,{path:"gasc/*",element:S.jsx(fy,{})}),S.jsx(ye,{path:"agent/*",element:S.jsx(dy,{})}),S.jsx(ye,{path:"caneva/*",element:S.jsx(_y,{})}),S.jsx(ye,{path:"document/*",element:S.jsx(xy,{})}),S.jsx(ye,{path:"backup/*",element:S.jsx(Tb,{})}),S.jsx(ye,{path:"map/*",element:S.jsx(Dt,{})}),S.jsx(ye,{path:"faq/*",element:S.jsx(T1,{})}),S.jsx(ye,{path:"level-browser/*",element:S.jsx(Sb,{})})]}),S.jsx(ye,{path:"*",element:S.jsx(Mb,{})})]})]}):S.jsx(S.Fragment,{})}export{Ib as default};
